/*    HTTP Host:  static.ak.connect.facebook.com                               */
/*    Generated:  December 9th 2009 6:49:56 PM PST                             */
/*      Machine:  10.17.32.102                                                 */
/*       Source:  Local/Global Cache                                           */
/*     Location:  JIT Construction: v206026                                    */
/*       Locale:  pt_BR                                                        */
/*   Components:  js/connect/core/FB/monitorWrapper.js:r205668,js/connect/core/FB/prelude.js:r205053,js/connect/core/FB/log.js:r205053,js/connect/core/FB/class.js:r205053,js/connect/core/FB/Type.js:r205053,js/connect/core/FB/Debug.js:r205053,js/connect/core/FB/Sys.js:r205053,js/connect/FB/json.js:r205053,js/connect/FB/XdComm/PageRelation.js:r205053,js/connect/core/FB/ArrayEnumerator.js:r205053,js/connect/FB/XdComm/_packet.js:r205053,js/connect/FB/XdComm/_packetType.js:r205053,js/connect/FB/XdComm/_sendChannel.js:r205053,js/connect/FB/XdComm/EndPoint.js:r205053,js/connect/core/FB/StringBuilder.js:r205053,js/connect/FB/XdComm/_fragDataHolder.js:r205053,js/connect/FB/XdComm/_receiveChannel.js:r205053,js/connect/core/FB/HiddenContainer.js:r205053,js/connect/FB/XdComm/PacketDataFormat.js:r205053,js/connect/core/FB/Enum.js:r205053,js/connect/FBIntern/FbGlobals.js:r205053,js/connect/FB/Waitable.js:r205053,js/connect/FB/SimpleWaitable.js:r205053,js/connect/FBIntern/HostName.js:r205053,js/connect/FBIntern/HostInfo.js:r205053,js/connect/FBIntern/AppInfo.js:r205053,js/connect/FB/Size.js:r205053,js/connect/FB/Point.js:r205053,js/connect/FBIntern/Uri.js:r205053,js/connect/FBIntern/Utility.js:r205053,js/connect/FBIntern/Flash.js:r205053,js/connect/core/FB/Loader.js:r205053,js/connect/core/FB/Delegate.js:r205053,js/connect/core/FB/Bootstrap.js:r205053,js/connect/FB/XdComm/Server.js:r205053,js/connect/FB/XdComm/XdRpcClient.js:r205053,js/connect/FB/XdComm/XdRpcServer.js:r205053,js/connect/FB/XdComm/XdRpcMethodInfo.js:r205053,js/connect/FB/IFrameUtil/_resizeUtil.js:r205053,js/connect/FB/IFrameUtil/_canvasUtil.js:r205053,js/connect/FB/IFrameUtil/CanvasUtilServer.js:r205053,js/connect/FB/FeedDialogInfo.js:r205053,js/connect/FB/_stepInfo.js:r205053,js/connect/FB/SequencerBase.js:r205053,js/connect/FB/BatchSequencer.js:r205053,js/connect/FB/ImmediateSequencer.js:r205053,js/connect/FB/FeedStorySize.js:r205053,js/connect/FB/UI/PopupPlacement.js:r205053,js/connect/FB/IFrameUtil/ResizeUtilServer.js:r205053,js/connect/FB/UI/UIElement.js:r205053,js/connect/FBIntern/UIHelper.js:r205053,js/connect/FB/UI/DomResources.js:r205053,js/connect/FB/UI/Popup.js:r205053,js/connect/FB/UI/PopupDialog.js:r205053,js/connect/FB/UI/FBMLPopupDialog.js:r205053,js/connect/FBIntern/Cookie.js:r205053,js/connect/FBIntern/md5.js:r205053,js/connect/FB/ApiErrorCode.js:r205053,js/connect/FB/PendingResult.js:r205053,js/connect/FB/_xdJsonRequest.js:r205053,js/connect/FB/SessionRecord.js:r205053,js/connect/FB/XdHttpRequestResult.js:r205053,js/connect/FB/_xdHttpRequestClient.js:r205053,js/connect/FB/ApiClient.js:r205637,js/connect/FB/Facebook.js:r205053,js/connect/FB/Helper.js:r205053,js/connect/FB/UI/DomResDict.js:r205053,js/connect/core/FB/intl-core.js:r205053,js/connect/FB/RequireConnect.js:r205053,js/connect/FB/UserInfoRecord.js:r205053,js/connect/FB/FeedStorySetting.js:r205053,js/connect/FB/_contentSizeMethod.js:r205053,js/connect/FB/CanvasClient.js:r205053,js/connect/FB/DialogType.js:r205053,js/connect/FB/ConnectState.js:r205053,js/connect/FB/SessionDialog.js:r205053,js/connect/FB/Connect.js:r205053,js/connect/FB/XFBML/_elementState.js:r205053,js/connect/FB/DependentWaitable.js:r205053,js/connect/FB/XFBML/Element.js:r205053,js/connect/FB/XFBML/Data/_cachedItem.js:r205053,js/connect/FB/XFBML/Data/_fqlCache.js:r205053,js/connect/FB/XFBML/Data/CacheManager.js:r205053,js/connect/FB/XFBML/Data/FqlTable.js:r205053,js/connect/FB/XFBML/Resources/ResourceDict.js:r205053,js/connect/FB/XFBML/Context.js:r205053,js/connect/FBIntern/DataHelper.js:r205053,js/connect/FB/XFBML/ConnectUtility.js:r205053,js/connect/FB/XFBML/BookmarkButton.js:r205053,js/connect/FB/XFBML/Fan.js:r205053,js/connect/FB/XFBML/GenericConnectButton.js:r205053,js/connect/FB/XFBML/AddToWishList.js:r205053,js/connect/FB/XFBML/Like.js:r205053,js/connect/FB/XFBML/Pay.js:r205053,js/connect/FB/XFBML/LiveStream.js:r205053,js/connect/FB/XFBML/Comments.js:r205053,js/connect/FB/XFBML/AddSectionButton.js:r205053,js/connect/FB/XFBML/ShareButton.js:r205053,js/connect/FB/XFBML/PromptPermission.js:r205053,js/connect/FB/XFBML/ProfilePic.js:r205053,js/connect/FB/XFBML/UserLink.js:r205053,js/connect/FB/XFBML/UserStatus.js:r205053,js/connect/FB/XFBML/ContainerElement.js:r205053,js/connect/FB/XFBML/UnconnectedFriendsCount.js:r205053,js/connect/FB/XFBML/Video.js:r205053,js/connect/FB/XFBML/Photo.js:r205053,js/connect/FB/XFBML/GroupLink.js:r205053,js/connect/FB/XFBML/EventLink.js:r205053,js/connect/FB/XFBML/ServerFbml.js:r205053,js/connect/FB/XFBML/Common/Constants.js:r205053,js/connect/FB/XFBML/Name.js:r205053,js/connect/FB/XFBML/Pronoun.js:r205053,js/connect/FB/XFBML/LoginButton.js:r205053,js/connect/FB/XFBML/ElementsRegistration.js:r205053,js/connect/FB/XFBML/Host.js:r205666,js/connect/FBIntern/LoginStatus.js:r205053,js/connect/FB/XFBML/OperatorType.js:r205053,js/connect/FB/XFBML/Operator.js:r205053,js/connect/FB/XFBML/_permisionTable.js:r205053,js/connect/FB/XFBML/Conditions.js:r205053,js/connect/FB/XdHttpRequestServer.js:r205053,js/connect/core/FB/monitorSender.js:r205053,js/connect/OldFeatures/XFBML.js:r205053 */

if (window.CavalryLogger) { CavalryLogger.start_js(["FB.monitor-wrapper","FB.Prelude","FB.Log","FB.Class","FB.Type","FB.FBDebug","FB.Sys","FB.JSON","FB.XdComm.PageRelation","FB.ArrayEnumerator","FB.XdComm._packet","FB.XdComm._packetType","FB.XdComm._sendChannel","FB.XdComm.EndPoint","FB.StringBuilder","FB.XdComm._fragDataHolder","FB.XdComm._receiveChannel","FB.HiddenContainer","FB.XdComm.PacketDataFormat","FB.Enum","FBIntern.FbGlobals","FB.Waitable","FB.SimpleWaitable","FBIntern.HostName","FBIntern.HostInfo","FBIntern.AppInfo","FB.Size","FB.Point","FBIntern.Uri","FBIntern.Utility","FBIntern.Flash","FB.Loader","FB.Delegate","FB.Bootstrap","FB.XdComm.Server","FB.XdComm.XdRpcClient","FB.XdComm.XdRpcServer","FB.XdComm.XdRpcMethodInfo","FB.IFrameUtil._resizeUtil","FB.IFrameUtil._canvasUtil","FB.IFrameUtil.CanvasUtilServer","FB.FeedDialogInfo","FB._stepInfo","FB.SequencerBase","FB.BatchSequencer","FB.ImmediateSequencer","FB.FeedStorySize","FB.UI.PopupPlacement","FB.IFrameUtil.ResizeUtilServer","FB.UI.UIElement","FBIntern.UIHelper","FB.UI.DomResources","FB.UI.Popup","FB.UI.PopupDialog","FB.UI.FBMLPopupDialog","FBIntern.Cookie","FBIntern.Md5","FB.ApiErrorCode","FB.PendingResult","FB._xdJsonRequest","FB.SessionRecord","FB.XdHttpRequestResult","FB._xdHttpRequestClient","FB.ApiClient","FB.Facebook","FB.Helper","FB.UI.DomResDict","FBIntern.Intl","FB.RequireConnect","FB.UserInfoRecord","FB.FeedStorySetting","FB._contentSizeMethod","FB.CanvasClient","FB.DialogType","FB.ConnectState","FB.SessionDialog","FB.Connect","FB.XFBML._elementState","FB.DependentWaitable","FB.XFBML.Element","FB.XFBML.Data._cachedItem","FB.XFBML.Data._fqlCache","FB.XFBML.Data.CacheManager","FB.XFBML.Data.FqlTable","FB.XFBML.Resources.ResourceDict","FB.XFBML.Context","FBIntern.DataHelper","FB.XFBML.ConnectUtility","FB.XFBML.BookmarkButton","FB.XFBML.Fan","FB.XFBML.GenericConnectButton","FB.XFBML.AddToWishList","FB.XFBML.Like","FB.XFBML.Pay","FB.XFBML.LiveStream","FB.XFBML.Comments","FB.XFBML.AddSectionButton","FB.XFBML.ShareButton","FB.XFBML.PromptPermission","FB.XFBML.ProfilePic","FB.XFBML.UserLink","FB.XFBML.UserStatus","FB.XFBML.ContainerElement","FB.XFBML.UnconnectedFriendsCount","FB.XFBML.Video","FB.XFBML.Photo","FB.XFBML.GroupLink","FB.XFBML.EventLink","FB.XFBML.ServerFbml","FB.XFBML.Common.Constants","FB.XFBML.Name","FB.XFBML.Pronoun","FB.XFBML.LoginButton","FB.XFBML.ElementsRegistration","FB.XFBML.Host","FBIntern.LoginStatus","FB.XFBML.OperatorType","FB.XFBML.Operator","FB.XFBML._permisionTable","FB.XFBML.Conditions","FB.XdHttpRequestServer","FB.monitor-sender","XFBML","Base","Common","XdComm","Api","Connect","Integration","CanvasUtil"]); }

if (!window.FB) {FB = {};} if(!FB.dynData) { FB.dynData = {"site_vars":{"canvas_client_compute_content_size_method":1,"use_postMessage":1,"use_xdProxy":0,"monitor_usage_regex":"somethingtoputhere.com","monitor_usage_rate":1,"enable_custom_href":0},"resources":{"base_url_format":"http:\/\/{0}.connect.facebook.com\/","base_cdn_url":"http:\/\/static.ak.fbcdn.net\/","api_channel":203625,"api_server":203625,"www_channel":203625,"xd_proxy":205603,"xd_comm_swf_url":"http:\/\/static.ak.fbcdn.net\/swf\/XdComm.swf","share_button":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zAB5S\/hash\/4273uaqa.gif","login_img_dark_small_short":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zF1W2\/hash\/a969rwcd.gif","login_img_dark_medium_short":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zEF9L\/hash\/156b4b3s.gif","login_img_dark_medium_long":"http:\/\/c.static.ak.fbcdn.net\/rsrc.php\/zBIU2\/hash\/85b5jlja.gif","login_img_dark_large_short":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/z1UX3\/hash\/a22m3ibb.gif","login_img_dark_large_long":"http:\/\/c.static.ak.fbcdn.net\/rsrc.php\/z7SXD\/hash\/8mzymam2.gif","login_img_light_small_short":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zDGBW\/hash\/8t35mjql.gif","login_img_light_medium_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z38X1\/hash\/6ad3z8m6.gif","login_img_light_medium_long":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zB6N8\/hash\/4li2k73z.gif","login_img_light_large_short":"http:\/\/c.static.ak.fbcdn.net\/rsrc.php\/zA114\/hash\/7e3mp7ee.gif","login_img_light_large_long":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/z4Z4Q\/hash\/8rc0izvz.gif","login_img_white_small_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z900E\/hash\/di0gkqrt.gif","login_img_white_medium_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/z10GM\/hash\/cdozw38w.gif","login_img_white_medium_long":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zBT3E\/hash\/338d3m67.gif","login_img_white_large_short":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zCOUP\/hash\/8yzn0wu3.gif","login_img_white_large_long":"http:\/\/c.static.ak.fbcdn.net\/rsrc.php\/zC6AR\/hash\/5pwowlag.gif","logout_img_small":"http:\/\/c.static.ak.fbcdn.net\/rsrc.php\/z2Y31\/hash\/cxrz4k7j.gif","logout_img_medium":"http:\/\/static.ak.fbcdn.net\/rsrc.php\/zAD8D\/hash\/4lsqsd7l.gif","logout_img_large":"http:\/\/b.static.ak.fbcdn.net\/rsrc.php\/zB36N\/hash\/4515xk7j.gif"}};} if (!FB.locale) {FB.locale = "pt_BR";} if (!FB.localeIsRTL) {FB.localeIsRTL = false;}
if(!window.FB)FB={};if(!FB.Monitor)FB.Monitor={wrapObject:function(_L0,_L1,_L2){if(typeof(_L0)!="object")return _L0;if(!FB.Monitor.loggingEnabled())return _L0;if(_L1=='FB.Debug'||_L1=='FB.HiddenContainer'||_L1=='FB.XdComm.Server'||_L1.indexOf('FBIntern')==0)return _L0;for(var key in _L0){var fcn=_L0[key];if(!_L0.hasOwnProperty(key)||typeof(fcn)!='function'||fcn.wrapped)continue;var _L5={containerName:_L1,functionName:key};_L0[key]=FB.Monitor._monitorWrapper(fcn,_L0,_L2,_L5);_L0[key].wrapped=true;}return _L0;},loggingEnabled:function(){if(FB.Monitor.loggingEnabledCache===null){var _L0=FB.dynData&&FB.dynData['site_vars']&&FB.dynData['site_vars']['monitor_usage_regex'];if(!_L0){FB.Monitor.loggingEnabledCache=false;}else{var _L1=new RegExp(_L0);var _L2=FB.dynData['site_vars']['monitor_usage_rate'];FB.Monitor.loggingEnabledCache=_L1.test(document.domain)?(Math.random()/_L2)<1:false;}}return FB.Monitor.loggingEnabledCache;},externalCallback:function(_L0){if(typeof(_L0)!='function')return _L0;return function(){var _L1=FB.Monitor.internalCallStackDepth;FB.Monitor.internalCallStackDepth=0;var _L2=Array.prototype.slice.call(arguments);var ret=_L0.apply(this,_L2);FB.Monitor.internalCallStackDepth=_L1;return ret;};},_monitorWrapper:function(fn,_L1,_L2,_L3){return function(){var _L4=Array.prototype.slice.call(arguments);context=_L2?this:(_L1||window);_L3=_L3||{containerName:'unknown',functionName:'unknown'};if(FB.Monitor.internalCallStackDepth==0)if(_L3.functionName.substr(0,1)!='_')FB.Monitor.logFunction(_L3,_L4);++FB.Monitor.internalCallStackDepth;var _L5=fn.apply(context,_L4);--FB.Monitor.internalCallStackDepth;return _L5;};},logFunction:function(_L0,_L1){var _L2=[];for(var i=0;i<_L1.length;i++){var arg=_L1[i];_L2[i]=arg?arg.toString():arg;}FB.Monitor.log("functions",_L0.containerName+"."+_L0.functionName,_L2);},logXFBML:function(_L0){var _L1={};for(var i=0;i<_L0.attributes.length;++i){var _L3=_L0.attributes[i];if(_L3.specified!==false&&_L3.nodeName&&_L3.nodeValue&&_L3.nodeName!="class")_L1[_L3.nodeName]=_L3.nodeValue.toString();}var _L4=_L0.nodeName.toLowerCase();FB.Monitor.log("tags",_L4,_L1);},log:function(_L0,_L1,_L2){var _L3={name:_L1,args:_L2};FB.Monitor.loggingQueue[_L0].push(_L3);if(!FB.Monitor.pendingTimer){setTimeout(FB.Monitor.send,FB.Monitor.TIMER_INTERVAL);FB.Monitor.pendingTimer=true;}},clearQueues:function(){var _L0=FB.Monitor.loggingQueue;FB.Monitor.pendingTimer=false;FB.Monitor.loggingQueue={tags:[],functions:[]};return _L0;},send:function(){if(FB.MonitorSender){FB.bind(FB.MonitorSender.send)();}else{FB.Monitor.TIMER_INTERVAL=FB.Monitor.TIMER_INTERVAL*1.5;setTimeout(FB.Monitor.send,FB.Monitor.TIMER_INTERVAL);}},TIMER_INTERVAL:6*1000,internalCallStackDepth:0,loggingQueue:{tags:[],functions:[]},pendingTimer:false,loggingEnabledCache:null};
if(!window.FB)FB={};FB.forEach=function(_L0,fn,_L2){if(Object.prototype.toString.apply(_L0)==='[object Array]'){if(_L0.forEach){_L0.forEach(fn);}else for(var i=0,l=_L0.length;i<l;i++)fn(_L0[i],i,_L0);}else for(var key in _L0)if(_L2||_L0.hasOwnProperty(key))fn(_L0[key],key,_L0);};FB.copy=function(_L0,_L1,_L2){FB.forEach(_L1,function(_L3,key){if(_L2||typeof _L0[key]==='undefined')_L0[key]=_L3;});};FB.copy(FB,{$:function(id){return document.getElementById(id);},TypeLoader:{NOTIFY:{},LOADED_MODULES:{},LOADED_CLASSES:{},resolve:function(_L0,_L1,_L2){for(var i=0,l=_L1.length;i<l;i++){var _L5=_L1[i];if(_L5==='')continue;if(typeof _L0[_L5]==='undefined')if(_L2){_L0[_L5]={};}else return false;_L0=_L0[_L5];}return _L0;},provide:function(_L0,_L1,_L2){FB.Monitor.wrapObject(_L1,_L0,false);var _L3=this.resolve(window,_L0.split('.'),true);if(_L2||!this.LOADED_MODULES[_L0])FB.copy(_L3,_L1,true);if(_L3._onLoad)_L3._onLoad();this.LOADED_MODULES[_L0]=true;},subclass:function(_L0,_L1,_L2){if(this.LOADED_CLASSES[_L0])return;if(_L1!=='FB.Class'&&!this.LOADED_CLASSES[_L1]){FB.Log.debug('"'+_L0+'" needs to wait for "'+_L1+'"');var _L3=FB.redo(arguments,this);this.NOTIFY[_L1]?this.NOTIFY[_L1].push(_L3):this.NOTIFY[_L1]=[_L3];return;}var _L4=this.resolve(window,_L1.split('.')),_L5=_L4.extend(_L2),_L6=this.NOTIFY[_L0],_L7=_L0.split('.'),_L8=this.resolve(window,_L7,true),_L9=_L7.pop();FB.Monitor.wrapObject(_L5.prototype,_L0,true);FB.Monitor.wrapObject(_L5,_L0,false);FB.copy(_L5,_L8);this.resolve(window,_L7)[_L9]=_L5;this.LOADED_CLASSES[_L0]=true;if(_L6){FB.forEach(_L6,function(cb){cb();});delete this.NOTIFY[_L0];}}},bind:function(){var _L0=Array.prototype.slice.call(arguments),fn=_L0.shift(),_L2=_L0.shift();var _L3=function(){++FB.Monitor.internalCallStackDepth;var _L4=fn.apply(_L2,_L0.concat(Array.prototype.slice.call(arguments)));--FB.Monitor.internalCallStackDepth;return _L4;};_L3._targets=[_L2,fn];return _L3;},redo:function(_L0,_L1){var f=Array.prototype.slice.call(_L0);f.unshift(_L1);f.unshift(_L0.callee);return FB.bind.apply(FB,f);}});FB.provide=FB.bind(FB.TypeLoader.provide,FB.TypeLoader);FB.subclass=FB.bind(FB.TypeLoader.subclass,FB.TypeLoader);
FB.provide('FB.Log',{level:3,Level:{DEBUG:3,INFO:2,WARNING:1,ERROR:0},_helper:function(){var _L0=Array.prototype.slice.call(arguments),_L1=_L0.shift(),_L2=_L0.shift();if(this.level>=_L2&&window.console)(console[_L1]||console.log).apply(console,_L0);}});FB.provide('FB.Log',{debug:FB.bind(FB.Log._helper,FB.Log,'debug',FB.Log.Level.DEBUG),info:FB.bind(FB.Log._helper,FB.Log,'info',FB.Log.Level.INFO),warn:FB.bind(FB.Log._helper,FB.Log,'warn',FB.Log.Level.WARNING),error:FB.bind(FB.Log._helper,FB.Log,'error',FB.Log.Level.ERROR)},true);
(function(){var _L0=false,_L1=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;FB.Class=function(){};FB.Class.extend=function(_L2){var _L3=this.prototype;_L0=true;var _L4=new this();_L0=false;FB.forEach(_L2,function(_L6,_L7){_L4[_L7]=typeof _L6==="function"&&typeof _L3[_L7]==="function"&&_L1.test(_L6)?(function(_L7,fn){return function(){var tmp=this._super;this._super=_L3[_L7];var ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(_L7,_L6):_L6;});var _L5=function(){if(!_L0){var _L6;if(this instanceof _L5){_L6=this;}else{_L0=true;_L6=new _L5();_L0=false;}if(_L6.init)_L6.init.apply(_L6,arguments);return _L6;}};_L5.prototype=_L4;_L5.constructor=_L5;_L5.extend=FB.Class.extend;return _L5;};})();
if(!window.FB)FB={};if(!FB.Type){FB.Type={createNamespace:function(_L0){var ns=window;var _L2=_L0.split('.');for(var i=0;i<_L2.length;i++){var _L4=_L2[i];var nso=ns[_L4];if(!nso)ns[_L4]=nso={};ns=nso;}return ns;},createEnum:function(_L0,_L1,_L2){if(this.getObj(_L0))return;var cls=function(){};cls.prototype=_L1;for(var _L4 in _L1)cls[_L4]=_L1[_L4];if(_L2)cls.__flags=true;this.setObj(_L0,cls);},createClass2:function(cls,baseType){if(baseType&&typeof(baseType)=="string")baseType=eval(baseType);cls.prototype.constructor=cls;this.extend(cls,FB.Type.Methods);cls.__baseType=baseType||Object;if(baseType)cls.__basePrototypePending=true;},setObj:function(fullName,value){var i=fullName.lastIndexOf('.');var objName;var scope=window;if(i>0){var ns=fullName.substring(0,i);this.createNamespace(ns);objName=fullName.substring(i+1);scope=eval(ns);}else objName=fullName;scope[objName]=value;},getObj:function(_L0){var ns=window;var _L2=_L0.split('.');for(var i=0;i<_L2.length;i++){var _L4=_L2[i];ns=ns[_L4];if(!ns)break;}return ns;},createClass:function(_L0,_L1){if(this.getObj(_L0))return;if(arguments.length==1&&typeof(_L0)!="string"){return this._createClass(_L0);}else this.setObj(_L0,this._createClass(_L1));},_createClass:function(_L0){var cls=_L0['ctor']||function(){};if(_L0['static_ctor'])this.addStaticInit(_L0['static_ctor']);if(_L0['instance'])cls.prototype=_L0['instance'];if(_L0['static'])this.extend(cls,_L0['static']);this.createClass2(cls,_L0['base']);return cls;},addStaticInit:function(_L0){if(!FB.Type._pendingInits)FB.Type._pendingInits=[];FB.Type._pendingInits[FB.Type._pendingInits.length]=_L0;window.setTimeout(FB.Type.runPendingInits,0);},runPendingInits:function(){if(FB.Type._pendingInits){var _L0=FB.Type._pendingInits;FB.Type._pendingInits=null;var c=_L0.length;for(var i=0;i<c;i++)_L0[i]();}},extend:function(_L0,_L1){for(var _L2 in _L1)_L0[_L2]=_L1[_L2];return _L0;},getInstanceType:function(_L0){return _L0.constructor;}};FB.Type.Methods={setupBase:function(){if(this.__basePrototypePending){var _L0=this.__baseType;if(_L0.__basePrototypePending)_L0.setupBase();for(var _L1 in _L0.prototype){var _L2=_L0.prototype[_L1];if(!this.prototype[_L1])this.prototype[_L1]=_L2;}delete this.__basePrototypePending;}},constructBase:function(_L0,_L1){if(this.__basePrototypePending)this.setupBase();if(!_L1){this.__baseType.apply(_L0);}else this.__baseType.apply(_L0,_L1);},callBase:function(_L0,_L1,_L2){var _L3=this.__baseType.prototype[_L1];if(!_L2){return _L3.apply(_L0);}else return _L3.apply(_L0,_L2);},get_baseType:function(){return this.__baseType||null;}};}
FB.provide('FB.Debug',{logLevel:0,assert:function(_L0,_L1){if(FB.Debug.logLevel>0&&!_L0){_L1='Assert failed: '+_L1;if(confirm(_L1+'\r\n\r\nBreak into debugger?'))FB.Debug._fail(_L1);}},writeLine:function(_L0){if(FB.Debug.logLevel>0)if(window.Debug&&window.Debug.writeln){window.Debug.writeln(_L0);}else if(window.console){if(window.console.debug){window.console.debug(_L0);}else if(window.console.log)window.console.log(_L0);}else if(window.opera&&window.opera.postError)window.opera.postError(_L0);},logLine:function(_L0,_L1){if(_L0<=FB.Debug.logLevel)FB.Debug.writeLine(_L1);},_fail:function(_L0){FB.Debug.writeLine(_L0);debugger;},_dumpCore:function Debug$_dumpCore(sb,_L1,_L2,_L3,_L4){if(_L1===null){sb.appendLine(_L3+_L2+': null');return;}switch(typeof(_L1)){case 'undefined':sb.appendLine(_L3+_L2+': undefined');break;case 'number':case 'string':case 'boolean':sb.appendLine(_L3+_L2+': '+_L1);break;default:if(_L1 instanceof Date||_L1 instanceof RegExp){sb.appendLine(_L3+_L2+': '+_L1);break;}if(FB.Sys.contains(_L4,_L1)){sb.appendLine(_L3+_L2+': ...');break;}_L4[_L4.length]=_L1;var _L5=_L3+'  ';if(_L1.tagName){sb.appendLine(_L3+_L2+': <'+_L1.tagName+'>');var _L6=_L1.attributes;for(var i=0;i<_L6.length;i++){var _L8=_L6[i].nodeValue;if(_L8)FB.Debug._dumpCore(sb,_L8,_L6[i].nodeName,_L5,_L4);}}else{sb.appendLine(_L3+_L2+': ');for(var _L9 in _L1){var v=_L1[_L9];if(!(v instanceof Function))FB.Debug._dumpCore(sb,v,_L9,_L5,_L4);}}FB.Sys.remove(_L4,_L1);break;}},dump:function Debug$dump(_L0,_L1){if((!_L1||!_L1.length)&&(_L0!==null))_L1=typeof(_L0);if(!_L1||!_L1.length)return;var sb=new FB.StringBuilder();FB.Debug._dumpCore(sb,_L0,_L1,'',[]);FB.Debug.writeLine(sb.toString());},fail:function Debug$fail(_L0){FB.Debug._fail(_L0);}});FB.FBDebug=FB.Debug;
FB.Sys=function(){};FB.Sys.isUndefined=function(o){return (o===undefined);};FB.Sys.isNullOrUndefined=function(o){return (o===null)||(o===undefined);};FB.Sys.isNullOrEmpty=function(s){return !s||!s.length;};FB.Sys.parseBool=function(s){return (s.toLowerCase()=='true');};FB.Sys.trim=function(s){return s.replace(/^\s*|\s*$/g,'');};FB.Sys.compare=function(s1,s2,_L2){if(_L2){if(s1)s1=s1.toUpperCase();if(s2)s2=s2.toUpperCase();}s1=s1||'';s2=s2||'';if(s1==s2)return 0;if(s1<s2)return -1;return 1;};FB.Sys.quote=function(_L0){var m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;return r.test(_L0)?'"'+_L0.replace(r,function(a){var c=m[a];if(c)return c;c=a.charCodeAt();return '\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"':'"'+_L0+'"';};FB.Sys.startsWith=function(s,_L1){return s.substring(0,_L1.length)==_L1;};FB.Sys.format=function(_L0){if(!FB.Sys.format._formatRE)FB.Sys.format._formatRE=/(\{[^\}^\{]+\})/g;var _L1=arguments;return _L0.replace(FB.Sys.format._formatRE,function(str,m){var _L4=parseInt(m.substr(1));var _L5=_L1[_L4+1];if(FB.Sys.isNullOrUndefined(_L5))return '';return _L5.toString();});};FB.Sys.htmlDecode=function(s){htmlDecMap={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"'};htmlDecRE=/(&amp;|&lt;|&gt;|&quot;)/gi;s=s.replace(htmlDecRE,function(str,m){return htmlDecMap[m];});return s;};FB.Sys.htmlEncode=function(s){htmlEncMap={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'};htmlEncRE=/([&<>"])/g;if(htmlEncRE.test(s))s=s.replace(htmlEncRE,function(str,m){return htmlEncMap[m];});return s;};FB.Sys.endsWith=function(s,_L1){return s.length>=_L1.length&&s.substring(s.length-_L1.length)==_L1;};FB.Sys.contains=function(a,_L1){var _L2=FB.Sys.indexOf(a,_L1);return (_L2>=0);};FB.Sys.add=function(a,_L1){a[a.length]=_L1;};FB.Sys.remove=function(a,_L1){var _L2=FB.Sys.indexOf(a,_L1);if(_L2>=0){a.splice(_L2,1);return true;}return false;};FB.Sys.indexOf=function(a,_L1){var _L2=a.length;if(_L2)for(var _L3=0;_L3<_L2;_L3++)if(a[_L3]===_L1)return _L3;return -1;};FB.Sys.addRange=function(a,_L1){var _L2=_L1.length;for(var _L3=0;_L3<_L2;_L3++)a[a.length]=_L1[_L3];};FB.Sys.clear=function(a){if(a.length>0)a.splice(0,a.length);};FB.Sys.clearKeys=function(d){for(var n in d)delete d[n];};FB.Sys.containsKey=function(d,key){return d[key]!==undefined;};FB.Sys.getKeyCount=function(d){var _L1=0;for(var n in d)_L1++;return _L1;};FB.Sys.isAssignableFrom=function(_L0,to){while(_L0!=to)if(_L0.__baseType){_L0=_L0.__baseType;}else return false;return true;};FB.Sys.createException=function(_L0,_L1,_L2){var e=new Error(_L0);if(_L1)e.userData=_L1;if(_L2)e.innerException=_L2;return e;};FB.Type.createClass2(FB.Sys);
FB.JSON=function FB_JSON(){};FB.JSON.deserialize=function(s,convert64bitIntToString){if(FB.Sys.isNullOrEmpty(s))return null;if(convert64bitIntToString){if(!FB.JSON._64bitIntRegex)FB.JSON._64bitIntRegex=new RegExp('([^\\\\]\"\:)([0-9]{11,20})(,|}|])','gm');s=s.replace(FB.JSON._64bitIntRegex,'$1"$2"$3');}return eval('('+s+')');};FB.JSON.serialize=function(o){if(FB.Sys.isNullOrUndefined(o))return '';var sb=new FB.StringBuilder();FB.JSON._serializeCore(sb,o);return sb.toString();};FB.JSON._serializeCore=function(sb,o){if(FB.Sys.isNullOrUndefined(o)){sb.append('null');return;}var _L2=typeof(o);switch(_L2){case 'boolean':sb.append(o.toString());return;case 'number':sb.append((isFinite(o))?o.toString():'null');return;case 'string':sb.append(FB.Sys.quote(o));return;case 'object':if(o instanceof Array){sb.append('[');var a=o;var _L4=a.length;var _L5=true;for(var i=0;i<_L4;i++){if(typeof(a[i])=='function')continue;if(_L5){_L5=false;}else sb.append(',');FB.JSON._serializeCore(sb,a[i]);}sb.append(']');}else if(o instanceof Date){var d=o;var _L8=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds());sb.append('\"\\@');sb.append(_L8.toString());sb.append('@\"');}else if(o instanceof RegExp){sb.append(o.toString());}else{sb.append('{');var _L5=true;var _L9=o;for(var _La in _L9){var _Lb={key:_La,value:_L9[_La]};if(FB.Sys.startsWith(_Lb.key,'$'))continue;if(typeof(_Lb.value)=='function')continue;if(_L5){_L5=false;}else sb.append(',');sb.append('"'+_Lb.key+'"');sb.append(':');FB.JSON._serializeCore(sb,_Lb.value);}sb.append('}');}return;default:sb.append('null');return;}};
FB.provide('FB.XdComm.PageRelation',{parent:1,child:2,self:3,opener:4,openee:5});
FB.subclass('FB.ArrayEnumerator','FB.Class',{init:function(_L0){this._array=_L0;this._index=-1;},get_current:function(){return this._array[this._index];},moveNext:function(){this._index++;return (this._index<this._array.length);},reset:function(){this._index=-1;}});
FB._create__packet=function(){return {};};
FB.provide('FB.XdComm._packetType',{data:0,dataFragment:1,dataFragmentEnd:2,udpSingle:3,ack:4});
FB.subclass('FB.XdComm._sendChannel','FB.Class',{init:function(_L0){this._iframes={};this._endPoint=_L0;},_send:function(_L0,_L1){var _L2=FB.XdComm.Server.singleton;var _L3=FB.JSON.serialize(_L1);var _L4=_L3.length;var _L5=0;var _L6=false;var fid=0;while(!_L6){var _L8=FB.XdComm._packetType.data;var _L9=FB._create__packet();_L9.id=this._sendIdCount;if(!this._sendIdCount&&!_L5){_L9.sc=_L2.get_receiverUrl();_L9.sf=window.name;_L9.sr=FB.XdComm._sendChannel._getReverseRelation(this._endPoint.relation);}if(!_L5)_L9.h=_L0;var _La;if(!_L5&&_L4<=_L2._maxPacketDataLength){_La=_L3;_L6=true;}else{_L9.fid=fid++;var _Lb=_L4-_L5;if(_Lb>_L2._maxPacketDataLength){_Lb=_L2._maxPacketDataLength;_L8=FB.XdComm._packetType.dataFragment;}else{_L8=FB.XdComm._packetType.dataFragmentEnd;_L6=true;}_La=_L3.substr(_L5,_Lb);_L5+=_Lb;}_L9.sid=_L2._id;_L9.t=_L8;var _Lc=_L2._createPacketUrl(_L9,this._endPoint);_Lc+=encodeURIComponent(_La);this._addIframe(_Lc,_L9);}this._sendIdCount++;},_onAck:function(_L0){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('SendChannel.OnAck: '+_L0.toString());var _L1=new FB.ArrayEnumerator(_L0);while(_L1.moveNext()){var _L2=_L1.get_current();var key=_L2.toString();var _L4=this._iframes[key];var _L5=new FB.ArrayEnumerator(_L4);while(_L5.moveNext()){var _L6=_L5.get_current();FB.XdComm.Server.singleton._removeIframe(_L6);}delete this._iframes[key];}},_addIframe:function(_L0,_L1){var _L2=FB.XdComm.Server.singleton._createHiddenIFrame(_L0);var key=_L1.id.toString();var _L4=this._iframes[key];if(!_L4)this._iframes[key]=_L4=[];FB.Sys.add(_L4,_L2);},_sendIdCount:0,_endPoint:null});FB.provide('FB.XdComm._sendChannel',{_getReverseRelation:function(_L0){switch(_L0){case FB.XdComm.PageRelation.child:return FB.XdComm.PageRelation.parent;case FB.XdComm.PageRelation.parent:return FB.XdComm.PageRelation.child;case FB.XdComm.PageRelation.self:return FB.XdComm.PageRelation.self;case FB.XdComm.PageRelation.opener:return FB.XdComm.PageRelation.openee;default:throw new Error('Unknown relation');}}});
FB.subclass('FB.XdComm.EndPoint','FB.Class',{init:function(_L0,_L1,_L2){this.frameName=(!_L0)?'':_L0;this.relation=_L1;this.channelUrl=_L2;this.UID=0;},isEqual:function(x){return x.frameName===this.frameName&&x.relation===this.relation&&x.UID===this.UID;},frameName:null,relation:0,channelUrl:null,UID:0,origin:null});
FB.Type.createClass('FB.StringBuilder',{ctor:function(s){if((s!==undefined)&&(s!==null)){this._parts=[s];}else this._parts=[];},instance:{get_isEmpty:function(){return (this._parts.length==0);},append:function(s){if((s!==undefined)&&(s!==null))FB.Sys.add(this._parts,s);},appendLine:function(s){this.append(s);this.append('\r\n');},clear:function(){this._parts.clear();},toString:function(){return this._parts.join('');}}});if(!window.Delegate)window.Delegate=FB.Delegate;
FB.subclass('FB.XdComm._fragDataHolder','FB.Class',{init:function(){this._segments={};this._totalSegments=-1;},_addSegment:function(_L0){if(_L0.t===FB.XdComm._packetType.dataFragmentEnd)this._totalSegments=_L0.fid+1;if(!_L0.fid)this._combinedPacket=_L0;this._segments[_L0.fid.toString()]=_L0.d;if(this._totalSegments!==-1&&this._totalSegments===FB.Sys.getKeyCount(this._segments)){var _L1=new FB.StringBuilder();for(var i=0;i<this._totalSegments;i++)_L1.append(this._segments[i.toString()]);this._combinedPacket.d=_L1.toString();this._combinedPacket.t=FB.XdComm._packetType.data;return this._combinedPacket;}else return null;},_combinedPacket:null});
FB.subclass('FB.XdComm._receiveChannel','FB.Class',{init:function(id,_L1){this._fragDataDict={};this._ackList=[];this._id=id;this._endPoint=_L1;},_onReceivedPacket:function(_L0){FB.FBDebug.logLine(3,'XdComm: Received packet');var _L1=null;if(_L0.t===FB.XdComm._packetType.dataFragment||_L0.t===FB.XdComm._packetType.dataFragmentEnd){var _L2=this._fragDataDict[_L0.id.toString()];if(!_L2){_L2=new FB.XdComm._fragDataHolder();this._fragDataDict[_L0.id.toString()]=_L2;}_L1=_L2._addSegment(_L0);if(_L1)delete this._fragDataDict[_L1.id.toString()];}else _L1=_L0;if(_L1){if(!_L1.id){this._endPoint=new FB.XdComm.EndPoint(_L1.sf,_L1.sr,_L1.sc);if(this._queuedPackets){var _L3=new FB.ArrayEnumerator(this._queuedPackets);while(_L3.moveNext()){var _L4=_L3.get_current();this._onFullDataReceived(_L4);}this._queuedPackets=null;}}if(this._endPoint){this._onFullDataReceived(_L1);}else if(!this._queuedPackets){this._queuedPackets=[];FB.Sys.add(this._queuedPackets,_L1);}}},_onFullDataReceived:function(_L0){var _L1=FB.XdComm.Server.singleton;_L1._onFullDataReceived(_L0,this._endPoint);FB.Sys.add(this._ackList,_L0.id);if(this._ackList.length>5){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('ReceiveChannel.Ack: '+this._ackList.toString());var _L2=FB._create__packet();_L2.t=FB.XdComm._packetType.ack;_L2.sid=_L1._id;_L2.sc=_L1.get_receiverUrl();_L2.sf=window.name;_L2.sr=FB.XdComm._sendChannel._getReverseRelation(this._endPoint.relation);var _L3=_L1._createPacketUrl(_L2,this._endPoint);_L3+=encodeURIComponent(FB.JSON.serialize(this._ackList));_L1._removeIframe(this._ackIframe);this._ackIframe=_L1._createHiddenIFrame(_L3);FB.Sys.clear(this._ackList);}},_queuedPackets:null,_endPoint:null,_ackIframe:null,_id:null});
FB.provide('FB.HiddenContainer',{_onLoad:function(){if(document.getElementById('FB_HiddenContainer')==null){var _L0;try{if((!document.readyState||document.readyState=="complete")&&document.body){_L0=document.createElement('div');_L0.id="FB_HiddenContainer";_L0.style.position="absolute";_L0.style.top="-10000px";_L0.style.width="0px";_L0.style.height="0px";document.body.appendChild(_L0);}}catch(e){_L0=null;}if(!_L0)document.write('<div id="FB_HiddenContainer" '+'style="position:absolute; top:-10000px; left:-10000px; width:0px; height:0px;" >'+'</div>');}},get:function(){return FB.$('FB_HiddenContainer');}});
FB.provide('FB.XdComm.PacketDataFormat',{JSON:0,rawText:1,OBJ:2});
FB.subclass('FB.Enum','FB.Class',{});FB.provide('FB.Enum',{toString:function(_L0,_L1){return _L1.toString();}});
FB.subclass('FBIntern.FbGlobals','FB.Class',{init:function(){}});FB.provide('FBIntern.FbGlobals',{get_fB_StaticResourceVersions:function(){return FB.dynData?FB.dynData['resources']:{};}});
FB.subclass('FB.Waitable','FB.Class',{init:function(){},onChange:function(){if(this.__changed)this.__changed(this);},waitUntilReady:function(_L0){if(this.get_isReady()){_L0(this.result);}else{var _L1=null;_L1=FB.bind(function(_L2){this.remove_changed(_L1);_L0(this.result);},this);this.add_changed(_L1);}},waitForValue:function(_L0,_L1){this.waitForCondition(FB.bind(function(_L2){if(this.get_isReady()&&this.result===_L0){_L1();return true;}return false;},this));},waitForCondition:function(_L0){if(!_L0(this)){var _L1=null;_L1=FB.bind(function(_L2){if(_L0(_L2))this.remove_changed(_L1);},this);this.add_changed(_L1);}},resetChange:function(){this.__changed=null;},result:null,add_changed:function(_L0){this.__changed=FB.Delegate.combine(this.__changed,_L0);},remove_changed:function(_L0){this.__changed=FB.Delegate.remove(this.__changed,_L0);},__changed:null});
FB.subclass('FB.SimpleWaitable','FB.Waitable',{init:function(){this._super();},get_isReady:function(){return this._isReady;},_setResult:function(_L0,_L1){var _L2=typeof(_L0);if(this._isReady&&!_L1&&this.result===_L0&&(_L2==='undefined'||_L2==='number'||_L2==='string'))return;this.result=_L0;this._isReady=(!_L1);this.onChange();},_isReady:false});
FB.provide('FBIntern.HostName',{IE:0,MOZILLA:1,SAFARI:2,OPERA:3,OTHER:4});
FB.subclass('FBIntern.HostInfo','FB.Class',{init:function(){var _L0=window.navigator.userAgent.toLowerCase();var _L1;var _L2=null;if((_L1=_L0.indexOf('opera'))>=0){this._hostName=FBIntern.HostName.OPERA;}else if((_L1=_L0.indexOf('msie'))>=0){this._hostName=FBIntern.HostName.IE;_L2=_L0.substr(_L1+5);}else if((_L1=_L0.indexOf('firefox'))>=0){this._hostName=FBIntern.HostName.MOZILLA;_L2=_L0.substr(_L1+8);}else if((_L1=_L0.indexOf('safari'))>=0){this._hostName=FBIntern.HostName.SAFARI;_L2=_L0.substr(_L1+7);}else if((_L1=_L0.indexOf('gecko'))>=0){this._hostName=FBIntern.HostName.MOZILLA;_L2=window.navigator.appVersion;}else this._hostName=FBIntern.HostName.OTHER;if(_L2){var _L3=parseFloat(_L2);this.majorVersion=parseInt(_L3);if((_L1=_L2.indexOf('.'))>=0)this.minorVersion=parseInt(_L2.substr(_L1+1));}},get_hostName:function(){return this._hostName;},majorVersion:0,minorVersion:0,_hostName:0});
FB.subclass('FBIntern.AppInfo','FB.Class',{init:function(){this._hostInfo=new FBIntern.HostInfo();},get_hostInfo:function(){return this._hostInfo;},_hostInfo:null});FB.provide('FBIntern.AppInfo',{_onLoad:function(){FBIntern.AppInfo._current=null;},get_singleton:function(){if(!FBIntern.AppInfo._current)FBIntern.AppInfo._current=new FBIntern.AppInfo();return FBIntern.AppInfo._current;}});
FB._create_Size=function(w,h){var o={};o.w=w;o.h=h;return o;};
FB._create_Point=function(x,y){var o={};o.x=x;o.y=y;return o;};
FB.subclass('FBIntern.Uri','FB.Class',{init:function(_L0){this._uriString=_L0;},get_uriString:function(){return this._uriString;},get_pathAndQuery:function(){var i=this._uriString.indexOf('://');if(i>=0){i=this._uriString.indexOf('/',i+3);if(i>=0)return this._uriString.substr(i);}return this._uriString;},get_schemeAndDomain:function(){var i=this._uriString.indexOf('http://');if(i)i=this._uriString.indexOf('https://');if(!i){var _L1=this._uriString.indexOf('/',8);if(_L1>=0){return this._uriString.substr(0,_L1);}else return this._uriString;}throw new Error('This object is not an absolute URI.');},get_queryParameters:function(){if(!this._queryParameters){this._queryParameters={};var _L0;var i=this._uriString.indexOf('?');if(i>-1){_L0=this._uriString.substr(i+1);i=_L0.indexOf('#');if(i>0)_L0=_L0.substring(0,i-1);var _L2=_L0.split('&');var _L3=new FB.ArrayEnumerator(_L2);while(_L3.moveNext()){var _L4=_L3.get_current();i=_L4.indexOf('=');if(i>0){var key=_L4.substr(0,i);var _L6=_L4.substr(i+1);this._queryParameters[key]=decodeURIComponent(_L6);}}}}return this._queryParameters;},get_domain:function(){var _L0=this.get_domainAndPath();var _L1=_L0.indexOf('/');if(_L1>=0)_L0=_L0.substring(0,_L1);return _L0;},get_domainAndPath:function(){var _L0=this._uriString;var _L1=_L0.indexOf('#');if(_L1>=0)_L0=_L0.substring(0,_L1);var _L2=_L0.indexOf('?');if(_L2>=0)_L0=_L0.substring(0,_L2);var _L3=_L0.indexOf('://');if(_L3>=0)_L0=_L0.substring(_L3+3);return _L0;},_queryParameters:null,_uriString:null});FB.provide('FBIntern.Uri',{create:function(_L0,_L1){var uri;if(FBIntern.Uri.isAbsoluteUri(_L1)){uri=_L1;}else if(_L1.charAt(0)==='/'){uri=_L0.get_schemeAndDomain()+_L1;}else{var uri=_L0.get_uriString();var _L3=uri.indexOf('?');if(_L3>0)uri=uri.substr(0,_L3);var _L4=uri.lastIndexOf('/');uri=uri.substr(0,_L4+1)+_L1;}return new FBIntern.Uri(uri);},isAbsoluteUri:function(uri){return uri.indexOf('://')>0;},addQueryParameters:function(url,_L1){if(url.indexOf('?')>0){return url+'&'+_L1;}else return url+'?'+_L1;},createQueryString:function(_L0){var url='';var _L2=_L0;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};url+=_L4.key+'='+encodeURIComponent((_L4.value))+'&';}if(url!==''&&url.charAt(url.length-1)==='&')url=url.substr(0,url.length-1);return url;},bothHaveSameDomain:function(_L0,_L1){var _L2=new FBIntern.Uri(_L0);var _L3=new FBIntern.Uri(_L1);var _L4=_L2.get_domain().toLowerCase();var _L5=_L3.get_domain().toLowerCase();return _L4==_L5;}});
FB.subclass('FBIntern.Utility','FB.Class',{init:function(){}});FB.provide('FBIntern.Utility',{getFacebookUrl:function(_L0){return FB.Sys.format(FBIntern.FbGlobals.get_fB_StaticResourceVersions()['base_url_format'],_L0);},getNonConnectFacebookUrl:function(_L0){var _L1=FBIntern.FbGlobals.get_fB_StaticResourceVersions()['base_url_format'];if(_L1.indexOf('connect.facebook.com')>=0){var _L2=(!_L1.indexOf('https'))?'https':'http';_L1=_L2+'://{0}.facebook.com/';return FB.Sys.format(_L1,_L0);}else return FBIntern.Utility.getFacebookUrl(_L0);},createFacebookUrl:function(_L0,_L1,_L2,_L3){var url;if(_L3){url=FBIntern.Utility.getFacebookUrl(_L0);}else url=FBIntern.Utility.getNonConnectFacebookUrl(_L0);url+=_L1;var _L5=FB.locale;if(!FB.Sys.containsKey(_L2,'locale')&&!FB.Sys.isNullOrEmpty(_L5))_L2['locale']=_L5;return FBIntern.Uri.addQueryParameters(url,FBIntern.Uri.createQueryString(_L2));},isSecure:function(){return window.location.href.indexOf('https')===0;},id64BitEquals:function(id1,id2){var _L2='';var _L3='';if(typeof(id1)==='number'){if(id1>2147483647)FB.FBDebug.logLine(1,'This integer is great than 32 bit and can\'t be properly in comparison in JavaScript. It should be stored as string instead.');_L2=id1.toString();}else _L2=id1;if(typeof(id2)==='number'){if(id2>2147483647)FB.FBDebug.logLine(1,'This integer is great than 32 bit and can\'t be properly in comparison in JavaScript. It should be stored as string instead.');_L3=id2.toString();}else _L3=id2;return !FB.Sys.compare(_L2,_L3,false);},waitForLoaded:function(_L0,_L1){var _L2=null;_L2=function(e){FBIntern.Utility.removeEventListener(_L0,'load',_L2);_L1();};FBIntern.Utility.addEventListener(_L0,'load',_L2);},get_windowLocation:function(){var _L0=FB._create_Point(0,0);var l,t;if(window.screenLeft){l=window.screenLeft;t=window.screenTop;}else{l=window.screenX;t=window.screenY;}_L0.x=l;_L0.y=t;if(FB.Sys.isUndefined(_L0.x))_L0.x=0;if(FB.Sys.isUndefined(_L0.y))_L0.y=0;return _L0;},get_windowSize:function(){var _L0=FB._create_Size((window&&window.innerWidth)||(document&&document.documentElement&&document.documentElement.clientWidth)||(document&&document.body&&document.body.clientWidth)||0,(window&&window.innerHeight)||(document&&document.documentElement&&document.documentElement.clientHeight)||(document&&document.body&&document.body.clientHeight)||0);return _L0;},get_documentSize:function(){var s=FB._create_Size(document.body.scrollWidth,document.body.scrollHeight);if(s.w<=0||s.w>document.documentElement.scrollWidth)s.w=document.documentElement.scrollWidth;if(s.h<=0||s.h>document.documentElement.scrollHeight)s.h=document.documentElement.scrollHeight;if(window&&window.getComputedStyle){var _L1=window.getComputedStyle(document.body,null),h=parseInt(_L1.getPropertyValue('height'),10);if(h<s.h)s.h=h;}return s;},get_isInUserActionCallstack:function(){var e=FBIntern.Utility.get_currentEvent();if(!e){return false;}else{var _L1=['onclick','oncontextmenu','ondblclick','onfocus','onkeydown','onkeypress','onkeyup','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','click','ctextmenu','dblclick','focus','keydown','keypress','keyup','mousedown','mousemove','mouseout','mouseover','mouseup'];var _L2=e.type;return _L2&&FB.Sys.contains(_L1,_L2);}},get_currentEvent:function(){var e=window.event;if(!e&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.MOZILLA){var _L1=arguments.callee;var _L2=[];var _L3;while(true){FB.Sys.add(_L2,_L1);_L3=_L1.caller;if(!_L3)break;if(FB.Sys.indexOf(_L2,_L3)>=0){FB.FBDebug.logLine(1,'FB.Connect.get_isInUserActionCallstack(): we can\'t correctly make a detection because of recursion in call stack');return null;}_L1=_L3;}e=_L1.arguments.length==1&&_L1.arguments[0]&&_L1.arguments[0].type?_L1.arguments[0]:null;}return e;},addEventListener:function(_L0,_L1,_L2){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){(_L0).addEventListener(_L1,_L2,false);}else{_L2._ieEventHandler=function(){_L2(window.event);};(_L0).attachEvent('on'+_L1,(_L2._ieEventHandler));}},removeEventListener:function(_L0,_L1,_L2){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){(_L0).removeEventListener(_L1,_L2,false);}else (_L0).detachEvent('on'+_L1,(_L2._ieEventHandler));},createXMLHttpRequest:function(){if(!FB.XMLHttpRequest)if(!window.XMLHttpRequest){FB.XMLHttpRequest=function(){var _L0=['Msxml2.XMLHTTP','Microsoft.XMLHTTP'];for(var i=0;i<_L0.length;i++)try{var _L2=new ActiveXObject(_L0[i]);return _L2;}catch(ex){}};}else FB.XMLHttpRequest=window.XMLHttpRequest;return new FB.XMLHttpRequest();},getIFrameDocument:function(_L0,_L1,_L2){var _L3=(window.self.frames)[_L0];var _L4=null;if(window.location.hostname===document.domain)try{_L4=_L3.document;}catch(e1){FB.FBDebug.logLine(1,'Failed to get frameWindow.document, will try again later');}if(_L4){_L2(_L4);}else FBIntern.Utility.waitForLoaded(_L1,function(){_L2(_L3.document);});},isConnectSession:function(_L0){if(!_L0)throw new Error('session key is null');return _L0.substr(0,2)==='3.';},isStrInt:function(x){return parseInt(x).toString()===x;},createException:function(_L0,_L1,_L2){var _L3=new Error(_L0);if(_L1)_L3.userData=_L1;if(_L2)_L3.innerException=_L2;return _L3;},getSiteVar:function(key,_L1){var _L2=FB.dynData;if(_L2){var _L3=_L2['site_vars'];if(FB.Sys.containsKey(_L3,key))return _L3[key];}return _L1;},setSiteVar:function(key,_L1){var _L2=FB.dynData['site_vars'];_L2[key]=_L1;},paymentsLog:function(_L0,_L1){var _L2={step_id:_L0,api_key:_L1};var _L3=FBIntern.Utility.getFacebookUrl('www')+'/connect/waterfall_log.php';var _L4=FBIntern.Uri.addQueryParameters(_L3,FBIntern.Uri.createQueryString(_L2));var _L5=FB.$('FB_HiddenContainer');FB.FBDebug.assert(_L5,'Can\'t find the DOM element with id FB_HiddenContainer');var img=document.createElement('img');img.setAttribute('src',_L4);_L5.appendChild(img);}});
FB.subclass('FBIntern.Flash','FB.Class',{init:function(){}});FB.provide('FBIntern.Flash',{_onLoad:function(){FBIntern.Flash.xdComm=null;FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;FBIntern.Flash.versionDetected=false;},hasRequireVersion:function(){return FBIntern.Flash._verifyMinimumVersion(9,0);},_verifyMinimumVersion:function(_L0,_L1){if(!FBIntern.Flash.versionDetected){var _L2=['0','0'];var _L3=FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE;var _L4=navigator.plugins;if(_L4&&_L4.length>0){if(_L4['Shockwave Flash 2.0']||_L4['Shockwave Flash']){var _L5;if(_L4['Shockwave Flash 2.0']){_L5=(_L4['Shockwave Flash 2.0'].description);}else _L5=(_L4['Shockwave Flash'].description);var _L6=_L5.split(' ');_L2=_L6[2].split('.');}}else if(_L3){var _L7=null;var _L8;try{_L8=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.7');_L7=_L8.GetVariable('$version');}catch(e1){}if(!_L2)try{_L8=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');_L7='WIN 6,0,21,0';}catch(e2){}if(!FB.Sys.isNullOrEmpty(_L7))_L2=_L7.split(' ')[1].split(',');}if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.MOZILLA){FB.FBDebug.logLine(1,'Cannot use Flash on Firefox due to a possible bug in Flash');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.OPERA){FB.FBDebug.logLine(1,'Cannot use Flash on Opera due to a possible bug in Flash');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else if(FBIntern.Utility.isSecure()&&_L3){FB.FBDebug.logLine(1,'Currenty, Flash is not used on IE in SSL pages');FBIntern.Flash.curMajor=0;FBIntern.Flash.curMinor=0;}else{FBIntern.Flash.curMajor=parseInt(_L2[0]);FBIntern.Flash.curMinor=parseInt(_L2[1]);}FBIntern.Flash.versionDetected=true;}return FBIntern.Flash.curMajor>_L0||(FBIntern.Flash.curMajor===_L0&&FBIntern.Flash.curMinor>=_L1);},_createFlashObject:function(id,_L1){var _L2;if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){_L2=FB.Sys.format('<object width=\"1\" height=\"\"  id=\"{0}\" name=\"{1}\" type=\"application/x-shockwave-flash\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ><param name=\"movie\" value=\"{2}\" /> <param name=\"quality\" value=\"high\" /> <param name=\"bgcolor\" value=\"#869ca7\" /> <param name=\"allowScriptAccess\" value=\"always\" /> </object>',id,id,_L1);}else _L2=FB.Sys.format('<embed width=\'1\' height=\'1\' type=\'application/x-shockwave-flash\' pluginspage=\'http://get.adobe.com/flashplayer\' allowscriptaccess=\'always\' name=\'{0}\' id=\'{1}\' bgcolor=\'#869ca7\' quality=\'high\'  src=\'{2}\' />',id,id,_L1);var div=document.createElement('div');FB.$('FB_HiddenContainer').appendChild(div);div.innerHTML=_L2;if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){var _L4=div.parentNode;while(_L4&&_L4.tagName!=='HTML'){if(_L4.tagName==='FORM'){window[id]=_L4[id];break;}_L4=_L4.parentNode;}return window[id];}else return document[id];},get_xdComm:function(){if(!FBIntern.Flash.xdComm&&FBIntern.Flash.hasRequireVersion()){FB.FBDebug.logLine(3,'Create Flash XdComm object');FBIntern.Flash.xdComm=new FB.SimpleWaitable();var _L0=null;var _L1=false;window.FB_OnFlashXdCommReady=function(){FB.FBDebug.logLine(3,'Flash XdComm ready');_L1=true;if(_L0)FBIntern.Flash.xdComm._setResult(_L0);};_L0=FBIntern.Flash._createFlashObject('flashXdComm',FBIntern.FbGlobals.get_fB_StaticResourceVersions()['xd_comm_swf_url']);if(_L0&&_L1)FBIntern.Flash.xdComm._setResult(_L0);}return FBIntern.Flash.xdComm;},decode:function(_L0){if(_L0&&_L0.length&&typeof _L0!="string")_L0=_L0[0];if(!_L0||typeof _L0!="string")return _L0;_L0=_L0.replace(/\&custom_lt\;/g,"<");_L0=_L0.replace(/\&custom_gt\;/g,">");_L0=_L0.replace(/\&custom_backslash\;/g,'\\');_L0=_L0.replace(/\\0/g,"\0");return _L0;}});
if(!window.FB)FB={};if(!FB.Loader)FB.Loader={loaded:{},loading:{},loadedCss:{},loadedCallback:null,onScriptLoaded:function(_L0){var c=_L0.length;for(var i=0;i<c;i++){var _L3=_L0[i];FB.Loader.loaded[_L3]=true;}if(FB.Loader.loadedCallback)window.setTimeout(function(){FB.Loader.loadedCallback(_L0);},0);},loadCssComps:function(_L0){var _L1=FB.Loader.getStaticResourceUrl('connect.php/'+FB.locale+'/css/'+_L0.join('/'));if(!this.loadedCss[_L1]){var _L2=document.createElement('link');_L2.setAttribute('rel','stylesheet');_L2.setAttribute('type','text/css');_L2.setAttribute('href',_L1);document.getElementsByTagName('head')[0].appendChild(_L2);this.loadedCss[_L1]=true;}},getStaticResourceUrl:function(_L0){var _L1=FB.dynData.resources.base_url_format;var _L2=(_L1.indexOf('https')===0)?'ssl':'static.ak';return _L1.replace('{0}',_L2)+_L0;}};
FB.subclass('FB.Delegate','FB.Class',{});FB.provide('FB.Delegate',{Null:function(){},_create:function(_L0){var _L1=function(){if(_L0.length==2){return _L0[1].apply(_L0[0],arguments);}else{var _L2=_L0.slice();for(var i=0;i<_L2.length;i+=2)_L2[i+1].apply(_L2[i],arguments);return null;}};_L1._targets=_L0;return _L1;},create:function(_L0,_L1){if(!_L0)return _L1;return FB.Delegate._create([_L0,_L1]);},combine:function(_L0,_L1){if(!_L0){if(!_L1._targets)return FB.Delegate.create(null,_L1);return _L1;}if(!_L1){if(!_L0._targets)return FB.Delegate.create(null,_L0);return _L0;}var _L2=_L0._targets?_L0._targets:[null,_L0];var _L3=_L1._targets?_L1._targets:[null,_L1];return FB.Delegate._create(_L2.concat(_L3));},remove:function(_L0,_L1){if(!_L0||(_L0===_L1))return null;if(!_L1)return _L0;var _L2=_L0._targets;var _L3=null;var _L4;if(_L1._targets){_L3=_L1._targets[0];_L4=_L1._targets[1];}else _L4=_L1;for(var i=0;i<_L2.length;i+=2)if((_L2[i]===_L3)&&(_L2[i+1]===_L4)){if(_L2.length==2)return null;_L2.splice(i,2);return FB.Delegate._create(_L2);}return _L0;}});if(!window.Delegate)window.Delegate=FB.Delegate;
if(!FB.Bootstrap){FB.Bootstrap={requireFeatures:function(_L0,_L1){if(FB.Bootstrap.isXdChannel)return;var _L2={features:_L0,callback:FB.Monitor.externalCallback(_L1),completed:false};if(FB.Bootstrap._checkRequest(_L2))return;FB.Bootstrap._featureReqQueue.push(_L2);FB.Loader.loadedCallback=FB.Delegate.combine(FB.Loader.loadedCallback,FB.Bootstrap._onCompLoaded);FB.Bootstrap._transformFeatureList(_L0);var map={};var arr=[];var i;var c=_L0.length;var _L7=0;for(i=0;i<c;i++){var _L8=_L0[i];if(FB.Loader.loaded[_L8]){}else if(!(FB.Loader.loaded[_L8]||FB.Loader.loading[_L8])){map[_L8]=true;arr[arr.length]=_L8;}}arr.sort();var url=FB.Loader.getStaticResourceUrl('connect.php/'+FB.locale+'/js/'+arr.join('/'));FB.Bootstrap.addScript(url);},_requireFeatures:function(_L0,_L1){this.requireFeatures(_L0,FB.bind(_L1));},_checkRequest:function(req){if(!req.completed){var i=0;var _L2=req.features.length;var _L3=0;for(i=0;i<_L2;i++){var _L4=req.features[i];if(FB.Loader.loaded[_L4])_L3++;}if(_L3==_L2){req.completed=true;if(req.callback)req.callback(true);}}return req.completed;},_transformFeatureList:function(_L0){var _L1={Api:true,CanvasUtil:true,Connect:true,XFBML:true};var c=_L0.length;var _L3=false;var map={};for(var i=0;i<c;i++){map[_L0[i]]=true;if(_L1[_L0[i]])_L3=true;}if(_L3)for(var key in _L1)if(!map[key])_L0[_L0.length]=key;},ensureInit:function(_L0){if(!_L0)throw ("FB.ensureInit called without a valid callback");_L0=FB.Monitor.externalCallback(_L0);if(FB.Facebook&&FB.Facebook.get_initialized&&FB.Facebook.get_initialized().get_isReady()&&FB.Facebook.get_initialized().result)return _L0();FB.Bootstrap._requireFeatures(FB.Bootstrap.features,function(){FB.Facebook.get_initialized().waitForValue(true,_L0);});},init:function(_L0,_L1,_L2){FB.Bootstrap._requireFeatures(FB.Bootstrap.features,function(){if(FB.Facebook)FB.Facebook.init(_L0,_L1,_L2);});},addScript:function(src){var _L1;var _L2=document.getElementsByTagName('script');if(_L2){var c=_L2.length;for(var i=0;i<c;i++){_L1=_L2[i];if(_L1.src==src)return;}}_L1=document.createElement("script");_L1.type="text/javascript";_L1.src=src;var _L5=document.getElementsByTagName('HEAD')[0]||document.body;_L5.appendChild(_L1);},setLocale:function(_L0,_L1){window.FB.locale=_L0;window.FB.localeIsRTL=_L1;},_initializeXdChannel:function(){FB.Bootstrap.isXdChannel=window.location.search.indexOf(FB.Bootstrap.fbc_channel_token)>=0;},_detectDocumentNamespaces:function(){if(document.namespaces&&!document.namespaces.item['fb'])document.namespaces.add('fb');},createDefaultXdChannelUrl:function(){var _L0=location.protocol+'//'+location.hostname+location.pathname+location.search;if(location.search||location.search.length>0){_L0+='&';}else _L0+='?';_L0+='fbc_channel=1';return _L0;},_onCompLoaded:function(){var i=0;var c=FB.Bootstrap._featureReqQueue.length;for(i=0;i<c;i++)FB.Bootstrap._checkRequest(FB.Bootstrap._featureReqQueue[i]);},_onLoad:function(){this._initializeXdChannel();this._detectDocumentNamespaces();},features:["XFBML","CanvasUtil"],fbc_channel_token:'fbc_channel=1',_featureReqQueue:[]};FB.Monitor.wrapObject(FB.Bootstrap,'FB.Bootstrap');window.FB_RequireFeatures=FB.Bootstrap.requireFeatures;window.FB.init=FB.Bootstrap.init;window.FB.ensureInit=FB.Bootstrap.ensureInit;FB.Bootstrap._onLoad();}
FB.subclass('FB.XdComm.Server','FB.Class',{init:function(){this._sendChannels=[];this._receiveChannels=[];this._handlers={};this._dataRequestQueues={};this._nativeXdState=-1;this._flashXdState=-1;this._nativeMsgsSendQueue={};this._nativeMsgsReceiveQueue={};this._id=Math.random().toString().substr(0,5);FB.FBDebug.logLine(2,'Init XdComm.Server with ID '+this._id+' for '+document.URL);switch(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()){case FBIntern.HostName.IE:this._maxPacketDataLength=1024;break;case FBIntern.HostName.MOZILLA:this._maxPacketDataLength=100000;break;case FBIntern.HostName.SAFARI:this._maxPacketDataLength=100000;break;case FBIntern.HostName.OPERA:this._maxPacketDataLength=190000;break;default:this._maxPacketDataLength=1024;break;}if(this.get__useNativeXd())FBIntern.Utility.addEventListener(window.self,'message',FB.bind(this._onMessageEvent,this));},get_receiverUrl:function(){return this._receiverUrl;},set_receiverUrl:function(_L0){if(!_L0){FB.FBDebug.logLine(0,'Cross Domain Channel cannot be null. We will use the current page as cross domain channel, but it would be inefficient');_L0=FB.Bootstrap.createDefaultXdChannelUrl();}var uri=FBIntern.Uri.create(new FBIntern.Uri(document.URL),_L0);if(window.location.hostname!==document.domain)FB.FBDebug.logLine(2,'You appear to have changed the document.domain property.\nIf you run into problems with the Facebook Connect library, please refer to\n http://wiki.developers.facebook.com/index.php/How_To_Support_Subdomain_In_Connect for\nhelp.');this._receiverUrl=uri.get_uriString();return _L0;},getUniqueOrigin:function(){if(!this._useXdProxy())return null;if(!this._uniqueOrigin){var _L0;if(this._receiverUrl){_L0=this._receiverUrl;}else _L0=window.location.protocol+'//'+document.domain;_L0+='/'+Math.random();this._uniqueOrigin=_L0;if(this.get__useFlashXd())FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(_L1){var _L2=_L1;window.FB_ReceiveFlashMessage=FB.bind(function(m){this._receiveFlashMessage(m);},this);_L2.postMessage_init('FB_ReceiveFlashMessage',_L0);},this));}return this._uniqueOrigin;},send:function(_L0,_L1,_L2){if(FB.FBDebug.logLevel>2){FB.FBDebug.writeLine('<<<<<<< '+document.URL);FB.FBDebug.writeLine('Server.send: handler='+_L1);FB.FBDebug.dump(_L2,'data');FB.FBDebug.dump(_L0,'endPoint');}if(this.get__useNativeXd()){this._postMessage(_L0,_L1,_L2);}else if(_L0.flashOrigin){this._sendWithFlash(_L0,_L1,_L2);}else this._sendWithIframe(_L0,_L1,_L2);},_sendWithIframe:function(_L0,_L1,_L2){var _L3=null;var _L4=new FB.ArrayEnumerator(this._sendChannels);while(_L4.moveNext()){var _L5=_L4.get_current();if(_L0.isEqual(_L5._endPoint))_L3=_L5;}if(!_L3){_L3=new FB.XdComm._sendChannel(_L0);FB.Sys.add(this._sendChannels,_L3);}_L3._send(_L1,_L2);},_sendWithFlash:function(_L0,_L1,_L2){var _L3=this._prepareMessagePacket(_L0,_L1,_L2);_L3.ackFlashOrigin=this.getUniqueOrigin();var _L4=(FB.XdComm.Server.postMessageHeader+FB.JSON.serialize(_L3));FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(_L5){this._retrySender(_L3.id.toString(),FB.bind(function(){_L5.postMessage_send(_L4,_L0.flashOrigin);},this));},this));},_postMessage:function(_L0,_L1,_L2){var _L3=this._prepareMessagePacket(_L0,_L1,_L2);var _L4;switch(_L0.relation){case FB.XdComm.PageRelation.child:_L4=window.frames[_L0.frameName];break;case FB.XdComm.PageRelation.opener:_L4=window.opener;break;case FB.XdComm.PageRelation.parent:_L4=window.parent;break;default:throw new Error('Can\'t send message to endpoint with type = '+FB.Enum.toString(FB.XdComm.PageRelation,_L0.relation));}var _L5=FB.XdComm.Server.postMessageHeader+FB.JSON.serialize(_L3);var _L6=(_L0.origin)?_L0.origin:'*';this._retrySender(_L3.id.toString(),FB.bind(function(){_L4.postMessage(_L5,_L6);},this));},_prepareMessagePacket:function(_L0,_L1,_L2){var _L3=FB._create__packet();_L3.sc=this.get_receiverUrl();_L3.sf=window.name;_L3.sr=FB.XdComm._sendChannel._getReverseRelation(_L0.relation);_L3.h=_L1;_L3.nd=_L2;_L3.df=FB.XdComm.PacketDataFormat.OBJ;_L3.id=this._nativeMsgId;_L3.sid=this._id;this._nativeMsgId++;return _L3;},_retrySender:function(id,cb){var _L2=1;var _L3=-1;var _L4=FB.bind(function(){FB.FBDebug.logLine(2,'RetrySender '+_L2.toString()+'rd try');_L2++;if(_L2<100){cb();}else{window.clearInterval(_L3);FB.FBDebug.logLine(0,'Message couldn\'t be delivered: id'+id);delete this._nativeMsgsSendQueue[id];}},this);_L4();_L3=window.setInterval(_L4,500);this._nativeMsgsSendQueue[id]=_L3;},_handleAckMessage:function(_L0){_L0=_L0.substr(FB.XdComm.Server.postMessageAckHeader.length);if(!_L0.indexOf(this._id)){var _L1=parseInt(_L0.substr(this._id.length));var _L2=this._nativeMsgsSendQueue[_L1.toString()];if(_L2){delete this._nativeMsgsSendQueue[_L1.toString()];window.clearInterval(_L2);}}else FB.FBDebug.logLine(0,'Ignore XdComm Ack message because send id does not match');},_onMessageEvent:function(e){var _L1=e.data;if(!_L1.indexOf(FB.XdComm.Server.postMessageHeader)){_L1=_L1.substr(FB.XdComm.Server.postMessageHeader.length);var _L2=FB.JSON.deserialize(_L1);var _L3=new FBIntern.Uri(e.origin);var _L4=new FBIntern.Uri(_L2.sc);var _L5=FB.XdComm.Server.postMessageAckHeader+_L2.sid+_L2.id.toString();((e.source)).postMessage(_L5,e.origin);var _L6=_L2.sid+_L2.id.toString();if(!this._nativeMsgsReceiveQueue[_L6]){this._nativeMsgsReceiveQueue[_L6]=true;var _L7=new FB.XdComm.EndPoint(_L2.sf,_L2.sr,_L2.sc);this._ensureReceiveChannel(_L2.sid,_L7);this._onFullDataReceived(_L2,_L7);}}else if(!_L1.indexOf(FB.XdComm.Server.postMessageAckHeader)){this._handleAckMessage(_L1);}else this._tryRecvXdProxy(_L1);},_receiveFlashMessage:function(_L0){_L0=decodeURIComponent(_L0);if(_L0.indexOf(FB.XdComm.Server.postMessageAckHeader)===0){this._handleAckMessage(_L0);}else if(_L0.indexOf(FB.XdComm.Server.postMessageHeader)===0){_L0=_L0.substr(FB.XdComm.Server.postMessageHeader.length);var _L1=FB.JSON.deserialize(_L0);var _L2=new FB.XdComm.EndPoint(_L1.sf,_L1.sr,_L1.sc);var _L3=_L1.sid+_L1.id.toString();if(this._nativeMsgsReceiveQueue[_L3])return;this._nativeMsgsReceiveQueue[_L3]=true;FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(_L4){var _L5=FB.XdComm.Server.postMessageAckHeader+_L3;var _L6=_L4;_L6.postMessage_send(_L5,_L1.ackFlashOrigin);},this));this._ensureReceiveChannel(_L1.sid,_L2);this._onFullDataReceived(_L1,_L2);}else if(!this._tryRecvXdProxy(_L0))FB.FBDebug.logLine(3,'Ignoring Flash XD message with unknown header.');},_tryRecvXdProxy:function(_L0){var _L1=_L0.indexOf('endXdProxy');if(_L1>0){this.onReceiverLoaded(_L0.substr(_L1+11));return true;}else return false;},createUdpUrl:function(_L0,_L1,_L2){return this._createUdpUrlWithFormat(_L0,_L1,_L2,FB.XdComm.PacketDataFormat.JSON);},createUdpUrlWithRawText:function(_L0,_L1,_L2){return this._createUdpUrlWithFormat(_L0,_L1,_L2,FB.XdComm.PacketDataFormat.rawText);},_createUdpUrlWithFormat:function(_L0,_L1,_L2,_L3){var _L4=FB._create__packet();_L4.t=FB.XdComm._packetType.udpSingle;_L4.h=_L0;_L4.sid=this._id;if(_L3!==FB.XdComm.PacketDataFormat.JSON)_L4.df=_L3;var url=this._createPacketUrl(_L4,_L2);var _L6=FB.JSON.serialize(_L1);if(_L6.length>this._maxPacketDataLength)throw new Error('data length is too long');url+=encodeURIComponent(_L6);return url;},_createXdProxyBase:function(_L0){var _L1=(FBIntern.FbGlobals.get_fB_StaticResourceVersions().base_cdn_url+'connect/xd_proxy.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions().xd_proxy+'#');var _L2={origin:this.getUniqueOrigin()};var _L3=(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE);_L2.transport=this.get__useNativeXd()?'postmessage':'flash';if(_L0.relation===FB.XdComm.PageRelation.child){FB.FBDebug.assert(_L0.frameName,'XdComm.Server._createXdProxyPacketUrl: end point '+'does not have child name name specified');_L2.relation='parent.frames['+_L0.frameName+']';}else if(_L0.relation===FB.XdComm.PageRelation.self){_L2.relation='parent';}else if(_L0.relation===FB.XdComm.PageRelation.parent){_L2.relation='parent.parent';}else if(_L0.relation===FB.XdComm.PageRelation.opener){_L2.relation='opener';if(_L3)_L2.transport='flash';}else throw new Error("Can't handle endPoint relation.");var url=(_L1+FBIntern.Uri.createQueryString(_L2)+'&endXdProxy&');return url;},_createXdProxyPacketUrl:function(_L0,_L1){return (this._createXdProxyBase(_L1)+encodeURIComponent(FB.JSON.serialize(_L0)));},unregisterDataHandler:function(_L0){FB.FBDebug.logLine(2,'Unregister data handler '+_L0);if(!FB.Sys.containsKey(this._handlers,_L0))throw new Error('Handler doesn\'t exist');delete this._handlers[_L0];},getUniqueHandlerName:function(_L0){if(!_L0)_L0='handler_';var i=0;var _L2=_L0+i.toString();while(FB.Sys.containsKey(this._handlers,_L2)){i++;_L2=_L0+i.toString();}return _L2;},registerDataHandler:function(_L0,_L1){FB.FBDebug.logLine(2,'Register data handler '+_L0);if(FB.Sys.containsKey(this._handlers,_L0))throw new Error('Handler already exists');this._handlers[_L0]=_L1;var _L2=this._dataRequestQueues[_L0];if(_L2){var _L3=new FB.ArrayEnumerator(_L2);while(_L3.moveNext()){var _L4=_L3.get_current();FB.FBDebug.logLine(2,'handle queued request');var _L5=null;var _L6=new FB.ArrayEnumerator(this._receiveChannels);while(_L6.moveNext()){var _L7=_L6.get_current();if(_L7._id===_L4.sid){_L5=_L7._endPoint;break;}}FB.FBDebug.assert(_L5,'can\'t find endpoint');_L1(this._getDataObject(_L4),_L5);}}},isDataHandlerRegistered:function(_L0){return this._handlers[_L0];},createNamedHiddenIFrame:function(_L0,_L1,_L2,_L3){var _L4=document.createElement('div');var _L5=FB.HiddenContainer.get();_L4=FB.HiddenContainer.get().appendChild(_L4);if(!this._iframeCreated&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){_L4.innerHTML='<iframe src=\'javascript:false\' ></iframe>';this._iframeCreated=true;}if(!_L2)_L2='FB_SERVER_IFRAME';var _L6='<iframe name=\"'+_L0+'\" ';if(_L3)_L6+=_L3;_L6+=' src=\"'+_L1+'\" class=\"'+_L2+'\" scrolling=\"no\" frameborder=\"0\"></iframe>';_L4.innerHTML=_L6;return _L4.childNodes[0];},onReceiverLoaded:function(_L0){if(_L0)window.setTimeout(FB.bind(function(){this._onHashReceived(_L0);},this),0);},_createPacketUrl:function(_L0,_L1){if(this._useXdProxy()&&!/facebook\.com/.test(this._receiverUrl))return this._createXdProxyPacketUrl(_L0,_L1);var _L2=FB.JSON.serialize(_L0);_L2=encodeURIComponent(_L2);if(_L1.channelUrl.indexOf('http'))throw new Error('Invalid channel url '+_L1.channelUrl);var src=_L1.channelUrl+'#';if(FB.FBDebug.logLevel>4)src+='debug=1&';if(_L1.relation===FB.XdComm.PageRelation.child){FB.FBDebug.assert(_L1.frameName,'XdComm.Server.CreatePacketUrl: end point does not have child name name specified');src+='fname='+_L1.frameName+'&';}else if(_L1.relation===FB.XdComm.PageRelation.self){src+='fname=_parent&';}else if(_L1.relation===FB.XdComm.PageRelation.opener){src+='fname=_opener&';}else if(_L1.relation===FB.XdComm.PageRelation.openee)throw new Error('Can\'t handle endPoint '+FB.Enum.toString(FB.XdComm.PageRelation,_L1.relation));src+=_L2;return src;},_createHiddenIFrame:function(src){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('Create iframe '+src+' in '+document.URL);var _L1;_L1=document.createElement('iframe');_L1.className='FB_RECEIVER_DOM';if(!this._iframeCreated&&FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){_L1.src='javascript:false';this._iframeCreated=true;}if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){_L1.src=src;_L1=FB.HiddenContainer.get().appendChild(_L1);}else{_L1=FB.HiddenContainer.get().appendChild(_L1);_L1.src=src;}return _L1;},_removeIframe:function(_L0){if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('Remove iframe in '+document.URL);if(_L0){var _L1=_L0.parentNode;if(_L1)_L1.removeChild(_L0);}},_onHashReceived:function(_L0){if(FB.FBDebug.logLevel>3){FB.FBDebug.writeLine('>>>>>> '+document.URL);FB.FBDebug.writeLine('received hash '+_L0);}if(FB.Sys.startsWith(_L0,'guid=')){var _L1=decodeURIComponent(_L0);var _L2=_L1.indexOf('&');var _L3=_L1.substring(5,_L2);if(this.get_GUID()!==_L3)return;var _L4=_L1.substr(_L2+9);if(_L4==='loggedout'){if(FB.Sys.containsKey(this._handlers,'fbLogout')){var _L5=this._handlers['fbLogout'];_L5(_L4,null);}}else if(FB.Sys.containsKey(this._handlers,'fbLogin')){var _L6=this._handlers['fbLogin'];_L6(_L4,null);}}else{var _L7=encodeURIComponent('}');var _L8=_L0.indexOf(_L7)+_L7.length;var _L9=decodeURIComponent(_L0.substring(0,_L8));var _La=_L0.substr(_L8);var _Lb=FB.JSON.deserialize(_L9);_Lb.d=_La;switch(_Lb.t){case FB.XdComm._packetType.udpSingle:this._onFullDataReceived(_Lb,new FB.XdComm.EndPoint(_Lb.sf,_Lb.sr,_Lb.sc));break;case FB.XdComm._packetType.ack:var _Lc=new FB.XdComm.EndPoint(_Lb.sf,_Lb.sr,_Lb.sc);var _Ld=new FB.ArrayEnumerator(this._sendChannels);while(_Ld.moveNext()){var _Le=_Ld.get_current();if(_Lc.isEqual(_Le._endPoint))_Le._onAck(this._getDataObject(_Lb));}break;default:var _Lf=this._ensureReceiveChannel(_Lb.sid,null);_Lf._onReceivedPacket(_Lb);break;}}},_ensureReceiveChannel:function(sid,_L1){var _L2=null;var _L3=new FB.ArrayEnumerator(this._receiveChannels);while(_L3.moveNext()){var _L4=_L3.get_current();if(_L4._id===sid){_L2=_L4;break;}}if(!_L2){_L2=new FB.XdComm._receiveChannel(sid,_L1);FB.Sys.add(this._receiveChannels,_L2);}return _L2;},_onFullDataReceived:function(_L0,_L1){if(FB.FBDebug.logLevel>3){FB.FBDebug.dump(_L0,'received full packet');FB.FBDebug.dump(_L1,'sender');}if(FB.Sys.containsKey(this._handlers,_L0.h)){var _L2=this._handlers[_L0.h];_L2(this._getDataObject(_L0),_L1);}else{FB.FBDebug.logLine(2,'queue request to unknown handler {0} '+_L0.h);var _L3=this._dataRequestQueues[_L0.h];if(!_L3)this._dataRequestQueues[_L0.h]=_L3=[];FB.Sys.add(_L3,_L0);}},_getDataObject:function(_L0){var _L1=_L0.d;switch(_L0.df){case FB.XdComm.PacketDataFormat.rawText:return _L1;case FB.XdComm.PacketDataFormat.OBJ:return _L0.nd;case FB.XdComm.PacketDataFormat.JSON:default:return FB.JSON.deserialize(decodeURIComponent(_L1));}},get__useNativeXd:function(){if(!FBIntern.Utility.getSiteVar('use_postMessage')){this._nativeXdState=0;}else if(this._nativeXdState===-1)if((FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE&&FBIntern.AppInfo.get_singleton().get_hostInfo().majorVersion<8)){this._nativeXdState=0;}else this._nativeXdState=window.postMessage!=null?1:0;return this._nativeXdState===1;},_useXdProxy:function(){return (FBIntern.Utility.getSiteVar('use_xdProxy')&&!FB.Facebook.get_isInCanvas()&&(this.get__useNativeXd()||this.get__useFlashXd()));},get_GUID:function(){if(!this._guid)this._guid=Math.random().toString();return this._guid;},get__useFlashXd:function(){var _L0=(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE);if(this._flashXdState===-1)if((!this.get__useNativeXd()||_L0)&&FBIntern.Flash.hasRequireVersion()){this._flashXdState=1;}else this._flashXdState=0;return this._flashXdState===1;},_receiverUrl:null,_uniqueOrigin:null,_iframeCreated:false,_id:null,_maxPacketDataLength:0,_nativeMsgId:0,_guid:null});FB.provide('FB.XdComm.Server',{_onLoad:function(){FB.XdComm.Server.singleton=new FB.XdComm.Server();FB.XdComm.Server.postMessageHeader='FB_msg:';FB.XdComm.Server.postMessageAckHeader='FB_msg_ack:';},init:function(_L0){FB.XdComm.Server.singleton.set_receiverUrl(_L0);},registerSimpleHandler:function(_L0,_L1){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered(_L0))FB.XdComm.Server.singleton.registerDataHandler(_L0,function(_L2,_L3){_L1(_L2);});}});
FB.subclass('FB.XdComm.XdRpcClient','FB.Class',{init:function(_L0,_L1,_L2){this._requestQueue={};this._serverEndPoint=_L2;this._rpcClientName=(_L1)?_L1:FB.XdComm.Server.singleton.getUniqueHandlerName('rpcClient');this._rcpServerName=_L0;FB.XdComm.Server.singleton.registerDataHandler(_L1,FB.bind(this._onDataReceived,this));},send:function(_L0,arg,_L2){FB.FBDebug.logLine(3,'XdRpcClient.Send: '+_L0);var _L3=this._idCount++;var _L4=[_L3,this._rpcClientName,_L0,arg,(_L2)?true:false];this._requestQueue[_L3.toString()]=_L2;FB.XdComm.Server.singleton.send(this._serverEndPoint,this._rcpServerName,_L4);},_onDataReceived:function(_L0,_L1){var _L2=_L0;var _L3=_L2[0];var _L4=this._requestQueue[_L3];if(_L4)_L4(_L2[1]);},detachClient:function(){FB.XdComm.Server.singleton.unregisterDataHandler(this._rpcClientName);},_serverEndPoint:null,_rpcClientName:null,_rcpServerName:null,_idCount:0});
FB.subclass('FB.XdComm.XdRpcServer','FB.Class',{init:function(_L0,_L1){if(_L1){this.registeredMethodMap=_L1;}else this.registeredMethodMap={};FB.XdComm.Server.singleton.registerDataHandler(_L0,FB.bind(this._onDataReceived,this));},_onDataReceived:function(_L0,_L1){var _L2=_L0;if(_L2.length!==5)FB.FBDebug.logLine(1,'XdRpcServer.OnDataReceived: invalid parameters.');var _L3=_L2[0];var _L4=_L2[1];var _L5=_L2[2];var arg=_L2[3];var _L7=_L2[4];if(!FB.Sys.containsKey(this.registeredMethodMap,_L5)){FB.FBDebug.logLine(1,'XD RPC server: method '+_L5+' is not allowed or doesn\'t exist.');return;}var _L8=this.registeredMethodMap[_L5];FB.FBDebug.logLine(3,'XdRpcServer.Received: '+_L5);if(_L8.method){var _L9=_L8.method(arg,_L1);if(_L7)FB.XdComm.Server.singleton.send(_L1,_L4,[_L3,_L9]);}else if(_L8.asyncMethod){_L8.asyncMethod(arg,FB.bind(function(_L9){if(_L7)FB.XdComm.Server.singleton.send(_L1,_L4,[_L3,_L9]);},this),_L1);}else FB.FBDebug.logLine(1,'MethodInfo for '+_L5+' does not contain any function pointers.');},registeredMethodMap:null});
FB._create_XdRpcMethodInfo=function(_L0,_L1){var o={};FB.FBDebug.assert((!_L0)^(!_L1),'One and only one of method or asyncMethod parameters must not be null.');o.method=_L0;o.asyncMethod=_L1;return o;};
FB.subclass('FB.IFrameUtil._resizeUtil','FB.Class',{init:function(_L0){this.allowWidthChange=_L0;},setCanvasHeight:function(arg,_L1){var _L2=arg;FB.FBDebug.logLine(2,'ResizeUtil: set canvas height to '+_L2);if(!_L2){FB.FBDebug.logLine(1,'Called ResizeUtil.SetCanvasHeight() with invalid input paramters.');}else{var _L3=this.getIFrameElement(_L1.frameName);if(_L3)_L3.style.height=_L2;}return null;},setCanvasSize:function(arg,_L1){var _L2=arg;var _L3=_L2['w'];var _L4=_L2['h'];FB.FBDebug.logLine(2,FB.Sys.format('ResizeUtil: set canvas size to {0}, {1}',_L3,_L4));if(_L4){var _L5=this.getIFrameElement(_L1.frameName);if(_L5)_L5.style.height=_L4;}if(_L3)if(this.allowWidthChange){var _L5=this.getIFrameElement(_L1.frameName);if(_L5)_L5.style.width=_L3;}else FB.FBDebug.logLine(1,'Iframe width change is disallowed.');return null;},getIFrameElement:function(_L0){var _L1=document.getElementsByTagName('iframe');for(var i=0;i<_L1.length;i++){var _L3=_L1[i];if(_L3.name===_L0)return _L3;}return null;},allowWidthChange:false});
FB.subclass('FB.IFrameUtil._canvasUtil','FB.IFrameUtil._resizeUtil',{init:function(_L0){this._super(_L0);},getCanvasInfo:function(arg,_L1){var _L2=this.getIFrameElement(_L1.frameName);if(_L2){var _L3=Vector2.getViewportDimensions();var _L4=Vector2.getDocumentDimensions();var _L5=Vector2.getScrollPosition(null);var _L6=Vector2.getElementPosition(_L2,'document');var _L7={window:{w:_L3.x,h:_L3.y},page:{w:_L4.x,h:_L4.y},scrollPos:{x:_L5.x,y:_L5.y},canvas:{w:_L2.offsetWidth,h:_L2.offsetHeight},canvasPos:{x:_L6.x,y:_L6.y}};return _L7;}else return null;},changeUrlSuffix:function(arg,_L1){var _L2=arg;PlatformCanvasController.singleton.changeUrlSuffix(_L2,false);return null;},refreshUrl:function(arg,_L1){var url=arg;PlatformCanvasController.refreshUrl(url);return null;},scrollTo:function(arg,_L1){var pos=arg;var _L3=new Vector2(pos.x,pos.y,'document');DOMScroll.scrollTo(_L3,false);return null;},attachToWindowResizeEvent:function(arg,_L1,_L2){this.add_windowSizeChangedCallback(_L1);FBIntern.Utility.addEventListener(window.self,'resize',FB.bind(function(e){if(this.__windowSizeChangedCallback){var _L4=this.getCanvasInfo(null,_L2);this.__windowSizeChangedCallback(_L4);}},this));},requireLogin:function(arg,_L1,_L2){PlatformCanvasController.singleton.requireLogin();},goURI:function(arg,_L1,_L2){var url=arg;PlatformCanvasController.singleton.goURI(url);},closeLogin:function(arg,_L1,_L2){PlatformCanvasController.singleton.closeLogin();},showFeedDialog:function(arg,_L1,_L2){var _L3=arg;PlatformCanvasController.singleton.showFeedDialog(_L3['template_bundle_id'],_L3['template_data'],_L3['body_general'],_L3['target_id'],_L3['user_message_prompt'],_L3['user_message']);},add_windowSizeChangedCallback:function(_L0){this.__windowSizeChangedCallback=FB.Delegate.combine(this.__windowSizeChangedCallback,_L0);},remove_windowSizeChangedCallback:function(_L0){this.__windowSizeChangedCallback=FB.Delegate.remove(this.__windowSizeChangedCallback,_L0);},__windowSizeChangedCallback:null});
FB.subclass('FB.IFrameUtil.CanvasUtilServer','FB.Class',{init:function(){}});FB.provide('FB.IFrameUtil.CanvasUtilServer',{_onLoad:function(){FB.IFrameUtil.CanvasUtilServer._rpcServer=null;FB.IFrameUtil.CanvasUtilServer._rpcClient=null;FB.IFrameUtil.CanvasUtilServer._canvasUtil=null;},run:function(_L0){if(!FB.IFrameUtil.CanvasUtilServer._rpcServer){FB.IFrameUtil.CanvasUtilServer._canvasUtil=new FB.IFrameUtil._canvasUtil(_L0);var _L1={setCanvasHeight:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.setCanvasHeight,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),setCanvasSize:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.setCanvasSize,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),getCanvasInfo:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.getCanvasInfo,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),scrollTo:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.scrollTo,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),changeUrlSuffix:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.changeUrlSuffix,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),refreshUrl:FB._create_XdRpcMethodInfo(FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.refreshUrl,FB.IFrameUtil.CanvasUtilServer._canvasUtil),null),setInnerReceiver:FB._create_XdRpcMethodInfo(FB.IFrameUtil.CanvasUtilServer.setInnerReceiver,null),attachToWindowResizeEvent:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.attachToWindowResizeEvent,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),requireLogin:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.requireLogin,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),closeLogin:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.closeLogin,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),goURI:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.goURI,FB.IFrameUtil.CanvasUtilServer._canvasUtil)),showFeedDialog:FB._create_XdRpcMethodInfo(null,FB.bind(FB.IFrameUtil.CanvasUtilServer._canvasUtil.showFeedDialog,FB.IFrameUtil.CanvasUtilServer._canvasUtil))};FB.FBDebug.assert(FB.XdComm.Server.singleton.get_receiverUrl(),'FB.XdComm.Server not initialized');FB.IFrameUtil.CanvasUtilServer._rpcServer=new FB.XdComm.XdRpcServer('iframeOuterServer',_L1);}else if(_L0&&!FB.IFrameUtil.CanvasUtilServer._canvasUtil.allowWidthChange)FB.IFrameUtil.CanvasUtilServer._canvasUtil.allowWidthChange=true;},setInnerReceiver:function(_L0,_L1){var _L2=_L0;FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set innner url to  {0}',_L2['receiverUrl']));FB.IFrameUtil.CanvasUtilServer.refreshRpcClient(_L2['receiverUrl']);return null;},loadNewUrl:function(url){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loadNewUrl',url,null);},loginResponse:function(_L0,_L1){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();if(!_L0){FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loginResponse',null,null);}else FB.IFrameUtil.CanvasUtilServer._rpcClient.send('loginResponse',_L1,null);},feedResponse:function(){FB.IFrameUtil.CanvasUtilServer.ensureRpcClient();FB.IFrameUtil.CanvasUtilServer._rpcClient.send('feedResponse',null,null);},refreshRpcClient:function(_L0){FB.FBDebug.assert(_L0,'Inner receiver url is null.');if(FB.IFrameUtil.CanvasUtilServer._rpcClient)FB.IFrameUtil.CanvasUtilServer._rpcClient.detachClient();var _L1=new FB.XdComm.EndPoint('iframe_canvas',FB.XdComm.PageRelation.child,_L0);_L1.UID=Math.floor(Math.random()*1e+06);FB.IFrameUtil.CanvasUtilServer._rpcClient=new FB.XdComm.XdRpcClient('iframeInnerServer','iframeOuterClient',_L1);},ensureRpcClient:function(){FB.FBDebug.assert(FB.IFrameUtil.CanvasUtilServer._rpcClient,'Inner iframe server not ready.');}});
FB.subclass('FB.FeedDialogInfo','FB.Class',{init:function(_L0,_L1,_L2,_L3){this.parameters=_L0;this.callback=_L1;this.showLoginDialog=_L2;this.userMessageObj=_L3;},parameters:null,callback:null,showLoginDialog:false,userMessageObj:null});
FB._create__stepInfo=function(_L0,_L1){var o={};o.jsonRequest=_L0;o.result=_L1;return o;};
FB.subclass('FB.SequencerBase','FB.Class',{init:function(){},_completedCallback:null,isParallel:true,_api:null});
FB.subclass('FB.BatchSequencer','FB.SequencerBase',{init:function(){this.stepsList=[];this._super();},execute:function(_L0){this._completedCallback=_L0;var _L1=this.stepsList.length;if(_L1>1){var _L2={};var _L3=[];var _L4=new FB.ArrayEnumerator(this.stepsList);while(_L4.moveNext()){var _L5=_L4.get_current();FB.Sys.add(_L3,_L5.jsonRequest._requestBody);}_L2['method_feed']=_L3;_L2['serial_only']=!this.isParallel;var _L6=this._api._generateJsonRequest('batch.run',_L2);_L6.callback=FB.bind(function(_L7,_L8){if(!_L8&&(_L8=this._api._checkError(_L7)))_L7=null;this._setStepResults(_L7,_L8);this.onAllCompleted();},this);_L6.sendRequest();}else if(_L1===1){var _L5=this.stepsList[0];_L5.jsonRequest.callback=FB.bind(function(_L7,_L8){_L5.result.setPendingResult(_L7,_L8);this.onAllCompleted();},this);_L5.jsonRequest.sendRequest();}else this.onAllCompleted();},_setStepResults:function(_L0,_L1){var _L2=_L0;FB.FBDebug.assert(!_L2||_L2.length===this.stepsList.length,'Malformed batch result');var _L3=this.stepsList.length;for(var i=0;i<_L3;i++){var _L5=(this.stepsList[i]).result;if(_L1){_L5.exception=_L1;_L5.result=null;}else if(_L2){var _L6=_L2[i];var _L7=FB.JSON.deserialize(_L6,true);_L5.setPendingResult(_L7,null);}}},onAllCompleted:function(){FB.Sys.clear(this.stepsList);if(this._completedCallback){var _L0=this._completedCallback;this._completedCallback=null;_L0();}},_addStep:function(_L0,_L1){var _L2=FB._create__stepInfo(_L0,_L1);FB.Sys.add(this.stepsList,_L2);}});
FB.subclass('FB.ImmediateSequencer','FB.BatchSequencer',{init:function(_L0){this._super();this.isParallel=false;this._callback=_L0;},_addStep:function(_L0,_L1){this.pendingResult=_L1;this._super(_L0,_L1);this.execute(null);},onAllCompleted:function(){FB.Sys.clear(this.stepsList);if(this._callback)this._callback(this.pendingResult.result,this.pendingResult.exception);},pendingResult:null,_callback:null});
FB.provide('FB.FeedStorySize',{oneLine:1,shortStory:2,full:4});
FB.provide('FB.UI.PopupPlacement',{center:1,topCenter:2,hidden:3});
FB.subclass('FB.IFrameUtil.ResizeUtilServer','FB.Class',{init:function(){}});FB.provide('FB.IFrameUtil.ResizeUtilServer',{run:function(){FB.IFrameUtil.CanvasUtilServer.run(true);}});
FB.subclass('FB.UI.UIElement','FB.Class',{init:function(){},get_domElement:function(){return this._domElement;},set_domElement:function(_L0){this._domElement=_L0;return _L0;},setLeft:function(_L0){if(FB.localeIsRTL){this._domElement.style.right=_L0.toString()+'px';}else this._domElement.style.left=_L0.toString()+'px';},setTop:function(top){this._domElement.style.top=top.toString()+'px';},_domElement:null});FB.provide('FB.UI.UIElement',{addCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';var _L3=' '+_L1+' ';if(_L2.indexOf(_L3)<0)_L0.className=_L0.className+' '+_L1;},containsCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';return _L2.indexOf(' '+_L1+' ')>=0;},removeCssClass:function(_L0,_L1){var _L2=' '+_L0.className+' ';var _L3=' '+_L1+' ';var _L4=_L2.indexOf(_L3);if(_L4>=0){var _L5=_L2.substring(1,_L4)+_L2.substring(_L4+_L3.length,_L2.length-1);_L0.className=_L5;}}});
FB.subclass('FBIntern.UIHelper','FB.Class',{init:function(){}});FB.provide('FBIntern.UIHelper',{findElementById:function(_L0,id){if(_L0.id===id)return _L0;var c=_L0.childNodes.length;for(var i=0;i<c;i++){var _L4=_L0.childNodes[i];var _L5=FBIntern.UIHelper.findElementById(_L4,id);if(_L5)return _L5;}return null;}});
FB.subclass('FB.UI.DomResources','FB.Class',{init:function(){}});FB.provide('FB.UI.DomResources',{_onLoad:function(){FB.UI.DomResources._dicts=[];},addResourceDict:function(_L0){FB.Sys.add(FB.UI.DomResources._dicts,_L0);},getResourceById:function(id){var c=FB.UI.DomResources._dicts.length;var _L2;for(var i=0;i<c;i++){_L2=((FB.UI.DomResources._dicts[i])).getClonedElement(id);if(_L2)return _L2;}return null;}});
FB.subclass('FB.UI.Popup','FB.UI.UIElement',{init:function(){this._placement=FB.UI.PopupPlacement.center;this._offset=FB._create_Point(0,0);this._popupHeight=-1;this._popupWidth=-1;this._super();},setContentWidth:function(_L0){this._popupWidth=_L0+FB.UI.Popup._borderSize;},setContentHeight:function(_L0){this._popupHeight=_L0+FB.UI.Popup._borderSize;},show:function(){if(!this._loadedInDom){FB.UI.UIElement.addCssClass(this.get_domElement(),'fb_popup');FB.UI.Popup.get__popupContainer().appendChild(this.get_domElement());this._loadedInDom=true;}this.sizing();this.onAfterShow();},sizing:function(){if(!this._loadedInDom)return false;if(this._popupWidth>=0)this.get_domElement().style.width=this._popupWidth.toString()+'px';if(this._popupHeight>=0)this.get_domElement().style.height=this._popupHeight.toString()+'px';var _L0=FB._create_Size(this.get_domElement().offsetWidth,this.get_domElement().offsetHeight);var _L1=null;var _L2=FBIntern.Utility.get_windowSize();var _L3=document.documentElement;var _L4=(this.hidden)?FB.UI.PopupPlacement.hidden:this.get_placement();var _L5;if(document.documentElement&&document.documentElement.scrollTop>0){_L5=document.documentElement.scrollTop;}else _L5=document.body.scrollTop;switch(_L4){case FB.UI.PopupPlacement.topCenter:_L1=FB._create_Point(_L3.scrollLeft+_L2.w/2,_L5+125);_L1.x-=(_L0.w/2);break;case FB.UI.PopupPlacement.center:_L1=FB._create_Point(_L3.scrollLeft+_L2.w/2,_L5+_L2.h/2);_L1.x-=(_L0.w/2);_L1.y-=(_L0.h/2);break;case FB.UI.PopupPlacement.hidden:_L1=FB._create_Point(-100-_L0.w,-100-_L0.h);break;}_L1.x+=this._offset.x;_L1.y+=this._offset.y;if(_L1.x<0)_L1.x=0;if(_L1.y<0&&_L4!==FB.UI.PopupPlacement.hidden)_L1.y=0;this.setLeft(_L1.x);this.setTop(_L1.y);return true;},onAfterShow:function(){},close:function(_L0){if(this.__closing)this.__closing(_L0);if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()!==FBIntern.HostName.IE){FB.UI.Popup.get__popupContainer().removeChild(this.get_domElement());}else{var _L1=this.get_domElement();_L1.style.display='none';window.setTimeout(FB.bind(function(){if(_L1.parentNode)_L1.parentNode.removeChild(_L1);},this),4000);}if(this.__closed)this.__closed(_L0);},get_placementTarget:function(){return this._placementTarget;},set_placementTarget:function(_L0){this._placementTarget=_L0;return _L0;},get_offset:function(){return this._offset;},set_offset:function(_L0){this._offset=_L0;return _L0;},get_placement:function(){return this._placement;},set_placement:function(_L0){this._placement=_L0;return _L0;},add_closing:function(_L0){this.__closing=FB.Delegate.combine(this.__closing,_L0);},remove_closing:function(_L0){this.__closing=FB.Delegate.remove(this.__closing,_L0);},__closing:null,add_closed:function(_L0){this.__closed=FB.Delegate.combine(this.__closed,_L0);},remove_closed:function(_L0){this.__closed=FB.Delegate.remove(this.__closed,_L0);},__closed:null,_placementTarget:null,_loadedInDom:false,hidden:false});FB.provide('FB.UI.Popup',{_onLoad:function(){FB.UI.Popup._borderSize=22;FB.UI.Popup._popupContainer=null;},get__popupContainer:function(){if(!FB.UI.Popup._popupContainer){FB.UI.Popup._popupContainer=FB.$('fb_popupContainer');if(!FB.UI.Popup._popupContainer){var div=document.createElement('div');div.className='fb_resetstyles fb_popupContainer';FB.UI.Popup._popupContainer=document.body.appendChild(div);}}else FB.UI.Popup._popupContainer=document.body.appendChild(FB.UI.Popup._popupContainer);return FB.UI.Popup._popupContainer;}});
FB.subclass('FB.UI.PopupDialog','FB.UI.Popup',{init:function(_L0,_L1,_L2,_L3){this._super();this._content=_L1;this._showLoading=_L2;if(_L3)this.hidden=true;this.set_domElement(FB.UI.DomResources.getResourceById('fb_pop_dialog_table'));this._contentParent=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_content');this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');this._header.innerHTML=FB.Sys.htmlEncode(_L0);var _L4=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_cancel_button');this._loader=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_loading_spinner');if(_L4)FBIntern.Utility.addEventListener(_L4,'click',FB.bind(this._onCloseButtonClicked,this));if(_L1)this._contentParent.appendChild(_L1);},_onCloseButtonClicked:function(e){this.close(false);},get__content:function(){return this._content;},set__content:function(_L0){if(this._content)this._contentParent.removeChild(this._content);this._content=_L0;this._contentParent.appendChild(this._content);return _L0;},get_id:function(){if(!this._id){if(!FB.UI.PopupDialog._dialogWithIds)FB.UI.PopupDialog._dialogWithIds={};this._id=FB.Sys.getKeyCount(FB.UI.PopupDialog._dialogWithIds).toString()+'_'+Math.random().toString();FB.UI.PopupDialog._dialogWithIds[this._id]=this;FB.UI.PopupDialog._enableXdTitleChange();}return this._id;},get__title:function(){this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');return this._header.innerHTML;},set__title:function(_L0){this._header=FBIntern.UIHelper.findElementById(this.get_domElement(),'fb_dialog_header');this._header.innerHTML=FB.Sys.htmlEncode(_L0);return _L0;},_createCrossDomainClosingLink:function(_L0){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbClosingDialog'))FB.XdComm.Server.singleton.registerDataHandler('fbClosingDialog',FB.UI.PopupDialog._onXdClosingDialogHandler);var _L1={token:this.get_id(),result:_L0};var _L2=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,FB.XdComm.Server.singleton.get_receiverUrl());return FB.XdComm.Server.singleton.createUdpUrl('fbClosingDialog',_L1,_L2);},onAfterShow:function(){if(this._showLoading){FB.UI.UIElement.addCssClass(this._loader,'fb_dialog_loading');FBIntern.Utility.waitForLoaded(this._content,FB.bind(function(){FB.UI.UIElement.removeCssClass(this._loader,'fb_dialog_loading');if(this.hidden){this.hidden=false;this.sizing();}},this));}},_content:null,_contentParent:null,_header:null,_loader:null,_id:null,_showLoading:false});FB.provide('FB.UI.PopupDialog',{_onLoad:function(){FB.UI.PopupDialog._dialogWithIds=null;FB.UI.PopupDialog._rpcServer=null;},_createConfirmationDialog:function(_L0,_L1,_L2){var _L3=new FB.UI.PopupDialog(_L0,_L1,false,false);_L3.add_closing(_L2);var _L4=FBIntern.UIHelper.findElementById(_L1,'fb_confirm');var _L5=FBIntern.UIHelper.findElementById(_L1,'fb_cancel');if(_L4)FBIntern.Utility.addEventListener(_L4,'click',function(e){_L3.close(true);});if(_L5)FBIntern.Utility.addEventListener(_L5,'click',function(e){_L3.close(false);});return _L3;},getById:function(id){if(FB.UI.PopupDialog._dialogWithIds)return FB.UI.PopupDialog._dialogWithIds[id];return null;},_enableXdTitleChange:function(){if(!FB.UI.PopupDialog._rpcServer)FB.UI.PopupDialog._rpcServer=new FB.XdComm.XdRpcServer('popupDialogServer',{changeTitle:FB._create_XdRpcMethodInfo(FB.UI.PopupDialog._rpcChangeTitle,null)});},_rpcChangeTitle:function(arg,_L1){var _L2=arg;var id=_L2['id'];var _L4=FB.UI.PopupDialog.getById(id);if(_L4){_L4.set__title((_L2['title']));}else FB.FBDebug.logLine(0,'Ignore changeTitle rpc request because we can\'t find the given dialog id = '+id);return null;},_onXdClosingDialogHandler:function(_L0,_L1){var _L2=_L0;var _L3=_L2['token'];var _L4=_L2['result'];var _L5=FB.UI.PopupDialog.getById(_L3);if(_L5){FB.FBDebug.logLine(3,'Close dialog');_L5.close(_L4);}else FB.FBDebug.logLine(1,'Invalid token to close dialog: '+_L3);}});
FB.subclass('FB.UI.FBMLPopupDialog','FB.UI.PopupDialog',{init:function(_L0,_L1){this._super(_L0,null,false,false);var _L2=document.createElement('div');this.set__content(_L2);this.setFBMLContent(_L1);},setFBMLContent:function(_L0){this.get__content().setAttribute('fbml','<fb:fbml>'+_L0+'</fb:fbml>');},setContentWidth:function(_L0){this._super(_L0);this.get__content().setAttribute('iframeWidth',_L0.toString()+'px');},setContentHeight:function(_L0){this.get__content().setAttribute('iframeHeight',_L0.toString()+'px');this.get_offset().y=-_L0/2;},onAfterShow:function(){this._super();var _L0=this.get__content();FB.Bootstrap._requireFeatures(['XFBML'],function(){serverFbml=new FB.XFBML.ServerFbml(_L0);FB.XFBML.Host.addElement(serverFbml);});}});
FB.subclass('FBIntern.Cookie','FB.Class',{init:function(){}});FB.provide('FBIntern.Cookie',{set:function(_L0,_L1,_L2,_L3,_L4){if(FB.Sys.isNullOrUndefined(_L1))_L1='';var _L5=_L0+'='+encodeURIComponent(_L1)+';';if(_L4){var _L6=new Date();var _L7=new Date(_L6.getTime()+3600000*24*_L4);_L5+='expires='+_L7.toUTCString()+';';}if(_L2)_L5+='path='+_L2+';';if(_L3)_L5+='domain='+_L3+';';document.cookie=_L5;},clear:function(_L0,_L1,_L2){FBIntern.Cookie.set(_L0,'',_L1,_L2,-10);},getValue:function(_L0){var _L1=_L0+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];c=FB.Sys.trim(c);if(!c.indexOf(_L1)){c=decodeURIComponent(c.substr(_L1.length));return c;}}return null;}});
FB.Type.createClass('FBIntern.Md5',{requires:[],ctor:function(){},static:{computeHashToString:function(_L0){function _L1(_L29,_L2a){return (_L29<<_L2a)|(_L29>>>(32-_L2a));}function _L2(lX,lY){var lX4,lY4,lX8,lY8,_L2f;lX8=(lX&2147483648);lY8=(lY&2147483648);lX4=(lX&1073741824);lY4=(lY&1073741824);_L2f=(lX&1073741823)+(lY&1073741823);if(lX4&lY4)return (_L2f^2147483648^lX8^lY8);if(lX4|lY4){if(_L2f&1073741824){return (_L2f^3221225472^lX8^lY8);}else return (_L2f^1073741824^lX8^lY8);}else return (_L2f^lX8^lY8);}function F(x,y,z){return (x&y)|((~x)&z);}function G(x,y,z){return (x&z)|(y&(~z));}function H(x,y,z){return (x^y^z);}function I(x,y,z){return (y^(x|(~z)));}function FF(a,b,c,d,x,s,ac){a=_L2(a,_L2(_L2(F(b,c,d),x),ac));return _L2(_L1(a,s),b);}function GG(a,b,c,d,x,s,ac){a=_L2(a,_L2(_L2(G(b,c,d),x),ac));return _L2(_L1(a,s),b);}function HH(a,b,c,d,x,s,ac){a=_L2(a,_L2(_L2(H(b,c,d),x),ac));return _L2(_L1(a,s),b);}function II(a,b,c,d,x,s,ac){a=_L2(a,_L2(_L2(I(b,c,d),x),ac));return _L2(_L1(a,s),b);}function _Lb(_L0){var _L29;var _L2a=_L0.length;var _L2b=_L2a+8;var _L2c=(_L2b-(_L2b%64))/64;var _L2d=(_L2c+1)*16;var _L2e=Array(_L2d-1);var _L2f=0;var _L30=0;while(_L30<_L2a){_L29=(_L30-(_L30%4))/4;_L2f=(_L30%4)*8;_L2e[_L29]=(_L2e[_L29]|(_L0.charCodeAt(_L30)<<_L2f));_L30++;}_L29=(_L30-(_L30%4))/4;_L2f=(_L30%4)*8;_L2e[_L29]=_L2e[_L29]|(128<<_L2f);_L2e[_L2d-2]=_L2a<<3;_L2e[_L2d-1]=_L2a>>>29;return _L2e;}function _Lc(_L29){var _L2a="",_L2b="",_L2c,_L2d;for(_L2d=0;_L2d<=3;_L2d++){_L2c=(_L29>>>(_L2d*8))&255;_L2b="0"+_L2c.toString(16);_L2a=_L2a+_L2b.substr(_L2b.length-2,2);}return _L2a;}function _Ld(_L0){_L0=_L0.replace(/\r\n/g,"\n");var _L29="";for(var n=0;n<_L0.length;n++){var c=_L0.charCodeAt(n);if(c<128){_L29+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){_L29+=String.fromCharCode((c>>6)|192);_L29+=String.fromCharCode((c&63)|128);}else{_L29+=String.fromCharCode((c>>12)|224);_L29+=String.fromCharCode(((c>>6)&63)|128);_L29+=String.fromCharCode((c&63)|128);}}return _L29;}var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;_L0=_Ld(_L0);x=_Lb(_L0);a=1732584193;b=4023233417;c=2562383102;d=271733878;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,3614090360);d=FF(d,a,b,c,x[k+1],S12,3905402710);c=FF(c,d,a,b,x[k+2],S13,606105819);b=FF(b,c,d,a,x[k+3],S14,3250441966);a=FF(a,b,c,d,x[k+4],S11,4118548399);d=FF(d,a,b,c,x[k+5],S12,1200080426);c=FF(c,d,a,b,x[k+6],S13,2821735955);b=FF(b,c,d,a,x[k+7],S14,4249261313);a=FF(a,b,c,d,x[k+8],S11,1770035416);d=FF(d,a,b,c,x[k+9],S12,2336552879);c=FF(c,d,a,b,x[k+10],S13,4294925233);b=FF(b,c,d,a,x[k+11],S14,2304563134);a=FF(a,b,c,d,x[k+12],S11,1804603682);d=FF(d,a,b,c,x[k+13],S12,4254626195);c=FF(c,d,a,b,x[k+14],S13,2792965006);b=FF(b,c,d,a,x[k+15],S14,1236535329);a=GG(a,b,c,d,x[k+1],S21,4129170786);d=GG(d,a,b,c,x[k+6],S22,3225465664);c=GG(c,d,a,b,x[k+11],S23,643717713);b=GG(b,c,d,a,x[k+0],S24,3921069994);a=GG(a,b,c,d,x[k+5],S21,3593408605);d=GG(d,a,b,c,x[k+10],S22,38016083);c=GG(c,d,a,b,x[k+15],S23,3634488961);b=GG(b,c,d,a,x[k+4],S24,3889429448);a=GG(a,b,c,d,x[k+9],S21,568446438);d=GG(d,a,b,c,x[k+14],S22,3275163606);c=GG(c,d,a,b,x[k+3],S23,4107603335);b=GG(b,c,d,a,x[k+8],S24,1163531501);a=GG(a,b,c,d,x[k+13],S21,2850285829);d=GG(d,a,b,c,x[k+2],S22,4243563512);c=GG(c,d,a,b,x[k+7],S23,1735328473);b=GG(b,c,d,a,x[k+12],S24,2368359562);a=HH(a,b,c,d,x[k+5],S31,4294588738);d=HH(d,a,b,c,x[k+8],S32,2272392833);c=HH(c,d,a,b,x[k+11],S33,1839030562);b=HH(b,c,d,a,x[k+14],S34,4259657740);a=HH(a,b,c,d,x[k+1],S31,2763975236);d=HH(d,a,b,c,x[k+4],S32,1272893353);c=HH(c,d,a,b,x[k+7],S33,4139469664);b=HH(b,c,d,a,x[k+10],S34,3200236656);a=HH(a,b,c,d,x[k+13],S31,681279174);d=HH(d,a,b,c,x[k+0],S32,3936430074);c=HH(c,d,a,b,x[k+3],S33,3572445317);b=HH(b,c,d,a,x[k+6],S34,76029189);a=HH(a,b,c,d,x[k+9],S31,3654602809);d=HH(d,a,b,c,x[k+12],S32,3873151461);c=HH(c,d,a,b,x[k+15],S33,530742520);b=HH(b,c,d,a,x[k+2],S34,3299628645);a=II(a,b,c,d,x[k+0],S41,4096336452);d=II(d,a,b,c,x[k+7],S42,1126891415);c=II(c,d,a,b,x[k+14],S43,2878612391);b=II(b,c,d,a,x[k+5],S44,4237533241);a=II(a,b,c,d,x[k+12],S41,1700485571);d=II(d,a,b,c,x[k+3],S42,2399980690);c=II(c,d,a,b,x[k+10],S43,4293915773);b=II(b,c,d,a,x[k+1],S44,2240044497);a=II(a,b,c,d,x[k+8],S41,1873313359);d=II(d,a,b,c,x[k+15],S42,4264355552);c=II(c,d,a,b,x[k+6],S43,2734768916);b=II(b,c,d,a,x[k+13],S44,1309151649);a=II(a,b,c,d,x[k+4],S41,4149444226);d=II(d,a,b,c,x[k+11],S42,3174756917);c=II(c,d,a,b,x[k+2],S43,718787259);b=II(b,c,d,a,x[k+9],S44,3951481745);a=_L2(a,AA);b=_L2(b,BB);c=_L2(c,CC);d=_L2(d,DD);}var temp=_Lc(a)+_Lc(b)+_Lc(c)+_Lc(d);return temp.toLowerCase();}}});
FB.provide('FB.ApiErrorCode',{unknown:1,service_not_available:2,max_requests_reached:4,remote_address_not_allowed:5,invalid_parameter:100,invalid_api_key:101,invalid_session_key:102,invalid_call_id:103,invalid_signature:104,permission_denied:200,internal_error:800,invalid_operation:801,quota_exceeded:802,object_already_exists:804,temporary_Database_failure:805});
FB.subclass('FB.PendingResult','FB.SimpleWaitable',{init:function(){this._super();},exception:null,setPendingResult:function(_L0,_L1){var _L2=_L0;if(!_L1&&_L2&&!FB.Sys.isUndefined(_L2.error_code)){_L1=FBIntern.Utility.createException(_L2.error_msg,_L2);FB.FBDebug.logLine(1,'Facebook API error: '+_L2.error_msg);_L0=null;}this.exception=_L1;this._setResult(_L0);}});
FB.subclass('FB._xdJsonRequest','FB.Class',{init:function(_L0,_L1,url,_L3,_L4){this._method=_L1;this._url=url;this._requestBody=_L3;this._extraHeaders=_L4;this._xdHttpClient=_L0;},sendRequest:function(){this._xdHttpClient.send(this._method,this._url,this._requestBody,this._extraHeaders,FB.bind(function(_L0){if(_L0.status<400){var _L1=_L0.responseText;var _L2;try{_L2=FB.JSON.deserialize(_L1,true);}catch(_L4){var _L3=FBIntern.Utility.createException('JSON exception during deserialization.',_L1,_L4);this.callback(null,_L4);return;}this.callback(_L2,null);}else{var _L4=new Error(FB.Sys.format('HTTP request failure status code=\'{0}\', text=\'{1}\'',_L0.status,_L0.statusText));this.callback(null,_L4);}},this));},callback:null,_method:null,_url:null,_requestBody:null,_extraHeaders:null,_xdHttpClient:null});
FB._create_SessionRecord=function(_L0,uid,_L2,_L3,_L4,sig){var o={};o.session_key=_L0;o.uid=uid;o.expires=_L2;o.secret=_L3;o.sig=sig;o.base_domain=_L4;return o;};
FB._create_XdHttpRequestResult=function(id,_L1,_L2,_L3){var o={};o.status=_L1;o.statusText=_L2;o.responseText=_L3;o.id=id;return o;};
FB.subclass('FB._xdHttpRequestClient','FB.Class',{init:function(_L0,_L1,_L2){if(!FBIntern.Flash.hasRequireVersion()){FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L2,_L0,'FB_SERVER_IFRAME',null);this._serverEndPoint=new FB.XdComm.EndPoint(_L2,FB.XdComm.PageRelation.child,_L1);}else if(!window.FB_OnXdHttpResult){FB.FBDebug.logLine(2,'Set window.FB_OnXdHttpResult');window.FB_OnXdHttpResult=FB._xdHttpRequestClient._onFlashDataReceived;}},send:function(_L0,url,_L2,_L3,_L4){if(!FBIntern.Flash.hasRequireVersion()){var uri=new FBIntern.Uri(url);var _L6=uri.get_pathAndQuery();FB._xdHttpRequestClient._ensureListenerStarted();var _L7=FB._xdHttpRequestClient._idCount++;var _L8=[_L7,_L0,_L6,_L2,_L3];FB._xdHttpRequestClient._requestQueue[_L7.toString()]=_L4;FB.FBDebug.logLine(3,'XdHttpRequestClient: send request for '+url);FB.XdComm.Server.singleton.send(this._serverEndPoint,'http_server',_L8);}else FBIntern.Flash.get_xdComm().waitUntilReady(FB.bind(function(_L9){var _La=_L9;FB.FBDebug.logLine(3,'XdHttpRequestClient: send flash request for '+url);var _L7=_La.sendXdHttpRequest(_L0,url,_L2,_L3);FB._xdHttpRequestClient._requestQueue[_L7.toString()]=_L4;},this));},_serverEndPoint:null});FB.provide('FB._xdHttpRequestClient',{_onLoad:function(){FB._xdHttpRequestClient._requestQueue={};FB._xdHttpRequestClient._handlerRegistered=false;FB._xdHttpRequestClient._idCount=0;},_ensureListenerStarted:function(){if(!FB._xdHttpRequestClient._handlerRegistered){FB.XdComm.Server.singleton.registerDataHandler('http_client',FB._xdHttpRequestClient._onDataReceived);FB._xdHttpRequestClient._handlerRegistered=true;}},_onFlashDataReceived:function(id,_L1){_L1=FBIntern.Flash.decode(_L1);var _L2=FB._create_XdHttpRequestResult(id,200,'Success',_L1);window.setTimeout(function(){FB._xdHttpRequestClient._onDataReceived(_L2,null);},0);},_onDataReceived:function(_L0,_L1){FB.FBDebug.logLine(3,'XdHttpRequestClient: got result ');var _L2=_L0;var _L3=FB._xdHttpRequestClient._requestQueue[_L2.id];_L3(_L2);}});
FB.subclass('FB.ApiClient','FB.Class',{init:function(_L0){this._sessionWaitable=new FB.SimpleWaitable();this._sessionRefreshInterval=20*60*1000;this._sessionRefreshIntervalId=null;this._apiKey=_L0;if(!FB.Facebook.apiKey)FB.Facebook.apiKey=_L0;var _L1=FBIntern.Utility.getFacebookUrl('api');this._serverAddress=_L1+'restserver.php';var _L2=_L1+'static/v0.4/client_restserver.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions()['api_server'];var _L3=_L1+'static/v0.4/xd_receiver.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions()['api_channel'];if(FB.FBDebug.logLevel>0)_L2=FBIntern.Uri.addQueryParameters(_L2,'debug_level='+FB.FBDebug.logLevel.toString());this._xdHttpClient=new FB._xdHttpRequestClient(_L2,_L3,'fb_api_server');this._isLoggedIn=window.location.href.match("fb_sig_user")!=null;var _L4=FB.ApiClient._getSessionFromUrl(document.URL);if(!_L4)if(FB.Facebook.get_isInCanvas()&&!this._isLoggedIn){this._setSessionCookies(null);}else _L4=this._getSessionFromCookies();if(_L4&&!FB.ApiClient.sessionIsExpired(_L4))this.set_session(_L4);},get_session:function(){return this._session;},set_session:function(_L0){if(_L0!==this._session){this._session=_L0;if(this._session&&this._session.base_domain)FB.Facebook.set_baseDomain(this._session.base_domain);this._setSessionCookies(_L0);if(this._sessionRefreshIntervalId)clearInterval(this._sessionRefreshIntervalId);this._sessionRefreshIntervalId=window.setInterval(FB.bind(function(){this._refreshSession(null);},this),this._sessionRefreshInterval);this._sessionWaitable._setResult(_L0,!_L0);}return _L0;},get_sessionWaitable:function(){return this._sessionWaitable;},requireLogin:function(_L0){if(this._session){if(_L0)_L0(null);}else FB.ApiClient.createSessionDelegate(this,FB.bind(function(_L1){FB.FBDebug.assert(_L1,'Invalid session returned');this._session=_L1;},this));},_getSessionFromCookies:function(){if(FB.Facebook.appSettings['doNotUseCachedConnectState'])return null;var _L0=FBIntern.Cookie.getValue(this._apiKey);var _L1=FBIntern.Cookie.getValue(this._apiKey+'_user');var _L2=FBIntern.Cookie.getValue(this._apiKey+'_ss');var _L3=FBIntern.Cookie.getValue(this._apiKey+'_session_key');var _L4=parseInt(FBIntern.Cookie.getValue(this._apiKey+'_expires'));if(_L0&&_L1&&_L2&&_L3&&_L4!==-1){var s=FB._create_SessionRecord(_L3,_L1,_L4,_L2,FB.Facebook.get_baseDomain(),_L0);return s;}return null;},_setSessionCookies:function(_L0){if(_L0&&_L0.expires!==-1&&_L0.secret&&_L0.session_key&&_L0.uid&&_L0.sig){FBIntern.Cookie.set(this._apiKey,_L0.sig,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_user',_L0.uid,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_ss',_L0.secret,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_session_key',_L0.session_key,'/',FB.Facebook.get_baseDomain(),0);FBIntern.Cookie.set(this._apiKey+'_expires',_L0.expires.toString(),'/',FB.Facebook.get_baseDomain(),0);}else if(!_L0){FBIntern.Cookie.clear(this._apiKey,'/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_user','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_ss','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_session_key','/',FB.Facebook.get_baseDomain());FBIntern.Cookie.clear(this._apiKey+'_expires','/',FB.Facebook.get_baseDomain());}},_createLoginUrl:function(){var _L0={api_key:this._apiKey,extern:FB.Facebook.get_isInConnect(),fbconnect:1,next:document.URL,return_session:1,v:FB.Facebook.version};return FBIntern.Utility.createFacebookUrl('www','login.php',_L0,false);},_refreshSession:function(_L0){var _L1=FBIntern.Utility.getFacebookUrl('api')+'session_state.php';var _L2='api_key='+this._apiKey.toString()+'&session_key='+((!this._session)?'null':this._session.session_key.toString());var _L3={};_L3['Content-Type']='application/x-www-form-urlencoded';var r=new FB._xdJsonRequest(this._xdHttpClient,'POST',_L1,_L2,_L3);r.callback=FB.bind(function(_L5,e){if(_L5){var _L7=_L5;if(!_L7['error']){this._session=_L7['session'];this._setSessionCookies(this._session);if(_L0)_L0(null);}else if(_L7['error']===-1){FB.FBDebug.logLine(1,'User has not authorized the application.');}else if(_L7['error']===-2){FB.FBDebug.logLine(1,'User is not logged into Facebook.');}else if(_L7['error']===-3)FB.FBDebug.logLine(1,'Unknown error while refreshing user session.');}},this);r.sendRequest();},auth_getAppPublicKey:function(_L0,_L1){return this.callMethod('auth.getAppPublicKey',{target_app_key:_L0},_L1);},auth_getSignedPublicSessionData:function(_L0){return this.callMethod('auth.getSignedPublicSessionData',null,_L0);},connect_getUnconnectedFriendsCount:function(_L0){return this.callMethod('connect.getUnconnectedFriendsCount',null,_L0);},events_get:function(uid,_L1,_L2,_L3,_L4,_L5){var _L6={};if(uid)_L6['uid']=uid;if(_L1)_L6['eids']=_L1;_L6['start_time']=_L2;_L6['end_time']=_L3;if(_L4)_L6['rsvp_status']=_L4;return this.callMethod('events.get',_L6,_L5);},events_getMembers:function(eid,_L1){var _L2={};_L2['eid']=eid;return this.callMethod('events.getMembers',_L2,_L1);},fbml_refreshImgSrc:function(url,_L1){var _L2={};_L2['url']=url;return this.callMethod('fbml.refreshImgSrc',_L2,_L1);},fbml_refreshRefUrl:function(url,_L1){var _L2={};_L2['url']=url;return this.callMethod('fbml.refreshRefUrl',_L2,_L1);},fbml_setRefHandle:function(_L0,_L1,_L2){var _L3={};_L3['handle']=_L0;_L3['fbml']=_L1;return this.callMethod('fbml.setRefHandle',_L3,_L2);},intl_uploadNativeStrings:function(_L0,_L1){var _L2={};_L2['native_strings']=_L0;return this.callMethod('intl.uploadNativeStrings',_L2,_L1);},feed_publishUserAction:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6){var _L7={};_L7['template_bundle_id']=_L0.toString();if(_L1)_L7['template_data']=_L1;if(_L2)_L7['target_ids']=_L2.toString();if(_L3)_L7['body_general']=_L3;if(_L4>0)_L7['story_size']=_L4;if(_L5)_L7['user_message']=_L5;return this.callMethod('feed.publishUserAction',_L7,_L6);},feed_getAppFriendStories:function(_L0){var _L1=null;return this.callMethod('feed.getAppFriendStories',_L1,_L0);},friends_get:function(_L0,_L1){var _L2={};if(_L0){_L2['flid']=_L0;}else if(FB.Facebook.get_isInCanvas()&&this._isLoggedIn&&FB.XdComm.Server.singleton.get_receiverUrl()&&typeof(_L1)==='function'&&!_L0){FB.Bootstrap._requireFeatures(['CacheData'],function(){FBIntern.CacheClient.friendsGet(_L1);});return null;}return this.callMethod('friends.get',_L2,_L1);},revokeAuthorization:function(uid,_L1){return this.callMethod('auth.revokeAuthorization',null,_L1);},preloadFQL_get:function(_L0){if(FB.Facebook.get_isInCanvas()&&this._isLoggedIn&&FB.XdComm.Server.singleton.get_receiverUrl()){FB.Bootstrap._requireFeatures(['CacheData'],function(){FBIntern.CacheClient.preloadFQLGet(_L0);});return true;}else{_L0(Array());return false;}},friends_areFriends:function(_L0,_L1,_L2){var _L3={};_L3['uids1']=_L0.toString();_L3['uids2']=_L1.toString();return this.callMethod('friends.areFriends',_L3,_L2);},friends_getAppUsers:function(_L0){return this.callMethod('friends.getAppUsers',null,_L0);},friends_getLists:function(_L0){return this.callMethod('friends.getLists',null,_L0);},groups_get:function(uid,_L1,_L2){var _L3={};if(uid)_L3['uid']=uid;if(_L1)_L3['gids']=_L1.toString();return this.callMethod('groups.get',_L3,_L2);},groups_getMembers:function(gid,_L1){var _L2={};_L2['gid']=gid;return this.callMethod('groups.getMembers',_L2,_L1);},privacy_canSee:function(_L0,_L1,_L2){var _L3={};_L3['uids']=_L0.toString();_L3['whats']=_L1.toString();return this.callMethod('privacy.canSee',_L3,_L2);},notifications_get:function(_L0){var _L1={};return this.callMethod('notifications.get',_L1,_L0);},notifications_send:function(_L0,_L1,_L2){var _L3={};_L3['to_ids']=_L0.toString();_L3['notification']=_L1;return this.callMethod('notifications.send',_L3,_L2);},notifications_sendEmail:function(_L0,_L1,_L2,_L3,_L4){var _L5={};_L5['recipients']=_L0.toString();_L5['subject']=_L1;if(_L2)_L5['text']=_L2;if(_L3)_L5['fbml']=_L3;return this.callMethod('notifications.sendEmail',_L5,_L4);},pages_getInfo:function(_L0,_L1,uid,_L3){var _L4={};_L4['fields']=_L0.toString();_L4['page_ids']=_L1.toString();if(uid)_L4['uid']=uid;return this.callMethod('pages.getInfo',_L4,_L3);},pages_isAdmin:function(_L0,_L1){var _L2={};_L2['page_id']=_L0;return this.callMethod('pages.isAdmin',_L2,_L1);},pages_isAppAdded:function(_L0,_L1){var _L2={};_L2['page_id']=_L0;return this.callMethod('pages.isAppAdded',_L2,_L1);},pages_isFan:function(_L0,uid,_L2){var _L3={};_L3['page_id']=_L0;_L3['uid']=uid;return this.callMethod('pages.isFan',_L3,_L2);},photos_addTag:function(pid,_L1,_L2,x,y,_L5,_L6){var _L7={};_L7['pid']=pid;if(_L5){_L7['tags']=_L5;}else{if(_L1){_L7['tag_uid']=_L1;}else if(_L2){_L7['tag_text']=_L2;}else FB.FBDebug.logLine(1,'Either tag_uid or tag_text must specified');_L7['x']=x;_L7['y']=y;}return this.callMethod('photos.addTag',_L7,_L6);},photos_createAlbum:function(_L0,_L1,_L2,_L3){var _L4={};_L4['name']=_L0;_L4['location']=_L1;_L4['description']=_L2;return this.callMethod('photos.createAlbum',_L4,_L3);},photos_get:function(_L0,aid,_L2,_L3){var _L4={};if(_L0)_L4['subj_id']=_L0;if(aid)_L4['aid']=aid;if(_L2)_L4['pids']=_L2.toString();return this.callMethod('photos.get',_L4,_L3);},photos_getAlbums:function(uid,_L1,_L2){var _L3={};if(uid)_L3['uid']=uid;if(_L1)_L3['aids']=_L1.toString();return this.callMethod('photos.getAlbums',_L3,_L2);},photos_getTags:function(_L0,_L1){var _L2={};_L2['pids']=_L0.toString();return this.callMethod('photos.getTags',_L2,_L1);},users_getInfo:function(_L0,_L1,_L2){var _L3={};_L3['uids']=_L0.toString();_L3['fields']=_L1.toString();return this.callMethod('users.getInfo',_L3,_L2);},users_getLoggedInUser:function(_L0){var _L1={};return this.callMethod('users.getLoggedInUser',_L1,_L0);},users_hasAppPermission:function(_L0,_L1){var _L2={};_L2['ext_perm']=_L0;return this.callMethod('users.hasAppPermission',_L2,_L1);},users_isAppAdded:function(_L0){var _L1={};return this.callMethod('users.isAppAdded',_L1,_L0);},users_isAppUser:function(_L0){var _L1={};return this.callMethod('users.isAppUser',_L1,_L0);},users_setStatus:function(_L0,_L1,_L2,_L3){var _L4={};_L4['status']=_L0;_L4['clear']=_L1;_L4['status_includes_verb']=_L2;return this.callMethod('users.setStatus',_L4,_L3);},stream_get:function(_L0,_L1,_L2,_L3,_L4,_L5){var _L6={};_L6['source_ids']=_L0;_L6['start_time']=_L1;_L6['end_time']=_L2;_L6['limit']=_L3;_L6['filter_key']=_L4;return this.callMethod('stream.get',_L6,_L5);},stream_getComments:function(_L0,_L1){var _L2={};_L2['post_id']=_L0;return this.callMethod('stream.getComments',_L2,_L1);},stream_getFilters:function(_L0){return this.callMethod('stream.getFilters',{},_L0);},fql_query:function(_L0,_L1){var _L2={};_L2['query']=_L0;return this.callMethod('fql.query',_L2,_L1);},profile_setFBML:function(uid,_L1,_L2,_L3,_L4,_L5){var _L6={};if(uid)_L6['uid']=uid;_L6['profile']=_L1;_L6['profile_action']=_L2;_L6['mobile_profile']=_L3;_L6['profile_main']=_L4;return this.callMethod('profile.setFBML',_L6,_L5);},profile_getFBML:function(uid,_L1){var _L2={};_L2['uid']=uid;return this.callMethod('profile.getFBML',_L2,_L1);},callMethod:function(_L0,_L1,_L2){var _L3=!this._session&&!FB.Facebook.appSecret&&_L0!=='fql.query';var _L4=this._generateJsonRequest(_L0,_L1);if(typeof(_L2)!=='function'){var _L5=new FB.PendingResult();if(!_L3){_L2._api=this;_L2._addStep(_L4,_L5);}else _L5.setPendingResult(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return _L5;}else{var _L6=(_L2);if(!_L3){_L4.callback=FB.bind(function(_L7,_L8){if(!_L8&&(_L8=this._checkError(_L7)))_L7=null;_L6(_L7,_L8);},this);_L4.sendRequest();}else _L6(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return null;}},_checkError:function(_L0){var _L1=_L0;if(!FB.Sys.isUndefined(_L1.error_code)){FB.FBDebug.logLine(1,'API failed with error code = '+FB.Enum.toString(FB.ApiErrorCode,_L1.error_code));if(_L1.error_code===FB.ApiErrorCode.invalid_session_key){FB.FBDebug.logLine(1,'Bad session key, clear it');this.set_session(null);}return FBIntern.Utility.createException(_L1.error_msg,_L1);}return null;},_generateJsonRequest:function(_L0,_L1){if(!_L1)_L1={};var _L2=_L1;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};var _L5=typeof(_L4.value);if(_L5==='boolean'){_L1[_L4.key]=(_L1[_L4.key])?1:0;}else if(_L5==='object')_L1[_L4.key]=FB.JSON.serialize(_L4.value);}_L1['method']=_L0;_L1['api_key']=this._apiKey;_L1['format']='JSON';var _L6=(new Date()).getMilliseconds();if(_L6===this._lastCallId)_L6=this._lastCallId+1;this._lastCallId=_L6;_L1['call_id']=_L6;if(!_L1['v'])_L1['v']=FB.Facebook.version;if(this._session){FB.FBDebug.writeLine('session key = '+this._session.session_key);_L1['session_key']=this._session.session_key;}if(FB.Facebook.appSecret){_L1['sig']=this._generateSignature(_L1,FB.Facebook.appSecret);}else if(this._session&&this._session.secret){_L1['ss']=1;_L1['sig']=this._generateSignature(_L1,this._session.secret);}var _L7=new FB.StringBuilder();var _L8=_L1;for(var k4 in _L8){var _L4={key:k4,value:_L8[k4]};if(!_L7.get_isEmpty())_L7.append('&');_L7.append(_L4.key+'='+encodeURIComponent(_L4.value.toString()));}var _La=this._serverAddress;_La+=('?method='+_L1['method']);var _Lb=_L7.toString();var _Lc={};_Lc['Content-Type']='application/x-www-form-urlencoded';var _Ld=new FB._xdJsonRequest(this._xdHttpClient,'POST',_La,_Lb,_Lc);return _Ld;},get_apiKey:function(){return this._apiKey;},_convertDictKeysToList:function(_L0){var _L1=[];var _L2=_L0;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};FB.Sys.add(_L1,_L4.key);}return _L1;},_generateSignature:function(_L0,_L1){var _L2=new FB.StringBuilder();var _L3=this._convertDictKeysToList(_L0);_L3.sort();var _L4=new FB.ArrayEnumerator(_L3);while(_L4.moveNext()){var key=_L4.get_current();_L2.append(key+'='+_L0[key]);}_L2.append(_L1);var _L6=FB.Sys.trim(FBIntern.Md5.computeHashToString(_L2.toString()));return _L6;},_apiKey:null,_session:null,_serverAddress:null,_lastCallId:0,_xdHttpClient:null,_isLoggedIn:false});FB.provide('FB.ApiClient',{_onLoad:function(){FB.ApiClient.createSessionDelegate=FB.ApiClient.defaultCreateSession;},sessionIsExpired:function(_L0){if(!_L0.expires){return false;}else if(_L0.expires!==-1){var _L1=Math.round((new Date()).getTime()/1000);var _L2=_L0.expires;var _L3=!(_L2>_L1);return _L3;}return true;},defaultCreateSession:function(_L0,_L1){window.location=_L0._createLoginUrl();},getSessionFromSigParams:function(_L0){var _L1='fb_sig_session_key';var _L2='fb_sig_user';var _L3='fb_sig_expires';var _L4='fb_sig_ss';var _L5='fb_sig_base_domain';var _L6='fb_sig_cookie_sig';if(FB.Sys.containsKey(_L0,_L6)&&FB.Sys.containsKey(_L0,_L1)&&FB.Sys.containsKey(_L0,_L2)&&FB.Sys.containsKey(_L0,_L3)&&FB.Sys.containsKey(_L0,_L4)){var _L7=_L0[_L6];var _L8=_L0[_L2];var _L9=_L0[_L4];var _La=_L0[_L1];var _Lb=parseInt(_L0[_L3]);var _Lc=_L0[_L5];if(_L7&&_L8&&_L9&&_La&&_Lb!==-1){var s=FB._create_SessionRecord(_La,_L8,_Lb,_L9,_Lc,_L7);return s;}}return null;},_getSessionFromUrl:function(url){var _L1='session';var _L2=new FBIntern.Uri(url);if(FB.Sys.containsKey(_L2.get_queryParameters(),_L1)){var _L3=_L2.get_queryParameters()[_L1];return FB.JSON.deserialize(_L3);}var _L4=_L2.get_queryParameters();return FB.ApiClient.getSessionFromSigParams(_L4);}});
FB.subclass('FB.Facebook','FB.Class',{init:function(){}});FB.provide('FB.Facebook',{_onLoad:function(){FB.Facebook.apiKey=null;FB.Facebook.apiClient=null;FB.Facebook.appSecret=null;FB.Facebook.version='1.0';FB.Facebook.__initCalled=null;FB.Facebook.appSettings={};FB.Facebook.isInConnect=0;FB.Facebook.locale='en_US';FB.Facebook._initialized=null;FB.Facebook._baseDomain=null;FB.Facebook._isBaseDomainInitialized=false;FB.Facebook._isInCanvas=-1;FB.Facebook._isInitialNoSession=false;FB.Facebook._isInitialSessionSwitch=true;FB.Facebook._publicSessionData=new FB.SimpleWaitable();},init:function(_L0,_L1,_L2){if(typeof(_L0)==='object'&&!_L1&&!_L2){_L2=arguments[0];_L0=null;_L1=null;}if(FB.Facebook.apiClient){FB.FBDebug.writeLine('Error: Facebook.init() has already been called.');}else{if(_L0){FB.Facebook.apiKey=_L0;}else if(_L2)FB.Facebook.apiKey=_L2['apiKey'];if(!FB.Facebook.apiKey)FB.FBDebug.logLine(0,'API Key is not specified');if(!_L1&&_L2)_L1=_L2['xdChannelUrl'];if(_L2)FB.Facebook.appSettings=_L2;FB.XdComm.Server.singleton.set_receiverUrl(_L1);FB.Facebook.apiClient=new FB.ApiClient(FB.Facebook.apiKey);FB.Facebook._isInitialNoSession=!FB.Facebook.get_sessionState().result;if(_L2)FB.Facebook._processOptionalAppSettings();(FB.Facebook.get_initialized())._setResult(true);}if(FB.Facebook.__initCalled)FB.Facebook.__initCalled();},_reloadIfSessionStateChanged:function(){FB.Facebook.get_sessionWaitable().add_changed(function(_L0){window.setTimeout(function(){var _L1=!_L0.result;if(FB.Facebook._isInitialSessionSwitch){FB.Facebook._isInitialSessionSwitch=false;var _L2=true;if(FB.Facebook.appSettings['doNotUseCachedConnectState']){_L2=false;}else{var _L3=Math.random().toString();FBIntern.Cookie.set('testCookie',_L3,'/',FB.Facebook._baseDomain);if(_L3==FBIntern.Cookie.getValue('testCookie')){FBIntern.Cookie.clear('testCookie','/',FB.Facebook._baseDomain);}else _L2=false;}if(!_L2&&FB.Facebook._isInitialNoSession)FB.Facebook._isInitialNoSession=_L1;}if(_L1!==FB.Facebook._isInitialNoSession){FB.FBDebug.logLine(3,'reloading ...');window.setTimeout(function(){window.location.reload(true);},0);}},0);});},_processOptionalAppSettings:function(){var _L0=FB.Facebook.appSettings;for(var k2 in _L0){var _L2={key:k2,value:_L0[k2]};switch(_L2.key){case 'debugLogLevel':FB.FBDebug.logLevel=_L2.value;break;case 'apiKey':case 'xdChannelUrl':case 'fetchSignedPublicSessionData':case 'ifUserConnected':case 'ifUserNotConnected':case 'doNotUseCachedConnectState':case 'permsToRequestOnConnect':break;case 'reloadIfSessionStateChanged':FB.Facebook._reloadIfSessionStateChanged();break;default:FB.FBDebug.logLine(1,'Invalid app setting key: '+_L2.key);break;}}if(FB.Facebook.appSettings['ifUserConnected']||FB.Facebook.appSettings['ifUserNotConnected'])FB.Connect.ifUserConnected(FB.Facebook.appSettings['ifUserConnected'],FB.Facebook.appSettings['ifUserNotConnected']);},get_sessionState:function(){return FB.Facebook.get_sessionWaitable();},get_sessionWaitable:function(){FB.FBDebug.assert(FB.Facebook.apiClient,'Facebook.init() is not called yet');return FB.Facebook.apiClient.get_sessionWaitable();},get_initialized:function(){if(!FB.Facebook._initialized)FB.Facebook._initialized=new FB.SimpleWaitable();return FB.Facebook._initialized;},get_baseDomain:function(){if(!FB.Facebook._isBaseDomainInitialized)if(FB.Facebook.apiKey){FB.Facebook._baseDomain=FBIntern.Cookie.getValue('base_domain_'+FB.Facebook.apiKey);}else FB.FBDebug.logLine(0,'Can\'t get BaseDomain property when API key is not set');return FB.Facebook._baseDomain;},set_baseDomain:function(_L0){FB.Facebook._isBaseDomainInitialized=true;if(FB.Sys.isUndefined(_L0)){FB.Facebook._baseDomain=null;}else FB.Facebook._baseDomain=_L0;if(FB.Facebook.apiKey){var _L1='base_domain_'+FB.Facebook.apiKey;if(!FB.Facebook._baseDomain){FBIntern.Cookie.clear(_L1,'/',null);}else FBIntern.Cookie.set(_L1,FB.Facebook._baseDomain,'/',FB.Facebook._baseDomain,0);}else throw new Error('Can\'t set BaseDomain property when api key is set');return _L0;},get_isInCanvas:function(){if(FB.Facebook._isInCanvas===-1)FB.Facebook._isInCanvas=window.parent!=window&&window.location.href.match("fb_sig_in_iframe=1")!=null?1:0;var _L0=(FB.Facebook._isInCanvas===1);return _L0;},get_isInConnect:function(){return FB.Facebook.isInConnect;},get_iframeSignature:function(){if(!FB.Facebook._iframeSignature){var sig=-1;var _L1=window.location.search;if(_L1){var _L2=new RegExp('[\\?&]fb_sig_iframe_key=([^&#]*)');var qs=_L2.exec(_L1);if(qs)sig=qs[1];}FB.Facebook._iframeSignature=sig;}if(FB.Facebook._iframeSignature===-1)return null;return FB.Facebook._iframeSignature;},add_initCalled:function(_L0){FB.Facebook.__initCalled=FB.Delegate.combine(FB.Facebook.__initCalled,_L0);},remove_initCalled:function(_L0){FB.Facebook.__initCalled=FB.Delegate.remove(FB.Facebook.__initCalled,_L0);}});
FB.subclass('FB.Helper','FB.Class',{init:function(){}});FB.provide('FB.Helper',{invokeAsCallbackOrRedirect:function(obj){if(!obj)return;if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(obj),String)){window.location=obj;}else{var _L1=obj;var _L2=FB.Facebook.apiClient.get_session();_L1((_L2)?_L2.uid:null);}}});
FB.subclass('FB.UI.DomResDict','FB.Class',{init:function(_L0){this._docFragment=document.createDocumentFragment();var _L1=document.createElement('div');_L1.innerHTML=_L0;this._docFragment.appendChild(_L1);},getClonedElement:function(id){var _L1=FB.UI.DomResDict._getElementInFragment(this._docFragment,'RES_ID_'+id);if(_L1){return _L1.cloneNode(true);}else return null;},_docFragment:null});FB.provide('FB.UI.DomResDict',{_getElementInFragment:function(_L0,id){if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){return _L0.getElementById(id);}else{var _L2=[];var _L3=_L0.childNodes;var _L4;var c;for(c=0;c<_L3.length;c++){_L4=_L3[c];if(_L4.nodeType==1)_L2[_L2.length]=_L4;}while(_L2.length){_L4=_L2.shift();if(_L4.id==id)return _L4;_L3=_L4.childNodes;if(_L3.length!=0)for(c=0;c<_L3.length;c++){_L4=_L3[c];if(_L4.nodeType==1)_L2.push(_L4);}}return null;}}});
FB.provide('FBIntern.Intl',{_tx:function(str,_L1){function _L2(str){if(typeof str!='string')return false;return str.match(new RegExp(_L2.punct_char_class+'['+')"'+"'"+'\u00BB'+'\u0F3B'+'\u0F3D'+'\u2019'+'\u201D'+'\u203A'+'\u3009'+'\u300B'+'\u300D'+'\u300F'+'\u3011'+'\u3015'+'\u3017'+'\u3019'+'\u301B'+'\u301E'+'\u301F'+'\uFD3F'+'\uFF07'+'\uFF09'+'\uFF3D'+'\s'+']*$'));}_L2.punct_char_class='['+'.!?'+'\u3002'+'\uFF01'+'\uFF1F'+'\u0964'+'\u2026'+'\u0EAF'+'\u1801'+'\u0E2F'+'\uFF0E'+']';function _L3(str){var _L6=window.intl_locale_rewrites;var _L4;if(_L6!==undefined){var _L7=[];var _L8=[];for(var p in _L6['patterns']){var pat=p;var rep=_L6['patterns'][p];for(var m in _L6['meta']){_L4=new RegExp(m.slice(1,-1),'g');pat=pat.replace(_L4,_L6['meta'][m]);rep=rep.replace(_L4,_L6['meta'][m]);}_L4=new RegExp("\\+",'g');_L7[_L7.length]=pat.replace(_L4,'\x01');_L8[_L8.length]=rep.replace(_L4,'\x01');}for(var ii=0;ii<_L7.length;ii++){_L4=new RegExp(_L7[ii].slice(1,-1),'g');str=str.replace(_L4,_L8[ii]);}}_L4=new RegExp('\x01','g');str=str.replace(_L4,'');return str;}if(_L1!==undefined)if(typeof _L1!='object'){FB.Debug.writeLine('intl.js: the 2nd argument must be a keyed array (not a string) for tx('+str+', ...)');}else{var _L4;for(var key in _L1){if(_L2(_L1[key])){_L4=new RegExp('\{'+key+'\}'+_L2.punct_char_class+'*','g');}else _L4=new RegExp('\{'+key+'\}','g');str=str.replace(_L4,'\x01'+_L1[key]+'\x01');}str=_L3(str);}return str;},tx:function(_L0,_L1){function tx(str,_L4){if(typeof _string_table=='undefined')return null;str=_string_table[str];return FBIntern.Intl._tx(str,_L4);}}});
FB.provide('FB.RequireConnect',{doNotRequire:0,require:1,promptConnect:2});
FB._create_UserInfoRecord=function(_L0,_L1,_L2,_L3){var o={};o.connectState=_L0;o.oneLineStorySetting=_L1;o.shortStorySetting=_L2;o.inFacebook=_L3;return o;};
FB.provide('FB.FeedStorySetting',{preview:1,autoaccept:2,doNotSend:3});
FB.provide('FB._contentSizeMethod',{oldMethod:0,newOnlyForFbml:1,newMethod:2});
FB.subclass('FB.CanvasClient','FB.Class',{init:function(){}});FB.provide('FB.CanvasClient',{_onLoad:function(){FB.CanvasClient.serverReceiverUrl=FBIntern.Utility.getFacebookUrl((FBIntern.Utility.isSecure())?'ssl':'static.ak')+'xd_receiver_v0.4.php?r='+FBIntern.FbGlobals.get_fB_StaticResourceVersions()['www_channel'];FB.CanvasClient.allowWidthChange=false;FB.CanvasClient.__windowSizeChangedCallback=null;FB.CanvasClient._rpcClient=null;FB.CanvasClient._rpcServer=null;FB.CanvasClient._lastSize=FB._create_Size(-1,-1);FB.CanvasClient._timer=-1;FB.CanvasClient._timerInternal=100;FB.CanvasClient._modifyBodyStyle=true;FB.CanvasClient._urlHandler=FB.CanvasClient.defaultUrlHandler;FB.CanvasClient._allowCallback=null;FB.CanvasClient._cancelCallback=null;FB.CanvasClient._feedCallback=null;FB.CanvasClient._isRenderFbml=false;FB.CanvasClient._allowCallback=function(_L0){};FB.CanvasClient._cancelCallback=Delegate.Null;FB.CanvasClient._feedCallback=Delegate.Null;},_ensureRpcClient:function(){if(!FB.CanvasClient._rpcClient){var _L0=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.parent,FB.CanvasClient.serverReceiverUrl);_L0.flashOrigin=FB.CanvasClient._flashOrigin;FB.CanvasClient._rpcClient=new FB.XdComm.XdRpcClient('iframeOuterServer','iframeInnerClient',_L0);}},run:function(){if(!FB.CanvasClient._rpcServer){var _L0={loadNewUrl:FB._create_XdRpcMethodInfo(FB.CanvasClient.loadNewUrl,null),loginResponse:FB._create_XdRpcMethodInfo(FB.CanvasClient.loginResponse,null),feedResponse:FB._create_XdRpcMethodInfo(FB.CanvasClient.feedResponse,null)};var _L1='iframeInnerServer';FB.CanvasClient._rpcServer=new FB.XdComm.XdRpcServer(_L1,_L0);FB.CanvasClient._rpcClient.send('setInnerReceiver',{receiverUrl:FB.XdComm.Server.singleton.get_receiverUrl()},null);}},get_timerInterval:function(){return FB.CanvasClient._timerInternal;},set_timerInterval:function(_L0){FB.CanvasClient._timerInternal=_L0;return _L0;},startTimerToSizeToContent:function(){FB.FBDebug.logLine(4,'CanvasClient: StartTimerToSizeToContent');FB.CanvasClient.setSizeToContent();if(FB.CanvasClient._timer===-1)FB.CanvasClient._timer=window.setInterval(FB.CanvasClient.setSizeToContent,FB.CanvasClient._timerInternal);},stopTimerToSizeToContent:function(){if(FB.CanvasClient._timer!==-1){window.clearInterval(FB.CanvasClient._timer);FB.CanvasClient._timer=-1;}},setSizeToContent:function(){if(FB.CanvasClient.get__isInDialog()){FB.CanvasClient._sizeDialogToContent();return;}var _L0=document.documentElement;if(FB.CanvasClient._modifyBodyStyle)_L0.style.overflow='hidden';var _L1=FB.CanvasClient._computeContentSize();if(FB.CanvasClient.allowWidthChange){if(_L1.w!==FB.CanvasClient._lastSize.w||_L1.h!==FB.CanvasClient._lastSize.h){FB.CanvasClient._lastSize=_L1;FB.CanvasClient._setCanvasSize(_L1.w.toString()+'px',_L1.h.toString()+'px',null);}}else if(_L1.h!==FB.CanvasClient._lastSize.h){FB.CanvasClient._lastSize=_L1;FB.CanvasClient.setCanvasHeight(_L1.h.toString()+'px',null);}},_sizeDialogToContent:function(){var _L0=FBIntern.Utility.get_windowSize();var _L1=FBIntern.Utility.get_documentSize();var _L2=_L1.h-_L0.h;var _L3=_L1.w-_L0.w;if(_L2||_L3){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: resize dialog by ({0}, {1})',_L3,_L2));try{window.resizeBy(_L3,_L2);}catch(e1){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: resize faield'));}}},setCanvasHeight:function(_L0,_L1){FB.FBDebug.logLine(2,'CanvasClient: set canvas height to '+_L0);FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('setCanvasHeight',_L0,_L1);},_setCanvasSize:function(_L0,_L1,_L2){FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set canvas size to {0}, {1}',_L0,_L1));FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('setCanvasSize',{w:_L0,h:_L1},_L2);},getCanvasInfo:function(_L0){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('getCanvasInfo',null,_L0);},scrollTo:function(x,y,_L2){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('scrollTo',FB._create_Point(x,y),_L2);},changeUrlSuffix:function(_L0,_L1){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('changeUrlSuffix',_L0,_L1);},syncUrl:function(){FB.CanvasClient._ensureRpcClient();var _L0=document.location;FB.CanvasClient._rpcClient.send('refreshUrl',_L0,null);FB.CanvasClient.run();},requireLogin:function(_L0,_L1){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._allowCallback=_L0;FB.CanvasClient._cancelCallback=_L1;FB.CanvasClient._rpcClient.send('requireLogin',null,null);},closeLogin:function(){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._rpcClient.send('closeLogin',null,null);},loginResponse:function(arg,_L1){if(arg){FB.CanvasClient._allowCallback(arg);}else FB.CanvasClient._cancelCallback();return null;},showFeedDialog:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6){FB.CanvasClient._ensureRpcClient();FB.CanvasClient.run();FB.CanvasClient._feedCallback=_L4;var _L7={template_bundle_id:_L0,template_data:_L1,body_general:_L2,target_id:_L3,user_message_prompt:_L5,user_message:_L6};FB.CanvasClient._rpcClient.send('showFeedDialog',_L7,null);},feedResponse:function(arg,_L1){FB.CanvasClient._feedCallback();return null;},setUrlHandler:function(_L0){FB.CanvasClient._urlHandler=_L0;},loadNewUrl:function(arg,_L1){var url=arg;FB.FBDebug.logLine(2,FB.Sys.format('CanvasClient: set internal url to  {0}',url));FB.CanvasClient._urlHandler(url);return null;},defaultUrlHandler:function(url){window.location.replace(url);},go:function(url){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('goURI',url,null);},add_windowSizeChanged:function(_L0){var _L1=FB.CanvasClient.__windowSizeChangedCallback;FB.CanvasClient.add__windowSizeChangedCallback(_L0);if(!_L1){FB.CanvasClient._ensureRpcClient();FB.CanvasClient._rpcClient.send('attachToWindowResizeEvent',null,FB.CanvasClient._onRpcCompleted);}},remove_windowSizeChanged:function(_L0){FB.CanvasClient.remove__windowSizeChangedCallback(_L0);},_onRpcCompleted:function(_L0){if(FB.CanvasClient.__windowSizeChangedCallback)FB.CanvasClient.__windowSizeChangedCallback(_L0);},_computeContentSize:function(){var _L0=document.body;var _L1=document.documentElement;var _L2=0;var _L3;var _L4=FBIntern.Utility.getSiteVar('canvas_client_compute_content_size_method',FB._contentSizeMethod.oldMethod);if((_L4===FB._contentSizeMethod.newOnlyForFbml&&FB.CanvasClient._isRenderFbml)||_L4===FB._contentSizeMethod.newMethod){_L3=Math.max(Math.max(_L0.offsetHeight,_L0.scrollHeight)+_L0.offsetTop,Math.max(_L1.offsetHeight,_L1.scrollHeight)+_L1.offsetTop);}else{if(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()===FBIntern.HostName.IE){_L3=Math.max(_L0.offsetHeight,_L0.scrollHeight)+_L0.offsetTop;}else _L3=_L1.offsetHeight+_L1.offsetTop;if(window.ContextualDialog)_L3=Math.max(_L3,ContextualDialog.max_bottom);}if(FB.CanvasClient.allowWidthChange){if(_L0.offsetWidth<_L0.scrollWidth){_L2=_L0.scrollWidth+_L0.offsetLeft;}else{var _L5=_L0.childNodes;_L2=0;for(var i=0;i<_L5.length;i++){var _L7=_L5[i];var _L8=_L7.offsetWidth+_L7.offsetLeft;if(_L8>_L2)_L2=_L8;}}if(_L1.clientLeft>0)_L2+=(_L1.clientLeft*2);if(_L1.clientTop>0)_L3+=(_L1.clientTop*2);}return FB._create_Size(_L2,_L3);},get__isInDialog:function(){return window.opener&&window.opener!==window.self;},add__windowSizeChangedCallback:function(_L0){FB.CanvasClient.__windowSizeChangedCallback=FB.Delegate.combine(FB.CanvasClient.__windowSizeChangedCallback,_L0);},remove__windowSizeChangedCallback:function(_L0){FB.CanvasClient.__windowSizeChangedCallback=FB.Delegate.remove(FB.CanvasClient.__windowSizeChangedCallback,_L0);}});
FB.provide('FB.DialogType',{popUp:0,iframe:1,canvas:2});
FB.provide('FB.ConnectState',{connected:1,userNotLoggedIn:2,appNotAuthorized:3});
FB.subclass('FB.SessionDialog','FB.Class',{init:function(){this._connect=FB.Connect._singleton;this._timerId=-1;this._channelUrl=FB.XdComm.Server.singleton.get_receiverUrl();this._cancelChannelUrl=FB.XdComm.Server.singleton.get_receiverUrl();this._apiKey=FB.Facebook.apiKey;this._initializeSession=true;},setIsUserActionHint:function(_L0){this._isUserActionHint=_L0;return this;},setUseBrowserPopup:function(_L0){return this;},setTarget:function(_L0){this._overrideTarget=_L0;return this;},setInitializeSession:function(_L0){this._initializeSession=_L0;return this;},setChannelUrl:function(url){this._channelUrl=url;return this;},setCancelChannelUrl:function(url){this._cancelChannelUrl=url;return this;},setApiKey:function(_L0){this._apiKey=_L0;return this;},_onCancelLoginHandler:function(_L0,_L1){this._cancelCallback();},_cancelCallback:function(){if(this.__cancelled)this.__cancelled();this.destroy();},_sessionCallback:function(){if(!this._session)this._session=FB.Facebook.apiClient.get_session();if(this.__sessionGranted)this.__sessionGranted(this._session);this.destroy();},_handleSession:function(_L0,_L1){switch(_L0){case FB.ConnectState.userNotLoggedIn:this._show(false,_L1,true);break;case FB.ConnectState.appNotAuthorized:this._show(true,_L1,true);break;default:break;}},_ensureHandlers:function(){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogin'))FB.XdComm.Server.singleton.registerDataHandler('fbLogin',FB.bind(this._onLoginHandler,this));if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbCancelLogin'))FB.XdComm.Server.singleton.registerDataHandler('fbCancelLogin',FB.bind(this._onCancelLoginHandler,this));},_onLoginHandler:function(_L0,_L1){this._close();var _L2=FB.Connect._singleton;var _L3=_L0;var _L4=(_L0).split('&');this._session=FB.JSON.deserialize(_L4[0],true);if(this._initializeSession){this._connect._setupSession(this._session);}else this._sessionCallback();},_show:function(_L0,_L1,_L2){this._ensureHandlers();if(FB.Facebook.apiClient)FB.Facebook.apiClient.get_sessionWaitable().waitUntilReady(FB.bind(this._connect._apiClient_SessionReady,this._connect));if(FB.Facebook.get_isInCanvas()){this._showCanvasDialog();}else{var url=this._createLoginUrl((_L0)?'tos.php':'login.php');if(_L1||!_L2)this._showBrowserPopup(url,_L0);if(!this._authWindow){FB.FBDebug.logLine(1,'Popup got blocked');if(_L2){this._showPopupBlockedWarning(FB.bind(function(){this._show(_L0,true,false);},this));}else FB.Facebook.apiClient.requireLogin(null);}}},_showPopupBlockedWarning:function(_L0){var _L1=FBIntern.FbGlobals.get_fB_StaticResourceVersions();var _L2=_L1.login_img_white_medium_long;var _L3=document.createElement('div');_L3.innerHTML=('<div class="fb_popup_blocked">'+'<div class="fb_confirmation_stripes"></div>'+'<div class="fb_popup_blocked_inner">'+FBIntern.Intl._tx("Esse site requer que voc\u00ea se conecte com o Facebook")+'<img id="fb_popup_blocked_connect" src="'+_L2+'" />'+'</div>'+'<div class="fb_popup_blocked_buttons">'+'<input id="fb_popup_blocked_cancel" '+'type="button" '+'value="Cancel" />'+'</div>'+'</div>');var _L4=FB.bind(function(_L8){if(!_L8)this._cancelCallback();},this);var _L5=new FB.UI.PopupDialog(FBIntern.Intl._tx("Conecte-se com o Facebook para continuar"),_L3,false,false);_L5.add_closing(_L4);var _L6=FBIntern.UIHelper.findElementById(_L3,'fb_popup_blocked_connect');FBIntern.Utility.addEventListener(_L6,'click',FB.bind(function(e){_L5.close(true);_L0();},this));var _L7=FBIntern.UIHelper.findElementById(_L3,'fb_popup_blocked_cancel');FBIntern.Utility.addEventListener(_L7,'click',FB.bind(function(e){_L5.close(false);},this));_L5.show();},_showCanvasDialog:function(){if(this._isActive){this._dialogType=FB.DialogType.canvas;this._fbmlDialog=true;FB.CanvasClient.requireLogin(FB.bind(function(_L0){this._session=_L0;if(this._initializeSession)this._connect._setupSession(this._session);this._sessionCallback();},this),FB.bind(this._cancelCallback,this));}},_showBrowserPopup:function(url,_L1){var _L2=FBIntern.Utility.get_windowLocation();var _L3=FBIntern.Utility.get_windowSize();var _L4=FB._create_Size(448,_L1?330:426);var _L5=FB._create_Point(Math.max(0,_L2.x+(_L3.w-_L4.w)/2),Math.max(0,_L2.y+(_L3.h-_L4.h)/2));this._close();if(this._isActive){this._dialogType=FB.DialogType.popUp;var _L6=FB.Sys.format('location=yes,left={0},top={1},width={2},height={3},resizable=yes',_L5.x,_L5.y,_L4.w,_L4.h);this._authWindow=window.open(url,'_blank',_L6,true);this._monitorPopupWindowClosed();}},isActive:function(){if(this._isActive&&this._dialogType===FB.DialogType.popUp)if(!this._authWindow||this._authWindow.closed)this._isActive=false;return this._isActive;},focus:function(){if(this._dialogType===FB.DialogType.popUp)this._authWindow.focus();},_createLoginUrl:function(_L0){var _L1,_L2;var _L3;_L1='_opener';_L2='popup';_L3=FB.XdComm.PageRelation.opener;if(this._overrideTarget)_L1=this._overrideTarget;var _L4=new FB.XdComm.EndPoint(null,_L3,this._cancelChannelUrl);var _L5=FB.XdComm.Server.singleton;var _L6=_L5.get_GUID();var _L7;if(FB.XdComm.Server.singleton._useXdProxy()){_L7=(_L5._createXdProxyBase(_L4)+'guid='+_L6);}else _L7=FBIntern.Uri.addQueryParameters(this._channelUrl,'fb_login&fname='+_L1+'&guid='+_L6);var _L8=_L5.createUdpUrl('fbCancelLogin',null,_L4);var _L9={return_session:1,nochrome:1,fbconnect:1,extern:FB.Facebook.get_isInConnect(),display:_L2,api_key:this._apiKey,v:FB.Facebook.version,next:_L7,cancel_url:_L8,channel_url:this._channelUrl};if(FB.Sys.containsKey(FB.Facebook.appSettings,'permsToRequestOnConnect'))_L9['req_perms']=FB.Facebook.appSettings['permsToRequestOnConnect'];return FBIntern.Utility.createFacebookUrl('www',_L0,_L9,false);},request:function(){this._isActive=true;var _L0=FBIntern.Utility.get_isInUserActionCallstack()||this._isUserActionHint;if(!FB.Connect.get_status().get_isReady()&&_L0){this._waitForDialog();this._handleSession(FB.ConnectState.userNotLoggedIn,_L0);}else FB.Connect.get_status().waitUntilReady(FB.bind(function(_L1){var _L2=_L1;if(_L2===FB.ConnectState.connected){this._sessionCallback();}else{this._waitForDialog();this._handleSession(_L2,_L0);}},this));_L0=false;},listen:function(){this._ensureHandlers();},_waitForDialog:function(){FB.Connect.get_status().waitForValue(FB.ConnectState.connected,FB.bind(this._sessionCallback,this));},_close:function(){if(this._authWindow){this._authWindow.close();this._authWindow=null;}if(this._fbmlDialog){FB.CanvasClient.closeLogin();this._fbmlDialog=false;}},destroy:function(){this._close();this.__sessionGranted=null;this.__cancelled=null;this._isActive=false;if(FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogin'))FB.XdComm.Server.singleton.unregisterDataHandler('fbLogin');if(FB.XdComm.Server.singleton.isDataHandlerRegistered('fbCancelLogin'))FB.XdComm.Server.singleton.unregisterDataHandler('fbCancelLogin');},add_sessionGranted:function(_L0){this.__sessionGranted=FB.Delegate.combine(this.__sessionGranted,_L0);},remove_sessionGranted:function(_L0){this.__sessionGranted=FB.Delegate.remove(this.__sessionGranted,_L0);},__sessionGranted:null,addSessionHandler:function(_L0){this.add_sessionGranted(_L0);return this;},add_cancelled:function(_L0){this.__cancelled=FB.Delegate.combine(this.__cancelled,_L0);},remove_cancelled:function(_L0){this.__cancelled=FB.Delegate.remove(this.__cancelled,_L0);},__cancelled:null,addCancelHandler:function(_L0){this.add_cancelled(_L0);return this;},_monitorPopupWindowClosed:function(){if(this._authWindow&&this._timerId===-1)this._timerId=window.setInterval(FB.bind(function(){if(this._authWindow&&this._authWindow.closed){this._authWindow=null;window.clearInterval(this._timerId);this._timerId=-1;this._cancelCallback();}},this),200);},_isActive:false,_isUserActionHint:true,_authWindow:null,_fbmlDialog:false,_apiKey:null,_channelUrl:null,_cancelChannelUrl:null,_overrideTarget:null,_session:null,_initializeSession:false,_dialogType:0});FB.provide('FB.SessionDialog',{_onLoad:function(){FB.SessionDialog._singleton=null;},closeAll:function(){if(FB.SessionDialog._singleton){FB.SessionDialog._singleton.destroy();FB.SessionDialog._singleton=null;}},make:function(){FB.SessionDialog.closeAll();FB.SessionDialog._singleton=new FB.SessionDialog();return FB.SessionDialog._singleton;},getActive:function(){if(FB.SessionDialog._singleton&&FB.SessionDialog._singleton.isActive())return FB.SessionDialog._singleton;return null;}});
FB.subclass('FB.Connect','FB.Class',{init:function(){this._status=new FB.SimpleWaitable();},get__userInfo:function(){return this._userInfo;},set__userInfo:function(_L0){if(_L0!==this._userInfo){this._userInfo=_L0;this._setInfoCookies(_L0);}return _L0;},_getInfoFromCookies:function(){if(FB.Facebook.appSettings['doNotUseCachedConnectState'])return null;var _L0=FB.JSON.deserialize(FBIntern.Cookie.getValue('fbsetting_'+FB.Facebook.apiKey));if(_L0&&(_L0.connectState===FB.ConnectState.userNotLoggedIn||_L0.connectState===FB.ConnectState.appNotAuthorized||_L0.connectState===FB.ConnectState.connected)&&_L0.oneLineStorySetting>0&&_L0.shortStorySetting>0)return _L0;return null;},_setInfoCookies:function(_L0){if(_L0&&_L0.oneLineStorySetting>0&&_L0.shortStorySetting>0){FBIntern.Cookie.set('fbsetting_'+FB.Facebook.apiKey,FB.JSON.serialize(_L0),'/',FB.Facebook.get_baseDomain(),1);}else if(!_L0)FBIntern.Cookie.clear('fbsetting_'+FB.Facebook.apiKey,'/',FB.Facebook.get_baseDomain());},_ensureQueryStatus:function(){if(!this._loginStatusIFrameCreated){var _L0=this._getInfoFromCookies();if(_L0&&(_L0.connectState===FB.ConnectState.userNotLoggedIn||_L0.connectState===FB.ConnectState.appNotAuthorized||_L0.connectState===FB.ConnectState.connected)){this.set__userInfo(_L0);this._status._setResult(_L0.connectState);}this._refreshQueryStatus();}},_refreshQueryStatus:function(){if(!this._loginStatusIFrameCreated||this._pollTries>0){this._loginStatusIFrameCreated=true;if(this._pollTries>0)this._pollTries--;var _L0=this._getInfoFromCookies();var _L1=0;if(_L0)_L1=(_L0.inFacebook)?1:2;this._setInfoCookies(null);if(!this._rpcServer)this._rpcServer=new FB.XdComm.XdRpcServer('loginServer',{InitLogin:FB._create_XdRpcMethodInfo(FB.bind(this._initLogin,this),null)});this._ensureLoginHandler();FB.FBDebug.assert(FB.Facebook.apiKey,'API key can\'t be null');var _L2={api_key:FB.Facebook.apiKey,extern:_L1,channel:FB.XdComm.Server.singleton.get_receiverUrl()};if(FB.Facebook.appSettings['fetchSignedPublicSessionData'])_L2['public_session_data']=1;var _L3=FB.Facebook.get_iframeSignature();if(_L3)_L2['iframe_key']=_L3;var _L4=FB.XdComm.Server.singleton.getUniqueOrigin();if(_L4)_L2['origin']=_L4;var _L5=FBIntern.Utility.createFacebookUrl('www','extern/login_status.php',_L2,false);FB.XdComm.Server.singleton.createNamedHiddenIFrame('loginStatus',_L5,null,null);}},_ensureLoginHandler:function(){if(!FB.XdComm.Server.singleton.isDataHandlerRegistered('fbLogout'))FB.XdComm.Server.singleton.registerDataHandler('fbLogout',FB.bind(this._onLogoutHandler,this));},_onLogoutHandler:function(_L0,_L1){FB.FBDebug.logLine(2,'User logged out');if(this._logoutIframe){if(this._logoutIframe.parentNode)this._logoutIframe.parentNode.removeChild(this._logoutIframe);this._logoutIframe=null;}FB.Facebook.apiClient.set_session(null);this.set__userInfo(null);this._status._setResult(FB.ConnectState.userNotLoggedIn);if(this._logoutCallback)this._logoutCallback(true);},_setupSession:function(_L0){var _L1=FB.Connect._singleton;this._setInfoCookies(null);if(this._dialogInfo){_L1._feedStatusRefetch();}else{this._feedStatusMustBeRefetched=true;FB.Facebook.apiClient.set_session(_L0);}},_feedStatusRefetch:function(){this._status._setResult(FB.ConnectState.connected,true);this._checkForPendingFeedDialog();this._loginStatusIFrameCreated=false;this._refreshQueryStatus();this._feedStatusMustBeRefetched=false;},_closeAllDialogs:function(_L0){FB.SessionDialog.closeAll();if(this._feedformDialog){this._feedformDialog.close(false);this._feedformDialog=null;}if(this._addSectionDialog){this._addSectionDialog.close(false);this._addSectionDialog=null;}if(this._permissionDialog){this._permissionDialog.close(false);this._permissionDialog=null;}if(_L0)_L0();},switchUser:function(){this._closeAllDialogs(FB.bind(function(){FB.Connect.requireSession(null);},this));},_initLogin:function(arg,_L1){var _L2=arg;var _L3=_L2['session'];var _L4=_L2['settings'];var _L5=_L2['connectState'];var _L6=_L4['feedStorySettings'];FB.Facebook.set_baseDomain(_L2['baseDomain']);FB.Facebook.locale=_L4['locale'];window.FB.locale=FB.Facebook.locale;this._publicSessionData=_L2['publicSessionData'];var _L7;var _L8;if(_L6){_L7=_L6['one_line'];_L8=_L6['short'];}else{_L7=FB.FeedStorySetting.doNotSend;_L8=FB.FeedStorySetting.doNotSend;}var _L9=_L4['inFacebook'];FB.Facebook.isInConnect=(_L9)?1:2;this.set__userInfo(FB._create_UserInfoRecord(_L5,_L7,_L8,_L9));switch(_L5){case FB.ConnectState.userNotLoggedIn:FB.Facebook.apiClient.set_session(null);this._status._setResult(FB.ConnectState.userNotLoggedIn);break;case FB.ConnectState.appNotAuthorized:FB.Facebook.apiClient.set_session(null);this._status._setResult(FB.ConnectState.appNotAuthorized);break;case FB.ConnectState.connected:var _La=FB.Facebook.apiClient;if(!_La.get_session()||FBIntern.Utility.isConnectSession(_La.get_session().session_key)||!FB.Facebook.get_isInCanvas())_La.set_session(_L3);this._status._setResult(FB.ConnectState.connected);break;}if(_L5===FB.ConnectState.connected){if(this._onConnectedCallback)this._onConnectedCallback();this._pollTries=0;this._onConnectedCallback=null;}else if(this._pollTries>0){window.setTimeout(FB.bind(function(){this._refreshQueryStatus();},this),this._pollInterval);}else this._onConnectedCallback=null;return null;},_checkForPendingFeedDialog:function(){var _L0=FB.Connect._singleton;if(_L0._dialogInfo)FB.Connect.get_status().waitUntilReady(FB.bind(function(_L1){window.setTimeout(FB.bind(function(){FB.Connect._ShowFeedDialogGeneric(_L0._dialogInfo.parameters,FB.RequireConnect.require,_L0._dialogInfo.callback,_L0._dialogInfo.showLoginDialog,_L0._dialogInfo.userMessageObj);_L0._dialogInfo=null;},this),0);},this));},_apiClient_SessionReady:function(_L0){this._status._setResult(FB.ConnectState.connected);},_facebookIFrame:function(_L0,_L1,_L2){_L0.open();var _L3=new FB.StringBuilder();_L3.append('\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" >\n<head><title></title></head>\n<body>');var url=FBIntern.Utility.createFacebookUrl('www',_L1,{},false);_L3.append(FB.Sys.format('<form method=\"post\" action=\"{0}\" id=\"tempform\" name=\"tempform\" >',url));var _L5=_L2;for(var k2 in _L5){var _L7={key:k2,value:_L5[k2]};_L3.append(FB.Sys.format('<input type=\"hidden\" name=\"{0}\" id=\"{1}\" value=\"{2}\"  />',_L7.key,_L7.key,FB.Sys.htmlEncode(_L7.value)));}_L3.append('\n</form>\n    <script type=\"text/javascript\">\n      window.setTimeout(function(){document.forms[\'tempform\'].submit();}, 0);\n    </script>\n</body>\n</html>\n        ');var _L8=_L3.toString();_L0.write(_L8);_L0.close();},get__isInConnect:function(){var r=FB.Connect._singleton.get__userInfo();if(!r){return 0;}else return (r.inFacebook)?1:2;},_loginStatusIFrameCreated:false,_pollInterval:0,_pollTries:0,_onConnectedCallback:null,_feedStatusMustBeRefetched:false,_rpcServer:null,_feedformDialog:null,_addSectionDialog:null,_shareDialog:null,_permissionDialog:null,_feedformNum:0,_sessionlessFeedFrameNum:0,_addSectionNum:0,_dialogInfo:null,_userInfo:null,_logoutCallback:null,_logoutIframe:null,_sessionlessPublishCallback:null,_publicSessionData:null});FB.provide('FB.Connect',{_onLoad:function(){FB.Connect._singleton=new FB.Connect();FB.Connect._logoutMethod_infoDialog='info_dialog';FB.Connect._logoutMethod_prompt='prompt';FB.Connect._logoutMethod_noUI='no_ui';FB.Connect._logoutMethod=FB.Connect._logoutMethod_infoDialog;var _L0='\n     <table id=\"RES_ID_fb_pop_dialog_table\" class=\"fb_pop_dialog_table\">\n       <tr>\n         <td class=\"fb_pop_topleft\"></td>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_topright\"></td>\n       </tr>\n       <tr>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_content\" id=\"pop_content\">\n           <div class =\"fb_pop_content_container\">\n              <h2 class=\"fb_resetstyles\">\n                <div class=\"fb_dialog_icon\"></div>\n                <span class=\"fb_dialog_header\" id=\"fb_dialog_header\"></span>\n                <div class=\"fb_dialog_loading_spinner\" id=\"fb_dialog_loading_spinner\">&nbsp;</div>\n                <a id=\"fb_dialog_cancel_button\" class=\"fb_dialog_cancel_button\" title=\"close dialog\" href=\"#\" onclick=\"return false;\">&nbsp;</a>\n              </h2>\n              <div id=\"fb_dialog_content\" class=\"fb_dialog_content\"></div>\n           </div>\n         </td>\n         <td class=\"fb_pop_border\"></td>\n       </tr>\n       <tr>\n         <td class=\"fb_pop_bottomleft\"></td>\n         <td class=\"fb_pop_border\"></td>\n         <td class=\"fb_pop_bottomright\"></td>\n       </tr>\n    </table>\n    <div id=\"RES_ID_fb_logout_confirmation\" class=\"fb_logout_confirm_content\">\n      <div class=\"fb_confirmation_stripes\"></div>\n      <div class=\"fb_confirmation_content\">';_L0+='<p>'+FBIntern.Intl._tx("Voc\u00ea quer sair de ambos sites?")+'</p>';_L0+='\n      </div>\n      <div class=\"fb_dialog_buttons\">';_L0+='<input id=\"fb_confirm\" type=\"button\" '+'class=\"fb_inputsubmit\" value=\"'+FBIntern.Intl._tx("Sair")+'\"/>';_L0+='<input id=\"fb_cancel\" type=\"button\" '+'class=\"fb_inputbutton fb_inputaux\" value=\"'+FBIntern.Intl._tx("Cancelar")+'\"/>';_L0+='\n        </div>\n    </div>\n    <div id=\"RES_ID_fb_logout_info\" class=\"fb_logout_confirm_content\">\n      <div class=\"fb_confirmation_stripes\"></div>\n      <div class=\"fb_confirmation_content\">';_L0+='<p>'+FBIntern.Intl._tx("Voc\u00ea est\u00e1 saindo deste site e do Facebook.")+'</p>';_L0+='\n      </div>\n      <div class=\"fb_dialog_buttons\">';_L0+='<input id=\"fb_confirm\" type=\"button\" '+'class=\"fb_inputsubmit\" value=\"'+FBIntern.Intl._tx("Fechar")+'\"/>';_L0+='\n       </div>\n   </div>';FB.UI.DomResources.addResourceDict(new FB.UI.DomResDict(_L0));},get_status:function(){var _L0=FB.Connect._singleton;_L0._ensureQueryStatus();return _L0._status;},_getLogoutUrl:function(_L0){var _L1={api_key:FB.Facebook.apiKey,session_key:FB.Facebook.apiClient.get_session().session_key,extern:FB.Connect._singleton.get__isInConnect(),next:_L0};return FBIntern.Utility.createFacebookUrl('www','logout.php',_L1,false);},logout:function(_L0){FB.Connect._handleLogout(_L0,function(_L1){if(_L1){var _L2=FB.Connect._singleton;var _L3=FB.XdComm.Server.singleton;var _L4=FB.XdComm.Server.singleton.get_GUID();var _L5;if(_L3._useXdProxy()){var _L6=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,_L3.get_receiverUrl());_L5=(_L3._createXdProxyBase(_L6)+'guid='+_L4+'&session=loggedout');}else _L5=FBIntern.Uri.addQueryParameters(_L3.get_receiverUrl(),'fb_login&fname=_parent&guid='+_L4+'&session=loggedout');_L2._ensureLoginHandler();_L2._logoutCallback=_L0;var _L7=FB.Connect._getLogoutUrl(_L5);_L2._logoutIframe=_L3.createNamedHiddenIFrame('fbLogout',_L7,'fb_logout',null);}else if(_L0)_L0(false);});},logoutAndRedirect:function(_L0){FB.Connect._handleLogout(null,function(_L1){if(_L1){var _L2=FB.Connect._singleton;var _L3=FBIntern.Uri.create(new FBIntern.Uri(document.URL),_L0).get_uriString();var _L4=FB.Connect._getLogoutUrl(_L3);_L2.set__userInfo(null);FB.Facebook.apiClient.set_session(null);window.location=_L4;}});},ifUserConnected:function(_L0,_L1){FB.Connect.get_status().waitForCondition(function(_L2){FB.Connect._handleConnectStateLogout(_L0,_L1,_L2);return false;});},_handleConnectStateLogout:function(_L0,_L1,_L2){if(_L2.get_isReady())window.setTimeout(function(){var _L3=_L2.result===FB.ConnectState.connected;FB.Helper.invokeAsCallbackOrRedirect((_L3)?_L0:_L1);},0);},listenForIframeConnect:function(){var _L0=FB.Connect._singleton;FB.Facebook.apiClient.get_sessionWaitable().waitUntilReady(FB.bind(_L0._apiClient_SessionReady,_L0));},clientConnectSetup:function(_L0){var _L1=FB.Connect._singleton;FB.Connect.listenForIframeConnect();FB.Connect.get_status().add_changed(function(_L2){var _L3=FB.Connect.get_status().result;_L0(_L3===FB.ConnectState.connected);});},_handleLogout:function(_L0,_L1){FB.Connect.get_status().waitUntilReady(function(_L2){var _L3=FB.Facebook.apiClient.get_session();if(_L3){if(FB.Connect._logoutMethod===FB.Connect._logoutMethod_infoDialog){FB.Connect._createInfoDialog(_L1);}else if(FB.Connect._logoutMethod===FB.Connect._logoutMethod_noUI){_L1(true);}else FB.UI.PopupDialog._createConfirmationDialog(FBIntern.Intl._tx("Est\u00e1 saindo do Facebook?"),FB.UI.DomResources.getResourceById('fb_logout_confirmation'),_L1).show();}else{FB.FBDebug.logLine(2,'Cannot logout because user does not have a session');if(_L0)_L0(false);}});},requireSession:function(_L0,_L1,_L2){if(arguments.length===1){if(typeof(_L0)!=='function'){_L2=(_L0);_L0=null;}}else if(arguments.length===2)if(typeof(_L1)!=='function'){_L2=(_L1);_L1=null;}var _L3=FB.SessionDialog.getActive();if(!_L3){_L3=FB.SessionDialog.make();_L3.setIsUserActionHint(_L2).request();}else _L3.focus();if(_L0)FB.Connect.get_status().waitForValue(FB.ConnectState.connected,_L0);if(_L1)_L3.add_cancelled(_L1);},_createInfoDialog:function(_L0){var _L1=null;_L1=FB.UI.PopupDialog._createConfirmationDialog(FBIntern.Intl._tx("Voc\u00ea saiu do Facebook"),FB.UI.DomResources.getResourceById('fb_logout_info'),function(_L2){_L1=null;});_L1.show();_L1.add_closed(function(_L2){if(_L0)_L0(true);});window.setTimeout(function(){if(_L1)_L1.close(false);},2000);},inviteConnectUsers:function(){FB.Facebook.get_sessionWaitable().waitUntilReady(function(_L0){var _L1=new FB.UI.FBMLPopupDialog(FBIntern.Intl._tx("Conecte-se a seus amigos"),'');var _L2=_L1._createCrossDomainClosingLink(false);_L1.setFBMLContent('<fb:connect-form action=\"'+_L2+'\" view=\"dialog\" />');_L1.setContentWidth(474);_L1.setContentHeight(350);_L1.show();});},showPermissionDialog:function(_L0,_L1,_L2,_L3){var _L4=null;if(_L0.indexOf('offline_access')>=0){_L4=function(_La){if(!FB.Sys.isNullOrEmpty(_La)&&(_La).indexOf('offline_access')>=0){FB.Connect.forceSessionRefresh(function(){if(_L1)_L1(_La);});}else if(_L1)_L1(_La);};}else if(_L1)_L4=_L1;var _L5={ext_perm:_L0};if(_L2)_L5['enable_profile_selector']=1;if(_L3){var _L6=true;var _L7='';var _L8=new FB.ArrayEnumerator(_L3);while(_L8.moveNext()){var id=_L8.get_current();if(!_L6)_L7+=',';_L7+=id;_L6=false;}_L5['profile_selector_ids']=encodeURIComponent(_L7);}FB.Connect.showConnectDialog(FBIntern.Intl._tx("Solicita\u00e7\u00e3o para permiss\u00f5es especiais"),'connect/prompt_permissions.php',_L5,173,480,_L4);},showAddFriendDialog:function(_L0,_L1){var _L2=null;if(_L1)_L2=function(_L4){var _L5=(_L4==='true')?true:false;_L1(_L5);};var _L3={id:_L0,display:'dialog'};FB.Connect.showConnectDialog(FBIntern.Intl._tx("Adicionar aos amigos"),'addfriend.php',_L3,-1,540,_L2);},showConnectDialog:function(_L0,_L1,_L2,_L3,_L4,_L5){FB.Connect.requireSession(function(){FB.IFrameUtil.ResizeUtilServer.run();var _L6=FB.Connect._singleton;var _L7=FB.XdComm.Server.singleton.createNamedHiddenIFrame('dialogContent'+Math.random().toString(),'','fb_connect_dialog_iframe',null);if(_L3>0)_L7.style.height=_L3+'px';_L6._permissionDialog=new FB.UI.PopupDialog(_L0,_L7,true,false);_L6._permissionDialog.set_placement(FB.UI.PopupPlacement.topCenter);if(_L4>0)_L6._permissionDialog.setContentWidth(_L4);if(_L5)_L6._permissionDialog.add_closed(_L5);var _L8=_L6._permissionDialog._createCrossDomainClosingLink('xxRESULTTOKENxx');var _L9=FB.XdComm.Server.singleton.get_receiverUrl();var _La={api_key:FB.Facebook.apiKey,v:FB.Facebook.version,extern:_L6.get__isInConnect(),next:_L8,channel_url:_L9,dialog_id:encodeURIComponent(_L6._permissionDialog.get_id())};if(_L2){var _Lb=_L2;for(var k2 in _Lb){var _Ld={key:k2,value:_Lb[k2]};_La[_Ld.key]=_Ld.value;}}var _Le=FB.XdComm.Server.singleton.getUniqueOrigin();if(_Le)_La['origin']=_Le;_L7.src=FBIntern.Utility.createFacebookUrl('www',_L1,_La,false);_L6._permissionDialog.show();});},createApplication:function(_L0,_L1){FB.Facebook.get_sessionState().waitUntilReady(function(_L2){FB.IFrameUtil.ResizeUtilServer.run();var _L3=FB.Connect._singleton;var _L4=FB.XdComm.Server.singleton.createNamedHiddenIFrame('dialogContent'+Math.random().toString(),'','fb_create_app_iframe',null);_L4.style.height='214px';_L4.style.width='448px';var _L5=new FB.UI.PopupDialog(FBIntern.Intl._tx("Integrar ao Facebook?"),_L4,true,false);if(_L1)_L5.add_closed(_L1);var _L6=_L5._createCrossDomainClosingLink('create-app-return-val');var _L7=_L5._createCrossDomainClosingLink(false);var _L8={api_key:FB.Facebook.apiKey,v:FB.Facebook.version,name:_L0,next:_L6,cancel:_L7,channel_url:FB.XdComm.Server.singleton.get_receiverUrl()};_L4.src=FBIntern.Utility.createFacebookUrl('www','connect/create_app.php',_L8,false);_L5.show();});},pollLoginStatus:function(_L0,_L1,_L2){var _L3=FB.Connect._singleton;if(_L3.get__userInfo().connectState===FB.ConnectState.connected){if(_L2)_L2();return;}_L3._pollTries=_L1;_L3._pollInterval=_L0;_L3._onConnectedCallback=_L2;window.setTimeout(function(){_L3._refreshQueryStatus();},_L3._pollInterval);},forceSessionRefresh:function(_L0){var _L1=FB.Connect._singleton;++_L1._pollTries;_L1._onConnectedCallback=_L0;_L1._refreshQueryStatus();},showAddSectionButton:function(_L0,_L1){var _L2=FB.Connect._singleton;var _L3={api_key:FB.Facebook.apiKey,section:_L0,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),extern:_L2.get__isInConnect()};var _L4='fb_section'+_L0;var _L5='fbShowAddSection_'+_L0;var _L6=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L4,FB.XdComm.Server.singleton.get_receiverUrl(),'fb_addSection',FB.Sys.format('style=\"width:130px; height:25px\" frameborder=\"0\" allowTransparency=\"true\"'));_L1.appendChild(_L6);if(!FB.XdComm.Server.singleton.isDataHandlerRegistered(_L5))FB.XdComm.Server.singleton.registerDataHandler(_L5,function(_L8,_L9){FB.Connect._showAddSectionDialog(_L8);});var _L7=(window.self.frames)[_L4];_L2._facebookIFrame(_L7.document,'connect/section_button.php',_L3);},_showAddSectionDialog:function(_L0){var _L1=FB.Connect._singleton;if(_L1._addSectionDialog)return false;FB.IFrameUtil.ResizeUtilServer.run();var _L2={section:_L0,api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),extern:_L1.get__isInConnect()};_L1._addSectionNum++;var _L3='fb_sectionIFrame_'+_L1._addSectionNum;var _L4=0;var _L5=0;var _L6='';if(_L0==='info'){_L4=718;_L5=350;_L6=FBIntern.Intl._tx("Adicionar uma se\u00e7\u00e3o do aplicativo em sua guia Informa\u00e7\u00f5es?");}else{_L4=430;_L5=321;_L6=FBIntern.Intl._tx("Adicionar o aplicativo ao seu perfil?");}var _L7=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L3,FB.XdComm.Server.singleton.get_receiverUrl(),'fb_addSection','frameborder=\"0\"');_L7.style.height=FB.Sys.format('{0}px',_L5);_L7.style.width=FB.Sys.format('{0}px',_L4);var _L8='fbCloseAddSection_'+_L0;_L1._addSectionDialog=FB.Connect._showStandardDialog(_L6,_L7,_L4,_L5);_L1._addSectionDialog.add_closed(function(_L9){_L1._addSectionDialog=null;});if(!FB.XdComm.Server.singleton.isDataHandlerRegistered(_L8))FB.XdComm.Server.singleton.registerDataHandler(_L8,function(_L9,end){_L1._addSectionDialog.close(true);});FBIntern.Utility.getIFrameDocument(_L3,_L7,function(_L9){_L1._facebookIFrame(_L9,'connect/prompt_section.php',_L2);});return true;},_sessionlessPublishUserAction:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6){var _L7=FB.Connect._singleton;var _L8={template_id:_L0.toString()};if(_L1)_L8['template_data']=_L1;if(_L2)_L8['target_ids']=_L2;if(_L3)_L8['body_general']=_L3;var _L9='sessionlessPublishCompletedHandler';if(!FB.XdComm.Server.singleton.isDataHandlerRegistered(_L9))FB.XdComm.Server.singleton.registerDataHandler(_L9,FB.Connect._onSessionlessPublishCompletedHandler);_L7._sessionlessPublishCallback=_L5;var _La={feed_info:FB.JSON.serialize(_L8),api_key:FB.Facebook.apiKey,user_message:_L6,extern:_L7.get__isInConnect()};if(_L5)_La['callback']=FB.XdComm.Server.singleton.createUdpUrl(_L9,null,new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,FB.XdComm.Server.singleton.get_receiverUrl()));if(_L4===FB.FeedStorySize.oneLine||_L4===FB.FeedStorySize.shortStory)_La['size']=(_L4).toString();_L7._sessionlessFeedFrameNum++;var _Lb='fb_sessionlessfeedIFrame_'+_L7._sessionlessFeedFrameNum;var _Lc=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_Lb,FB.XdComm.Server.singleton.get_receiverUrl(),'','');FBIntern.Utility.getIFrameDocument(_Lb,_Lc,function(_Ld){_L7._facebookIFrame(_Ld,'connect/sessionless_feed.php',_La);});},_onSessionlessPublishCompletedHandler:function(_L0,_L1){var _L2=FB.Connect._singleton;if(_L2._sessionlessPublishCallback)_L2._sessionlessPublishCallback();},streamPublish:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6,_L7){var _L8=FB.Connect._singleton;if(_L6&&(_L8._userInfo)&&(_L8._userInfo.shortStorySetting===FB.FeedStorySetting.autoaccept)){var _L9=new FB.ImmediateSequencer(function(_Lc,_Ld){if(_L5)_L5(_Lc,_Ld,{user_message:_L0});});var _La={};_La['message']=_L0;_La['attachment']=_L1;_La['action_links']=_L2;_La['target_id']=_L3;FB.Facebook.apiClient.callMethod('stream.publish',_La,_L9);return true;}var _Lb={message:_L0,attachment:_L1,action_links:_L2,target_id:_L3,actor_id:_L7,user_message_prompt:_L4};return FB.Connect._ShowFeedDialogGeneric(_Lb,FB.RequireConnect.doNotRequire,_L5,true,null);},showFeedDialog:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6,_L7,_L8){var _L9=null;var _La=_L8;if(_L8){var _Lb=false;_Lb=(typeof _L8=='string');if(_Lb){_L9=_L8;_La=null;}else _L9=_La['value'];}var _Lc={message:_L9,template_id:_L0,template_data:_L1,body_general:_L3,user_message_prompt:_L7,to_ids:_L2};return FB.Connect._ShowFeedDialogGeneric(_Lc,_L5,_L6,false,_La);},_ShowFeedDialogGeneric:function(_L0,_L1,_L2,_L3,_L4){var _L5=FB.Connect._singleton;if(_L5._feedformDialog){if(_L2)_L2(null,null,null);return false;}if(_L5._feedStatusMustBeRefetched){_L5._dialogInfo=new FB.FeedDialogInfo(_L0,_L2,_L3,_L4);_L5._feedStatusRefetch();return true;}FB.Connect.get_status().waitUntilReady(function(_L6){var _L7=_L6;if(_L1===FB.RequireConnect.promptConnect&&_L7!==FB.ConnectState.connected){_L5._dialogInfo=new FB.FeedDialogInfo(_L0,_L2,_L3,_L4);FB.Connect.requireSession(null,function(){_L2(null,null,null);});}else if(_L1===FB.RequireConnect.require&&_L7!==FB.ConnectState.connected){_L2(null,null,null);}else{FB.Connect._prepareFeedDialogParameters(_L0);if(_L7===FB.ConnectState.connected)_L0['session_key']=FB.Facebook.apiClient.get_session().session_key;var _L8=FB.XdComm.Server.singleton.getUniqueOrigin();if(_L8)_L0['origin']=_L8;if(_L7===FB.ConnectState.userNotLoggedIn&&_L3){FB.Connect._openFeedDialogWindow(_L0,_L2,_L4);}else if(_L7!==FB.ConnectState.userNotLoggedIn){FB.Connect._openFeedDialogIframe(_L0,_L2,_L4);}else _L2(null,null,null);}});return true;},_prepareFeedDialogParameters:function(_L0){var _L1=FB.Connect._singleton;_L0['preview']='true';_L0['api_key']=FB.Facebook.apiKey;_L0['channel_url']=FB.XdComm.Server.singleton.get_receiverUrl();_L0['extern']=_L1.get__isInConnect();var _L2=['template_data','attachment','action_links','to_ids'];var _L3=new FB.ArrayEnumerator(_L2);while(_L3.moveNext()){var key=_L3.get_current();if(_L0[key])_L0[key]=encodeURIComponent(FB.JSON.serialize(_L0[key]));}var _L5=_L0;for(var k3 in _L5){var _L7={key:k3,value:_L5[k3]};if(!_L0[_L7.key])delete _L0[_L7.key];}},_processResultAndCallback:function(_L0,_L1,_L2){if(_L0==='xxRESULTTOKENxx')_L0=null;var _L3=null;var _L4=null;if(_L0===null)_L3="null";if(_L0){var _L5=false;_L5=(_L0 instanceof Object);if(_L5){var _L6=_L0;_L3=_L6['postId'];if(_L3===null)_L3="null";_L4=(_L6['data']);if(_L2&&_L4['user_message'])_L2['value']=_L4['user_message'];}else _L3=_L0;}if(_L1)_L1(_L3,null,_L4);},_openFeedDialogWindow:function(_L0,_L1,_L2){FB.XdComm.Server.registerSimpleHandler('login',function(_L7){FB.Connect.forceSessionRefresh(function(){});});FB.XdComm.Server.registerSimpleHandler('fbPublishPopup',function(_L7){if(window.fbDialog){window.fbDialog.close();window.fbDialog=null;}FB.Connect._processResultAndCallback(_L7,_L1,_L2);});var _L3='sharer'+Math.floor(Math.random()*10000);var _L4='?'+FBIntern.Uri.createQueryString(_L0);var url='http://www.facebook.com/connect/prompt_feed.php';var _L6=null;if((url.length+_L4.length)>=2000){_L6=document.createElement('form');_L6.setAttribute('method','post');_L6.setAttribute('target',_L3);_L6.setAttribute('action',url);FB.forEach(_L0,function(_L7,_L8){var _L9=document.createElement('input');_L9.setAttribute('type','hidden');_L9.setAttribute('name',_L8);_L9.setAttribute('value',_L7);_L6.appendChild(_L9);});FB.HiddenContainer.get().appendChild(_L6);url='about:blank';}else url+=_L4;window.fbDialog=window.open(url,_L3,'toolbar=0,status=0,width=600,height=388');if(_L6!==null){_L6.submit();FB.HiddenContainer.get().removeChild(_L6);}},_openFeedDialogIframe:function(_L0,_L1,_L2){FB.IFrameUtil.CanvasUtilServer.run(false);var _L3=FB.Connect._singleton;_L3._feedformNum++;var _L4='fb_feedIFrame_'+_L3._feedformNum;var _L5='switchUser';FB.XdComm.Server.registerSimpleHandler(_L5,function(_Le){_L3.switchUser();});var _L6=FB.XdComm.Server.singleton.createUdpUrl(_L5,null,new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.self,FB.XdComm.Server.singleton.get_receiverUrl()));_L0['switch_user_url']=_L6;var _L7=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L4,FB.XdComm.Server.singleton.get_receiverUrl(),'fb_feedIFrame','frameborder=\"0\"');var _L8=_L0['to_ids'];var _L9=_L0['target_id'];var _La=_L0['actor_id'];var _Lb=(_L8&&_L8.length>0)||_L9;var _Lc;if(_La){_Lc=FBIntern.Intl._tx("Publish this story to the Page's Wall?");}else if(_Lb){_Lc=FBIntern.Intl._tx("Publicar este hist\u00f3rico no mural do Facebook de seu amigo?");}else _Lc=FBIntern.Intl._tx("Publicar este hist\u00f3rico em seu mural do Facebook e nas p\u00e1ginas iniciais de seus amigos?");_L3._feedformDialog=new FB.UI.PopupDialog(_Lc,_L7,true,true);_L3._feedformDialog.set_placement(FB.UI.PopupPlacement.topCenter);var _Ld=_L3._feedformDialog._createCrossDomainClosingLink('xxRESULTTOKENxx');_L0['callback']=_Ld;_L3._feedformDialog.add_closed(function(_Le){_L3._feedformDialog=null;FB.Connect._processResultAndCallback(_Le,_L1,_L2);});_L0['in_iframe']=1;_L3._feedformDialog.setContentWidth(600);_L3._feedformDialog.show();FBIntern.Utility.getIFrameDocument(_L4,_L7,function(_Le){_L3._facebookIFrame(_Le,'connect/prompt_feed.php',_L0);});},showShareDialog:function(url,_L1){var _L2=FB.Connect._singleton;if(_L2._shareDialog)_L1();FB.Connect.get_status().waitUntilReady(function(_L3){var _L4=_L3;if(_L4===FB.ConnectState.userNotLoggedIn){window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(url),'sharer','toolbar=0,status=0,width=626,height=436');}else{if(!this.shareFrameCounter)this.shareFrameCounter=0;var _L5='fb_share_iframe_'+this.shareFrameCounter++;var _L6=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L5,FB.XdComm.Server.singleton.get_receiverUrl(),'fb_shareIFrame','frameborder=\"0\"');var _L7=FBIntern.Intl._tx("Compartilhar este hist\u00f3rico?");_L2._shareDialog=new FB.UI.PopupDialog(_L7,_L6,true,true);_L2._shareDialog.set_placement(FB.UI.PopupPlacement.topCenter);_L2._shareDialog.add_closed(function(_L9){_L2._shareDialog=null;if(_L1)_L1();});var _L8=_L2._shareDialog._createCrossDomainClosingLink(false);_L2._shareDialog.setContentWidth(650);_L2._shareDialog.setContentHeight(175);_L2._shareDialog.show();FBIntern.Utility.getIFrameDocument(_L5,_L6,function(_L9){_L2._facebookIFrame(_L9,'sharer.php?u='+encodeURIComponent(url)+'&connect',{channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),close_url:_L8,extern:_L2.get__isInConnect()});});}});},showBookmarkDialog:function(_L0){FB.Connect.requireSession(function(){FB.IFrameUtil.ResizeUtilServer.run();var _L1=FB.XdComm.Server.singleton.createNamedHiddenIFrame('fb_bookmark_iframe',FB.XdComm.Server.singleton.get_receiverUrl(),'fb_bookmarkIFrame',null);var _L2=new FB.UI.PopupDialog(FBIntern.Intl._tx("Adicionar o aplicativo aos favoritos"),_L1,true,false);_L2.set_placement(FB.UI.PopupPlacement.topCenter);if(_L0)_L2.add_closed(function(_L5){_L0();});_L2.setContentWidth(460);_L2.setContentHeight(95);var _L3=_L2._createCrossDomainClosingLink(false);var _L4={api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),close_url:_L3,extern:FB.Connect._singleton.get__isInConnect(),session_key:FB.Facebook.apiClient.get_session().session_key,v:FB.Facebook.version};_L1.src=FBIntern.Utility.createFacebookUrl('www','connect/bookmark.php',_L4,false);_L2.show();});},get_loggedInUser:function(){var _L0=FB.Facebook.apiClient.get_session();return (_L0)?_L0.uid:null;},getSignedPublicSessionData:function(_L0){var _L1=FB.Connect._singleton;FB.Connect.get_status().waitUntilReady(function(_L2){if(_L1._publicSessionData&&FB.Facebook.apiClient.get_session()){_L0(_L1._publicSessionData,null);}else if(!FB.Facebook.apiClient.get_session()){_L0(null,null);}else FB.Facebook.apiClient.auth_getSignedPublicSessionData(new FB.ImmediateSequencer(_L0));});},addSignedPublicSessionDataToUrl:function(url,_L1){FB.Connect.getSignedPublicSessionData(function(_L2,_L3){if(_L2)url=FBIntern.Uri.addQueryParameters(url,'public_session_data='+encodeURIComponent(FB.JSON.serialize(_L2)));_L1(url,null);});},_showStandardDialog:function(_L0,_L1,_L2,_L3){var _L4=new FB.UI.PopupDialog(_L0,_L1,true,true);_L4.setContentWidth(_L2);_L4.setContentHeight(_L3);_L4.set_placement(FB.UI.PopupPlacement.topCenter);_L4.show();return _L4;}});
FB.provide('FB.XFBML._elementState',{none:0,onProcessCalled:1,onDataReadyCalled:2,waitForCondition:4,ready:8});
FB.subclass('FB.DependentWaitable','FB.Waitable',{init:function(){this._dependents=[];this._super();},get_isReady:function(){return this._waitItems<=0;},addDependent:function(_L0){if(!_L0.get_isReady()){FB.Sys.add(this._dependents,_L0);this._waitItems++;_L0.add_changed(FB.bind(this._dependent_OnReady,this));}},removeAll:function(){var _L0=new FB.ArrayEnumerator(this._dependents);while(_L0.moveNext()){var _L1=_L0.get_current();_L1.remove_changed(FB.bind(this._dependent_OnReady,this));}this._dependents=[];this._waitItems=0;},_dependent_OnReady:function(_L0){_L0.remove_changed(FB.bind(this._dependent_OnReady,this));this._waitItems--;if(!this._waitItems)this.onChange();},_waitItems:0});
FB.subclass('FB.XFBML.Element','FB.Class',{init:function(_L0){this._dependents=new FB.DependentWaitable();this.domElement=_L0;this.domElement._fbElement=this;},process:function(){try{this._state=FB.XFBML._elementState.none;var conditionAttribute=this.getAttribute('condition',null);if(conditionAttribute)if(typeof(conditionAttribute)==='string'){this._conditionResult=eval(conditionAttribute);}else{FB.FBDebug.assert(typeof(conditionAttribute)==='function','Invalid condition value');var conditionFunction=conditionAttribute;this._conditionResult=conditionFunction();}var result=true;var resultReady=true;var pendingResult=this._conditionResult;if(!FB.Sys.isNullOrUndefined(this._conditionResult))if(FB.Type.getInstanceType(this._conditionResult)===Boolean){result=this._conditionResult;}else{resultReady=pendingResult.get_isReady();result=pendingResult.result;}if(!resultReady){this._state|=FB.XFBML._elementState.waitForCondition;(this._conditionResult).add_changed(FB.bind(this._onConditionChanged,this));}if((resultReady&&result)||(!resultReady&&!this.getAttribute('noPreProcess',false))){this.onProcess();this._state|=FB.XFBML._elementState.onProcessCalled;this._checkDataReady();}else if(resultReady&&!result){this.onConditionFalse();this.set_isReady(true);}}catch(e){FB.Debug.logLine(1,"Failed rendering a XFBML element");}},isValid:function(){var _L0=this.domElement;while(_L0)if(_L0===document.body){return true;}else _L0=_L0.parentNode;return false;},refresh:function(){if((this._state&FB.XFBML._elementState.waitForCondition)&&this._conditionResult)(this._conditionResult).remove_changed(FB.bind(this._onConditionChanged,this));this._state=FB.XFBML._elementState.none;this._conditionResult=null;this._dependents.resetChange();this._dependents.removeAll();FB.UI.UIElement.removeCssClass(this.domElement,'FB_ElementReady');this.clearVisual();this.process();},_onConditionChanged:function(_L0){if(_L0.get_isReady()){_L0.remove_changed(FB.bind(this._onConditionChanged,this));this._state&=~FB.XFBML._elementState.waitForCondition;if(_L0.result){if(!(this._state&FB.XFBML._elementState.onProcessCalled)){this.onProcess();this._state|=FB.XFBML._elementState.onProcessCalled;}this._checkDataReady();}else{this.onConditionFalse();this.set_isReady(true);}}},onConditionFalse:function(){FB.UI.UIElement.addCssClass(this.domElement,'FB_ElementConditionFalse');this.domElement.style.display='none';},get_isReady:function(){return (this._state&FB.XFBML._elementState.ready);},set_isReady:function(_L0){if(_L0!==this.get_isReady()){if(_L0){this._state|=FB.XFBML._elementState.ready;}else this._state&=~FB.XFBML._elementState.ready;if(_L0){FB.UI.UIElement.addCssClass(this.domElement,'FB_ElementReady');}else FB.UI.UIElement.removeCssClass(this.domElement,'FB_ElementReady');if(this.__isReadyChanged)this.__isReadyChanged(this,null);}return _L0;},onProcess:function(){},onDataReady:function(){},clearVisual:function(){this.domElement.innerHTML='';},_getAttributeFromList:function(_L0,_L1,_L2){var _L3=this.getAttribute(_L0,_L1);var _L4=new FB.ArrayEnumerator(_L2);while(_L4.moveNext()){var _L5=_L4.get_current();if(_L3===_L5)return _L5;}return _L1;},getAttribute:function(_L0,_L1){var _L2=this.domElement.getAttribute(_L0);if(!_L2)_L2=_L1;return _L2;},_getBoolAttribute:function(_L0,_L1){var _L2=_L1;var s=this.domElement.getAttribute(_L0);if(s)_L2=FB.Sys.parseBool(s);return _L2;},addDataToWait:function(_L0){this._dependents.addDependent(_L0);},_checkDataReady:function(){try{if(this._dependents.get_isReady()){if(!(this._state&FB.XFBML._elementState.waitForCondition))this.onDataReady();}else this._dependents.waitUntilReady(FB.bind(function(r){this._checkDataReady();},this));}catch(e){FB.Debug.logLine(1,"Failed rendering a XFBML element");}},add_isReadyChanged:function(_L0){this.__isReadyChanged=FB.Delegate.combine(this.__isReadyChanged,_L0);},remove_isReadyChanged:function(_L0){this.__isReadyChanged=FB.Delegate.remove(this.__isReadyChanged,_L0);},__isReadyChanged:null,domElement:null,_conditionResult:null,_state:0});FB.provide('FB.XFBML.Element',{fromDomElement:function(_L0){return _L0._fbElement;}});
FB._create__cachedItem=function(_L0,_L1){var o={};o.data=_L0;o.createTime=_L1;return o;};
FB._create__fqlCache=function(_L0){var o={};o.fields=_L0;o.rows={};return o;};
FB.subclass('FB.XFBML.Data.CacheManager','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Data.CacheManager',{_onLoad:function(){FB.XFBML.Data.CacheManager._maxUsableAge=24*60*60*1000;FB.XFBML.Data.CacheManager._refreshInternal=10*60*1000;FB.XFBML.Data.CacheManager._initialized=new FB.SimpleWaitable();},clearAll:function(){if(FBIntern.Flash.get_xdComm())FBIntern.Flash.get_xdComm().waitUntilReady(function(_L0){(_L0).clearAllCache();});},_changeContext:function(uid){if(FBIntern.Flash.hasRequireVersion()){FBIntern.Flash.get_xdComm().waitUntilReady(function(_L1){FB.FBDebug.logLine(3,'CacheManager.ChangeContext to '+uid);(_L1).setCacheContext(uid);FB.XFBML.Data.CacheManager._initialized._setResult(true);});}else FB.XFBML.Data.CacheManager._initialized._setResult(true);},_getValue:function(key){try{var _L1=FBIntern.Flash.get_xdComm();if(_L1&&_L1.get_isReady()){var s=(_L1.result).getCache(key);if(s){s=FBIntern.Flash.decode(s);if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('CacheManager.GetValue returns '+s);return FB.JSON.deserialize(s);}}}catch(e){FB.FBDebug.logLine(1,'CacheManager.GetValue failed on key '+key+' exception='+e.toString());}return null;},_setValue:function(key,_L1){try{var _L2=FBIntern.Flash.get_xdComm();if(_L2&&_L2.get_isReady()){var s=FB.JSON.serialize(_L1);if(FB.FBDebug.logLevel>4)FB.FBDebug.writeLine('CacheManager.SetValue key='+key+', value='+s);(_L2.result).setCache(key,FB.JSON.serialize(_L1));}}catch(e){FB.FBDebug.logLine(1,'CacheManager.SetValue failed on key '+key+' exception='+e.toString());}},get__initialized:function(){return FB.XFBML.Data.CacheManager._initialized;}});
FB.subclass('FB.XFBML.Data.FqlTable','FB.Class',{init:function(_L0,key){this._pendingResults={};this._specialTables={};this._specialFields={};this._table=_L0;this._key=key;this._specialTables['translation']=true;this._specialFields['translation']='pre_hash_string';this._specialTables['link_stat']=true;this._specialFields['link_stat']='url';this._cache=FB.XFBML.Data.CacheManager._getValue(this.get__cacheKey());if(!this._cache){this._fields=[];this._cache=FB._create__fqlCache(this._fields);}else this._fields=this._cache.fields;},selectByKey:function(_L0,_L1){FB.FBDebug.assert(_L1,'value cannot be null');var _L2=false;var _L3=new FB.ArrayEnumerator(_L0);while(_L3.moveNext()){var _L4=_L3.get_current();if(!FB.Sys.contains(this._fields,_L4)){FB.Sys.add(this._fields,_L4);_L2=true;}}if(_L2)this._cache=FB._create__fqlCache(this._fields);var _L5=this._pendingResults[_L1];if(!_L5){var _L6=this._cache.rows[_L1];if(_L6){var age=(new Date()).getTime()-_L6.createTime;if(age<FB.XFBML.Data.CacheManager._maxUsableAge){if(FB.FBDebug.logLevel>5)FB.FBDebug.writeLine('Use cached value for key='+_L1+' in fql table '+this.get__cacheKey());_L5=new FB.PendingResult();_L5.setPendingResult(_L6.data,null);if(age>FB.XFBML.Data.CacheManager._refreshInternal){this._pendingResults[_L1]=_L5;}else return _L5;}}}if(!_L5){_L5=new FB.PendingResult();this._pendingResults[_L1]=_L5;}var _L8=FB.XFBML.Context.singleton;if(!this._subscribedToEvent){_L8.add_beforeSendBatchRequest(FB.bind(this._beforeSendBatchRequest,this));this._subscribedToEvent=true;}_L8.requestBatchProcess();return _L5;},invokeApi:function(_L0,_L1){if(FB.Connect.get_status().get_isReady()&&FB.Connect.get_status().result!==FB.ConnectState.connected&&this._table!=='user'){var _L2=new FB.PendingResult();_L2.setPendingResult(null,FBIntern.Utility.createException('Invalid session state',FB.ApiErrorCode.invalid_session_key));return _L2;}else{var _L3=FB.Sys.format('SELECT {0} from {1} WHERE {2} IN ({3})',_L0.toString(),this._table,this._key,_L1.toString());return FB.Facebook.apiClient.fql_query(_L3,FB.XFBML.Context.singleton.get_batchSequencer());}},_beforeSendBatchRequest:function(){var _L0=[];var _L1=this._pendingResults;if(!FB.Sys.getKeyCount(_L1))return;var _L2=_L1;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};FB.Sys.add(_L0,_L4.key);}var _L5='';if(this._specialTables[this._table]){_L5=this._specialFields[this._table];}else _L5=this._key;if(!FB.Sys.contains(this._fields,_L5))FB.Sys.add(this._fields,_L5);var _L6=this._fields;this._fields=[];this._pendingResults={};var _L7=this.invokeApi(_L6,_L0);_L7.waitUntilReady(FB.bind(function(r){var now=(new Date()).getTime();var _La=_L7.result;if(_La){var c=_La.length;for(var i=0;i<c;i++){var _Ld=_La[i];var _Le='';if(!this._specialTables[this._table]){_Le=_Ld[this._key];}else _Le='\"'+_Ld[this._specialFields[this._table]]+'\"';if(_Ld&&_L1[_Le])(_L1[_Le]).setPendingResult(_Ld,_L7.exception);}}var _L2=_L1;for(var k2 in _L2){var _L4={key:k2,value:_L2[k2]};var _Lf=_L4.value;if(!_Lf.get_isReady()){_Lf.setPendingResult(null,new Error('No data received from server from FQL query.'));if(!_L7.exception)this._cache.rows[_L4.key]=FB._create__cachedItem(null,now);}else this._cache.rows[_L4.key]=FB._create__cachedItem(_Lf.result,now);}FB.XFBML.Data.CacheManager._setValue(this.get__cacheKey(),this._cache);},this));},get__cacheKey:function(){return 'v0.1_fql_'+this._table+'_'+this._key;},_key:null,_table:null,_fields:null,_cache:null,_subscribedToEvent:false});
FB.subclass('FB.XFBML.Resources.ResourceDict','FB.Class',{init:function(){this._stringResources={link:'<a class=\'FB_Link\' href=\'{0}\'>{1}</a>',no_network:'no network'};},getResourceString:function(key){return this._stringResources[key];},_stringResources:null});
FB.subclass('FB.XFBML.Context','FB.Class',{init:function(){this.resources=new FB.XFBML.Resources.ResourceDict();this.fqlTables={};this._timerId=-1;this._connectStatus=FB.ConnectState.userNotLoggedIn;FB.Facebook.add_initCalled(FB.bind(function(){if(!this._initialized){this._initialized=true;this._connectStatus=FB.Connect.get_status().result;this._connectStatusReady=FB.Connect.get_status().get_isReady();FB.XFBML.Data.CacheManager._changeContext(FB.Connect.get_loggedInUser());FB.Connect.get_status().add_changed(FB.bind(this._onConnectStatusChanged,this));}if(FB.XFBML.Host.autoParseDomTree)FB.XFBML.Host.parseDomTree();},this));},requestBatchProcess:function(){if(this._timerId===-1)this._timerId=window.setTimeout(FB.bind(this._onTimer,this),0);},get_batchSequencer:function(){if(!this._batchSequencer){this._batchSequencer=new FB.BatchSequencer();this._batchSequencer.isParallel=true;this.requestBatchProcess();}return this._batchSequencer;},_onTimer:function(){FB.Connect.get_status().waitUntilReady(FB.bind(function(_L0){if(this.__beforeSendBatchRequest)this.__beforeSendBatchRequest();this._timerId=-1;if(this._batchSequencer){this._batchSequencer.execute(null);this._batchSequencer=null;}},this));},getFqlTable:function(_L0,_L1){var key=_L0+_L1;var _L3=this.fqlTables[key];if(!_L3){_L3=new FB.XFBML.Data.FqlTable(_L0,_L1);this.fqlTables[key]=_L3;}return _L3;},get_unconnectedFriendsCount:function(){if(!this._unconnectedFriendsCount){this._unconnectedFriendsCount=new FB.PendingResult();FB.Connect.get_status().waitUntilReady(FB.bind(function(_L0){var _L1=FB.XFBML.Data.CacheManager._getValue('UnconnectedFriendsCount');var _L2=true;if(_L1){var age=(new Date()).getTime()-_L1.createTime;if(age<FB.XFBML.Data.CacheManager._maxUsableAge){this._unconnectedFriendsCount.setPendingResult(_L1.data,null);if(age<FB.XFBML.Data.CacheManager._refreshInternal)_L2=false;}}if(_L2){var r=FB.Facebook.apiClient.connect_getUnconnectedFriendsCount(this.get_batchSequencer());r.waitUntilReady(FB.bind(function(_L5){this._unconnectedFriendsCount.setPendingResult(r.result,r.exception);FB.XFBML.Data.CacheManager._setValue('UnconnectedFriendsCount',FB._create__cachedItem(r.result,(new Date()).getTime()));},this));}},this));}return this._unconnectedFriendsCount;},_onConnectStatusChanged:function(_L0){var _L1=FB.Connect.get_status().result;FB.XFBML.Data.CacheManager._changeContext(FB.Connect.get_loggedInUser());if(this._connectStatusReady&&_L1!==this._connectStatus&&_L1===FB.ConnectState.connected)this._onConnectStateChangedToConnected();this._connectStatusReady=FB.Connect.get_status().get_isReady();this._connectStatus=_L1;},_onConnectStateChangedToConnected:function(){FB.FBDebug.logLine(2,'Connect state changed from from ready but unconnected to ready and connected');this.fqlTables={};this._unconnectedFriendsCount=null;FB.XFBML.Host.refresh();},add_beforeSendBatchRequest:function(_L0){this.__beforeSendBatchRequest=FB.Delegate.combine(this.__beforeSendBatchRequest,_L0);},remove_beforeSendBatchRequest:function(_L0){this.__beforeSendBatchRequest=FB.Delegate.remove(this.__beforeSendBatchRequest,_L0);},__beforeSendBatchRequest:null,_batchSequencer:null,_unconnectedFriendsCount:null,_connectStatusReady:false,_initialized:false});FB.provide('FB.XFBML.Context',{_onLoad:function(){FB.XFBML.Context.singleton=null;FB.XFBML.Context.singleton=new FB.XFBML.Context();}});
FB.subclass('FBIntern.DataHelper','FB.Class',{init:function(){}});FB.provide('FBIntern.DataHelper',{getPrimaryNetwork:function(_L0){if(_L0.affiliations&&_L0.affiliations.length>0){return _L0.affiliations[0].name;}else return null;}});
FB.subclass('FB.XFBML.ConnectUtility','FB.Class',{init:function(){}});FB.provide('FB.XFBML.ConnectUtility',{upperCaseFirstChar:function(s){if(s.length>0){return s.substr(0,1).toUpperCase()+s.substr(1);}else return s;},getElementsByTagNameNS:function(_L0,_L1,_L2){var _L3=null;switch(FBIntern.AppInfo.get_singleton().get_hostInfo().get_hostName()){case FBIntern.HostName.MOZILLA:_L2=_L1+':'+_L2;_L3=_L0.getElementsByTagNameNS(null,_L2);break;case FBIntern.HostName.IE:var _L4=document.namespaces;if(_L4&&FB.Sys.containsKey(_L4,_L1)){_L3=_L0.getElementsByTagName(_L2);}else{_L2=_L1+':'+_L2;_L3=_L0.getElementsByTagName(_L2);if(_L3&&_L3.length>0){var _L5='You appear to be using the XFBML tag '+_L2+' in your HTML markup. However, you are missing corresponding xmlns attribute in your <HTML> tag. That xmlns attribute is required in Internet Explorer. For example, to use XFBML tags with the \'fb\' namespace such as <fb:login-button></fb:login-button>, you must place xmlns:fb=\"http://www.facebook.com/2008/fbml\" in the <HTML> tag';FB.FBDebug.logLine(0,_L5);throw new Error(_L5);}}break;default:_L2=_L1+':'+_L2;_L3=_L0.getElementsByTagName(_L2);break;}return _L3;},normalizeInt64ForId:function(id){if(id){var _L1=typeof(id);if(_L1==='string'&&(id).length<10)id=parseInt(id);}return id;},getNetworkInParentheses:function(_L0){var _L1=FBIntern.DataHelper.getPrimaryNetwork(_L0);if(!_L1)_L1=FB.XFBML.Context.singleton.resources.getResourceString('no_network');return '('+_L1+')';},isNameAvailable:function(_L0){return _L0&&!(FB.Sys.isNullOrEmpty(_L0.first_name)&&FB.Sys.isNullOrEmpty(_L0.last_name)&&FB.Sys.isNullOrEmpty(_L0.name));},_profileLink:function(_L0,_L1,_L2){if(!FBIntern.Utility.getSiteVar('enable_custom_href'))_L2=null;if(!_L2&&FB.XFBML.ConnectUtility.isNameAvailable(_L0))_L2=FBIntern.Utility.getNonConnectFacebookUrl('www')+'profile.php?id='+_L0.uid;if(_L2)_L1=FB.Sys.format(FB.XFBML.Context.singleton.resources.getResourceString('link'),_L2,_L1);return _L1;},isUser:function(id){return id<2.2e+09||(id>=1e+14&&id<=100099999989999);}});
FB.subclass('FB.XFBML.BookmarkButton','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'Cannot show bookmark button, no logged in user');this._uid=null;return;}this._bookmarked=FB.XFBML.Context.singleton.getFqlTable('permissions','uid').selectByKey(['bookmarked'],this._uid);this.addDataToWait(this._bookmarked);},onDataReady:function(){if(this._uid&&this._bookmarked.result&&this._bookmarked.result.bookmarked==0){var _L0='<a class="FB_UIButton FB_UIButton_Gray '+'FB_UIButton_CustomIcon UIActionButton" '+'onclick="FB.Connect.showBookmarkDialog(function() {}); return false;"'+' target="_blank">'+'<span class="FB_UIButton_Text">'+'<span class="FB_Bookmark_Icon" ></span>'+FBIntern.Intl._tx("Adicionar aos favoritos")+'</span>'+'</a>';this.domElement.innerHTML=_L0;}this.set_isReady(true);}});
FB.subclass('FB.XFBML.Fan','FB.XFBML.Element',{init:function(_L0){this._super(_L0);this._createFanIframe();},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();},clearVisual:function(){if(this._iframeContainer){this._iframeContainer.parentNode.removeChild(this._iframeContainer);this._iframeContainer=null;}if(this._loader){this._loader.parentNode.removeChild(this._loader);this._loader=null;}},_createFanIframe:function(){if(this._iframeContainer||this._loader)this.clearVisual();this._iframeName='fbfanIFrame_'+FB.XFBML.Fan._iframeIdCount.toString();FB.XFBML.Fan._iframeIdCount++;var id=this.getAttribute('profile_id','');var _L1=this.getAttribute('name','');var _L2=this.getAttribute('width','300');var _L3=this.getAttribute('connections','');var _L4=this.getAttribute('stream','');var _L5=this.getAttribute('height','');var css=this.getAttribute('css','');if(_L5==='')if((_L3===''||_L3==='0')&&(_L4===''||_L4==='0')){_L5='65';}else if(_L3===''||_L3==='0'){_L5='375';}else if(_L4===''||_L4==='0'){_L5='250';}else _L5='550';_L2=_L2.replace('px','');_L5=_L5.replace('px','');var _L7={api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),id:id,name:_L1,width:_L2,connections:_L3,stream:_L4,css:css};var _L8=FBIntern.Utility.getFacebookUrl('www')+'connect/connect.php';var _L9=FBIntern.Uri.addQueryParameters(_L8,FBIntern.Uri.createQueryString(_L7));this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,_L9,'','frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=_L2+'px';this._iframeContainer.style.height=_L5+'px';this._iframeContainer.style.border='none';this._iframeContainer.style.display='none';var _La=document.createElement('div');FB.UI.UIElement.addCssClass(_La,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=_L2+'px';this._loader.style.height=_L5+'px';this._loader.appendChild(_La);this.domElement.appendChild(this._iframeContainer);this.domElement.appendChild(this._loader);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){this._loader.parentNode.removeChild(this._loader);this._loader=null;this._iframeContainer.style.display='';this.set_isReady(true);},this));},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.Fan',{_onLoad:function(){FB.XFBML.Fan._iframeIdCount=0;}});
FB.subclass('FB.XFBML.GenericConnectButton','FB.XFBML.Element',{init:function(_L0){this._super(_L0);this._createButtonIframe();},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();},clearVisual:function(){if(this._iframeContainer){this._iframeContainer.parentNode.removeChild(this._iframeContainer);this._iframeContainer=null;}if(this._loader){this._loader.parentNode.removeChild(this._loader);this._loader=null;}},_createButtonIframe:function(){if(this._iframeContainer||this._loader)this.clearVisual();this._iframeName=this._getIFrameName();var _L0=this._determineQueryParams();var _L1=FBIntern.Utility.getFacebookUrl('www')+this._getPath();var _L2=FBIntern.Uri.addQueryParameters(_L1,FBIntern.Uri.createQueryString(_L0));var _L3=this._getDefaultWidth();var _L4=this._getDefaultHeight();this._iframeContainer=this._createIFrameContainer(_L2,_L3,_L4);this._loader=this._createLoader(_L3,_L4);this.domElement.appendChild(this._iframeContainer);this.domElement.appendChild(this._loader);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){this._loader.parentNode.removeChild(this._loader);this._loader=null;this._iframeContainer.style.display='';this.set_isReady(true);},this));},_createIFrameContainer:function(_L0,_L1,_L2){var _L3=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,_L0,'','frameborder=\"0\" allowtransparency=\"true\"');_L3.style.border='none';_L3.style.display='none';_L3.style.width=_L1;_L3.style.height=_L2;return _L3;},_getDefaultWidth:function(){return FB.XFBML.GenericConnectButton._defaultWidth;},_getDefaultHeight:function(){return FB.XFBML.GenericConnectButton._defaultHeight;},_determineQueryParams:function(){var _L0=window.location.href;var _L1=this.getAttribute('permalink',window.location.href);var _L2=this.getAttribute('category','');var _L3=this.getAttribute('category_id',0);var _L4=this.getAttribute('description','');var _L5=this.getAttribute('image','');var _L6=this.getAttribute('icon','');var _L7=this.getAttribute('tags','');return {page_url:_L0,external_url:_L1,category:_L2,category_id:_L3,description:_L4,image:_L5,icon:_L6};},_createLoader:function(_L0,_L1){var _L2=document.createElement('div');_L2.style.width=_L0;_L2.style.height=_L1;FB.UI.UIElement.addCssClass(_L2,'fb_connect_button_loader');FB.UI.UIElement.addCssClass(_L2,'fb_connect_button_loading');var _L3=document.createElement('div');FB.UI.UIElement.addCssClass(_L3,'fb_connect_button_loader_gif');_L2.appendChild(_L3);return _L2;},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.GenericConnectButton',{_defaultWidth:'250px',_defaultHeight:'70px'});
FB.subclass('FB.XFBML.AddToWishList','FB.XFBML.GenericConnectButton',{_getIFrameName:function(){var _L0='fbAddToWishListIFrame_'+FB.XFBML.AddToWishList._iframeIdCount.toString();FB.XFBML.AddToWishList._iframeIdCount++;return _L0;},_getPath:function(){return 'connect/add_to_wishlist.php';}});FB.provide('FB.XFBML.AddToWishList',{_iframeIdCount:0});
FB.subclass('FB.XFBML.Like','FB.XFBML.GenericConnectButton',{_getIFrameName:function(){var _L0='fbLikeIFrame_'+FB.XFBML.Like._iframeIdCount.toString();FB.XFBML.Like._iframeIdCount++;return _L0;},_getPath:function(){return 'connect/like.php';}});FB.provide('FB.XFBML.Like',{_iframeIdCount:0});
FB.subclass('FB.XFBML.Pay','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onDataReady:function(){var _L0=this.getAttribute('button','large');var _L1=this.getAttribute('next_js',null);var _L2=this.getAttribute('order_info',null);var _L3=this.getAttribute('next_url',null);var _L4=this.getAttribute('receiver',0);var _L5='';if(_L2){var _L6=false;var _L7='var fbpay = new FB.Payments(); fbpay.setParam(\'order_info\', \''+_L2+'\');';if(_L1)_L7+='fbpay.setParam(\'next_js\', '+_L1+');';if(_L3)_L7+='fbpay.setParam(\'next_url\', \''+_L3+'\');';if(_L4)_L7+='fbpay.setParam(\'receiver\', '+_L4+');';var _L8=null;switch(_L0){case 'large':_L8='/images/fbpayments/pay_white_large_long.gif';break;case 'small':_L8='/images/fbpayments/pay_white_large_short.gif';break;default:_L6=true;break;}if(!_L6){_L7+='fbpay.submitOrder(); return false;';_L5='<a onclick=\"'+_L7+'\">'+'<img src=\"'+_L8+'\" />'+'</a>';}}FBIntern.Utility.paymentsLog('render_tag',FB.Facebook.apiKey);this.domElement.innerHTML=_L5;this.set_isReady(true);}});
FB.subclass('FB.XFBML.LiveStream','FB.XFBML.Element',{init:function(_L0){this._super(_L0);this._createLiveStreamIframe();},refresh:function(){},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();},_createLiveStreamIframe:function(){if(this._iframeContainer)return;this._iframeName='fblivestreamIFrame_'+FB.XFBML.LiveStream._iframeIdCount.toString();FB.XFBML.LiveStream._iframeIdCount++;var xid=this.getAttribute('xid','default');var _L1=this.getAttribute('width','400');var _L2=this.getAttribute('height','500');_L1=_L1.replace('px','');_L2=_L2.replace('px','');var _L3=this.getAttribute('redesigned_stream','false');var _L4=this.getAttribute('hide_friends_tab','0');var _L5={api_key:FB.Facebook.apiKey,xid:xid,width:_L1,height:_L2,hide_friends_tab:_L4};var _L6;if(_L3==='true'){_L6='widgets/live_feed.php';}else _L6='widgets/livefeed.php';var _L7=FBIntern.Utility.createFacebookUrl('www',_L6,_L5,false);this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,_L7,'','width=\"'+_L1+'\" height=\"'+_L2+'\" '+'frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=_L1+'px';this._iframeContainer.style.height=_L2+'px';this._iframeContainer.style.display='none';this._iframeContainer.style.border='none';var _L8=document.createElement('div');FB.UI.UIElement.addCssClass(_L8,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=_L1+'px';this._loader.appendChild(_L8);this.domElement.appendChild(this._loader);this.domElement.appendChild(this._iframeContainer);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){this._iframeContainer.style.display='block';FB.UI.UIElement.removeCssClass(this._loader,'fb_content_loading');},this));this.set_isReady(true);},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.LiveStream',{_onLoad:function(){FB.XFBML.LiveStream._iframeIdCount=0;}});
FB.subclass('FB.XFBML.Comments','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},refresh:function(){},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();this._createCommentIframe();},_createCommentIframe:function(){if(this._iframeContainer)return;this._iframeName='fbcommentsIFrame_'+FB.XFBML.Comments._iframeIdCount.toString();FB.XFBML.Comments._iframeIdCount++;var xid=this.getAttribute('xid',null);var _L1=this.getAttribute('width','550');var url=this.getAttribute('url',document.URL);var _L3=this.getAttribute('title',document.title);var _L4=this.getAttribute('numposts','10');var css=this.getAttribute('css','');var _L6=this.getAttribute('simple','');var _L7=this.getAttribute('reverse','');var _L8=this.getAttribute('quiet','');_L1=_L1.replace('px','');if(!xid){var _L9=document.URL.indexOf('#');if(_L9>0){xid=encodeURIComponent(document.URL.substring(0,_L9));}else xid=encodeURIComponent(document.URL);}var _La={api_key:FB.Facebook.apiKey,channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),xid:xid,width:_L1,url:url,title:_L3,numposts:_L4,css:css,simple:_L6,reverse:_L7,quiet:_L8};var _Lb=FBIntern.Utility.createFacebookUrl('www','comments.php',_La,false);this._iframeContainer=FB.XdComm.Server.singleton.createNamedHiddenIFrame(this._iframeName,_Lb,'','frameborder=\"0\" allowtransparency=\"true\"');this._iframeContainer.style.width=_L1+'px';this._iframeContainer.style.display='none';this._iframeContainer.style.border='none';FB.Bootstrap.requireFeatures(['Comments'],FB.bind(function(){FB.CommentClient.run();var _Lc=document.createElement('div');FB.UI.UIElement.addCssClass(_Lc,'fb_content_loader_gif');this._loader=document.createElement('div');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loader');FB.UI.UIElement.addCssClass(this._loader,'fb_content_loading');this._loader.style.width=_L1+'px';this._loader.appendChild(_Lc);this.domElement.appendChild(this._loader);this.domElement.appendChild(this._iframeContainer);FBIntern.Utility.waitForLoaded(this._iframeContainer,FB.bind(function(){FB.UI.UIElement.removeCssClass(this._loader,'fb_content_loading');},this));this.set_isReady(true);},this));},_loader:null,_iframeContainer:null,_iframeName:null});FB.provide('FB.XFBML.Comments',{_onLoad:function(){FB.XFBML.Comments._iframeIdCount=0;}});
FB.subclass('FB.XFBML.AddSectionButton','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._section=this.getAttribute('section',null);if(!this._section)this._section='profile';},onDataReady:function(){FB.Connect.showAddSectionButton(this._section,this.domElement);this.set_isReady(true);},_section:null});
FB.subclass('FB.XFBML.ShareButton','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._href=this.getAttribute('href',null);if(!this._href)this._href=window.location.href;this._type=this.getAttribute('type','icon_link');var _L0='';var _L1='';var _L2=FBIntern.Intl._tx("Compartilhar");switch(this._type){case 'icon':case 'icon_link':_L1='class=\'FBConnectButton_Simple\'';_L0='<span class=\'FBConnectButton_Text_Simple\'>'+(this._type=='icon_link'?_L2:'&nbsp;')+'</span>';break;case 'link':_L0=FBIntern.Intl._tx("Compartilhar no Facebook");break;default:_L0='<span class="FBConnectButton_Text">'+_L2+'</span>';_L1='class=\'FBConnectButton FBConnectButton_Small\'';break;}html=FB.Sys.format('<a href=\'{0}\''+' {2} onclick=\'FB.Connect.showShareDialog(\"{0}\", function(){});'+'return false;\''+'target=\'_blank\'>{1}</a>',this._href,_L0,_L1);this.domElement.innerHTML=html;this.content=html;this.container=this.domElement;if(this._type=='button_count'||this._type=='box_count'){this._count=FB.XFBML.Context.singleton.getFqlTable('link_stat','url').selectByKey(['url','share_count'],'"'+this._href+'"');this.addDataToWait(this._count);}},onDataReady:function(){var _L0=this._count.result;if(_L0&&typeof(_L0.share_count)=='number'&&_L0.share_count>=3){var _L1=function(c){return c>=1e+07?Math.round(c/1e+06)+'M':(c>=10000?Math.round(c/1000)+'K':c);};var _L2=_L1(_L0.share_count);var nub='';var _L4='';var _L5='<span class=\'fb_share_count_inner\'>'+_L2+'</span>';var _L6='';if(this._type=='button_count'){nub='<span class=\'fb_share_count_nub_right\'>&nbsp;</span>';_L4='<span class=\'fb_share_count fb_share_count_right\'>'+_L5+'</span>';this.content=this.content+nub+_L4;}else if(this._type=='box_count'){nub='<span class=\'fb_share_count_nub_top\'>&nbsp;</span>';_L4='<span class=\'fb_share_count fb_share_count_top\'>'+_L5+'</span>';this.content=nub+_L4+this.content;_L6='fb_share_count_wrapper';}this.container.innerHTML='<span class=\''+_L6+'\'>'+this.content+'</span>';}this.set_isReady(true);},_href:null,_type:null});
FB.subclass('FB.XFBML.PromptPermission','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){var _L0=FB.Connect.get_loggedInUser();if(_L0){this._permission=this.getAttribute('perms',null);if(!this._permission){FB.FBDebug.logLine(1,'No perms attribute was provided.');return;}var _L1=FB.XFBML.Context.singleton.getFqlTable('permissions','uid');this._data=_L1.selectByKey([this._permission],_L0);this.addDataToWait(this._data);}},onDataReady:function(){var _L0=null;if(this._data)_L0=this._data.result;var _L1=this.getAttribute('next_fbjs',null);var _L2='null';if(_L1)_L2='function(result) { '+'  if (result) { '+_L1+' } '+'}';if((_L0)&&!(_L0[this._permission])){this.domElement.innerHTML='<a href=\"#\" onclick=\"FB.Connect.showPermissionDialog(\''+this._permission+'\', '+_L2+'); return false;\">'+this.domElement.innerHTML+'</a>';}else this.domElement.innerHTML='';this.set_isReady(true);},_data:null,_permission:null});
FB.subclass('FB.XFBML.ProfilePic','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){var _L0=this.getAttribute('size','thumb');var _L1={thumb:'pic_small',small:'pic',normal:'pic_big',square:'pic_square',t:'pic_small',s:'pic',n:'pic_big',q:'pic_square'};this._picFieldName=_L1[_L0];if(!this._picFieldName)this._picFieldName='pic';if(this._getBoolAttribute('facebook-logo',false))this._picFieldName+='_with_logo';this._linked=this._getBoolAttribute('linked',true);var _L2=this.getAttribute('width',null);var _L3=this.getAttribute('height',null);if(_L2)this.domElement.style.width=FB.XFBML.ProfilePic._addPxIfNecessary(_L2);if(_L3)this.domElement.style.height=FB.XFBML.ProfilePic._addPxIfNecessary(_L3);this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(this._uid==='loggedinuser')if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'cannot use loggedinuser, there is no session');this._uid=null;return;}var _L4;var ctx=FB.XFBML.Context.singleton;if(FB.XFBML.ConnectUtility.isUser(this._uid)){_L4=ctx.getFqlTable('user','uid');}else _L4=ctx.getFqlTable('profile','id');this._data=_L4.selectByKey(['name',this._picFieldName],this._uid);this.addDataToWait(this._data);if(!this._dependents.get_isReady())this._renderImage(null);},onDataReady:function(){var _L0=(this._data)?this._data.result:null;this._renderImage(_L0);this.set_isReady(true);},_renderImage:function(_L0){var _L1=(_L0)?_L0[this._picFieldName]:null;if(!_L1){var _L2=(FBIntern.Utility.isSecure())?'ssl':'static.ak';_L1=FBIntern.Utility.getFacebookUrl(_L2)+'pics/'+FB.XFBML.ProfilePic._defaultPicMap[this._picFieldName];}var _L3=this.domElement.style.width;var _L4=this.domElement.style.height;var _L5=((_L3)?'width:'+_L3+';':'')+((_L4)?'height:'+_L4+';':'');var _L6=FB.Sys.format('<img src=\'{0}\' alt=\'{1}\' title=\'{1}\' style=\'{2}\' class=\'{3}\' />',_L1,(_L0)?_L0.name:'',_L5,this.domElement.className);if(this._linked)_L6=FB.XFBML.ConnectUtility._profileLink(_L0,_L6,this.getAttribute('href',null));this.domElement.innerHTML=_L6;FB.UI.UIElement.addCssClass(this.domElement,'fb_profile_pic_rendered');},_uid:null,_picFieldName:null,_linked:false,_data:null});FB.provide('FB.XFBML.ProfilePic',{_onLoad:function(){FB.XFBML.ProfilePic._defaultPicMap=null;FB.XFBML.ProfilePic._defaultPicMap={pic_small:'t_silhouette.jpg',pic:'s_silhouette.jpg',pic_big:'d_silhouette.gif',pic_square:'q_silhouette.gif',pic_small_with_logo:'t_silhouette_logo.gif',pic_with_logo:'s_silhouette_logo.gif',pic_big_with_logo:'d_silhouette_logo.gif',pic_square_with_logo:'q_silhouette_logo.gif'};},_addPxIfNecessary:function(_L0){return (FBIntern.Utility.isStrInt(_L0))?_L0+'px':_L0;}});
FB.subclass('FB.XFBML.UserLink','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(!this._uid)throw new Error('No uid parameter was provided.');var _L0=[];FB.Sys.addRange(_L0,['uid','name']);this._showNetwork=this._getBoolAttribute('shownetwork',true);if(this._showNetwork)FB.Sys.add(_L0,'affiliations');this._data=FB.XFBML.Context.singleton.getFqlTable('user','uid').selectByKey(_L0,this._uid);this.addDataToWait(this._data);},onDataReady:function(){var _L0=this._data.result;if(_L0){var _L1={id:_L0.uid};var _L2=FBIntern.Utility.createFacebookUrl('www','profile.php',_L1,true);var _L3=_L0.name;if(this._showNetwork)_L3+=' '+FB.XFBML.ConnectUtility.getNetworkInParentheses(_L0);var _L4='<a href=\''+_L2+'\'>'+FB.Sys.htmlEncode(_L3)+'</a>';this.domElement.innerHTML=_L4;}else{var _L5=this.getAttribute('ifcantsee',null);if(_L5)this.domElement.innerHTML=FB.Sys.htmlEncode(_L5);}this.set_isReady(true);},_data:null,_uid:null,_showNetwork:false});
FB.subclass('FB.XFBML.UserStatus','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(!this._uid)throw new Error('No \'uid\' parameter provided.');this._data=FB.XFBML.Context.singleton.getFqlTable('user','uid').selectByKey(['status'],this._uid);this.addDataToWait(this._data);},onDataReady:function(){var _L0=this._data.result;if(_L0&&_L0.status){var _L1=_L0.status.message;if(_L1){if((_L1.length>0)&&(_L1.charAt(_L1.length-1)!=='.'))_L1=_L1+'.';}else _L1='';this.domElement.innerHTML=FB.Sys.htmlEncode(_L1);}this.set_isReady(true);},_data:null,_uid:null});
FB.subclass('FB.XFBML.ContainerElement','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onDataReady:function(){this.set_isReady(true);}});
FB.subclass('FB.XFBML.UnconnectedFriendsCount','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this.addDataToWait(FB.XFBML.Context.singleton.get_unconnectedFriendsCount());},onDataReady:function(){var _L0=FB.XFBML.Context.singleton.get_unconnectedFriendsCount();if(!_L0.exception){var _L1=FB.XFBML.Context.singleton.get_unconnectedFriendsCount().result;this.domElement.innerHTML=_L1.toString()+' ';}else FB.FBDebug.logLine(1,'Can\'t render UnconnectedFriendsCount because of invalid data');this.set_isReady(true);}});
FB.subclass('FB.XFBML.Video','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._vid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('vid',null));this._width=this.getAttribute('width','576');this._height=this.getAttribute('height','432');},onDataReady:function(){var url=FB.Sys.format('http://www.facebook.com/swf/mvp.swf?vid={0}&stage_width={1}&stage_height={2}',this._vid,this._width,this._height);var _L1=FB.Sys.format('\n<object width=\"{0}\" height=\"{1}\">\n<param name=\"movie\" value=\"{2}\"></param>\n<param name=\"allowFullScreen\" value=\"true\"></param>\n<param name=\"allowScriptAccess\" value=\"always\"></param>\n<embed src=\"{2}\" type=\"application/x-shockwave-flash\" allowScriptAccess=\"always\" allowFullScreen=\"true\" width=\"{0}\" height=\"{1}\"></embed>\n</object>',this._width,this._height,url);this.domElement.innerHTML=_L1;this.set_isReady(true);},_vid:null,_width:null,_height:null});
FB.subclass('FB.XFBML.Photo','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._pid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('pid',null));if(!this._pid)throw new Error('No pid parameter was provided.');var _L0=this.getAttribute('size','normal');var _L1={thumb:'src_small',t:'src_small',small:'src',s:'src',normal:'src_big',n:'src_big'};this._srcFieldName=_L1[_L0];if(!this._srcFieldName)this._srcFieldName='src_big';this._data=FB.XFBML.Context.singleton.getFqlTable('photo','pid').selectByKey(['pid','caption',this._srcFieldName],this._pid);this.addDataToWait(this._data);},onDataReady:function(){var _L0=this._data.result;if(_L0){var _L1=FB.Sys.format('<img src=\'{0}\' alt=\'{1}\' title=\'{1}\' />',_L0[this._srcFieldName],_L0.caption);this.domElement.innerHTML=_L1;}this.set_isReady(true);},_data:null,_pid:null,_srcFieldName:null});
FB.subclass('FB.XFBML.GroupLink','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._gid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('gid',null));if(!this._gid)throw new Error('No gid parameter');this._data=FB.XFBML.Context.singleton.getFqlTable('group','gid').selectByKey(['gid','name'],this._gid);this.addDataToWait(this._data);},onDataReady:function(){var _L0=this._data.result;if(_L0){var _L1={gid:_L0.gid};var _L2=FBIntern.Utility.createFacebookUrl('www','group.php',_L1,true);var _L3='<a href=\''+_L2+'\'>'+FB.Sys.htmlEncode(_L0.name)+'</a>';this.domElement.innerHTML=_L3;}this.set_isReady(true);},_data:null,_gid:null});
FB.subclass('FB.XFBML.EventLink','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._eid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('eid',null));if(!this._eid)throw new Error('No eid parameter');this._data=FB.XFBML.Context.singleton.getFqlTable('event','eid').selectByKey(['eid','name'],this._eid);this.addDataToWait(this._data);},onDataReady:function(){var e=this._data.result;if(e){var _L1={eid:e.eid};var _L2=FBIntern.Utility.createFacebookUrl('www','event.php',_L1,true);var _L3='<a href=\''+_L2+'\'>'+FB.Sys.htmlEncode(e.name)+'</a>';this.domElement.innerHTML=_L3;}this.set_isReady(true);},_data:null,_eid:null});
FB.subclass('FB.XFBML.ServerFbml','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onDataReady:function(){FB.IFrameUtil.ResizeUtilServer.run();this._createIframeDoc();},clearVisual:function(){if(this._iframeContainer){this._iframeContainer.parentNode.removeChild(this._iframeContainer);this._iframeContainer=null;}},_createIframeDoc:function(){var _L0='fbmlIFrame_'+FB.XFBML.ServerFbml._iframeIdCount.toString();FB.XFBML.ServerFbml._iframeIdCount++;if(this._iframeContainer)this.clearVisual();this._iframeContainer=this.domElement.appendChild(FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L0,FB.XdComm.Server.singleton.get_receiverUrl(),'fbmlIframe','frameborder=\"0\"'));var _L1=this.getAttribute('iframeWidth',null);var _L2=this.getAttribute('iframeHeight',null);if(_L1)this._iframeContainer.style.width=_L1;if(_L2)this._iframeContainer.style.height=_L2;var _L3=(window.self.frames)[_L0];FB.FBDebug.assert(!FB.Sys.isUndefined(_L3),'frameWindow is null in CreateIframeDoc. Make sure this.domElement is inserted in the DOM before creating an iframe. (Did you try to insert it in a Dialog before calling Dialog.Show?');FBIntern.Utility.getIFrameDocument(_L0,this._iframeContainer,FB.bind(function(_L4){_L4.open();this._writeDoc(_L4);},this));},_getFBML:function(){var _L0=this.getAttribute('fbml',null);if(!_L0){var c=this.domElement.childNodes.length;for(var i=0;i<c;i++){var _L3=this.domElement.childNodes[i];if(_L3.tagName==='SCRIPT'&&(_L3).type==='text/fbml'){_L0=_L3.innerHTML;break;}}}return _L0;},_writeDoc:function(_L0){var _L1=this._getFBML();var _L2={app_key:FB.Facebook.apiClient.get_apiKey(),channel_url:FB.XdComm.Server.singleton.get_receiverUrl(),fbml:_L1};var _L3=new FB.StringBuilder();_L3.append('\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" >\n<head><title></title></head>\n<body>\n    <form method=\"post\" action=\"'+FBIntern.Utility.getFacebookUrl('www')+'render_fbml.php\" id=\"form1\" name=\"form1\" >');var _L4=_L2;for(var k2 in _L4){var _L6={key:k2,value:_L4[k2]};_L3.append(FB.Sys.format('<input type=\"hidden\" name=\"{0}\" id=\"{1}\" value=\"{2}\"  />',_L6.key,_L6.key,FB.Sys.htmlEncode(_L6.value)));}_L3.append('\n</form>\n    <script type=\"text/javascript\">\n      window.setTimeout(function(){document.forms[\'form1\'].submit();}, 0);\n    </script>\n</body>\n</html>\n        ');var _L7=_L3.toString();_L0.write(_L7);_L0.close();this.set_isReady(true);},_iframeContainer:null});FB.provide('FB.XFBML.ServerFbml',{_onLoad:function(){FB.XFBML.ServerFbml._iframeIdCount=0;}});
FB.subclass('FB.XFBML.Common.Constants','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Common.Constants',{_onLoad:function(){FB.XFBML.Common.Constants.gendeR_MALE_SINGULAR='male';FB.XFBML.Common.Constants.gendeR_FEMALE_SINGULAR='female';}});
FB.subclass('FB.XFBML.Name','FB.XFBML.Element',{init:function(_L0){this._super(_L0);},onProcess:function(){this._uid=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('uid',null));if(this._uid==='loggedinuser')if(FB.Facebook.apiClient.get_session()){this._uid=FB.Connect.get_loggedInUser();}else{FB.FBDebug.logLine(2,'Cannot use loggedinuser, there is no session');this._uid=null;return;}if(!this._uid){FB.FBDebug.logLine(2,'fb:name has no user id');return;}this._firstnameonly=this._getBoolAttribute('firstnameonly',false);this._lastnameonly=this._getBoolAttribute('lastnameonly',false);var _L0=[];if(this._firstnameonly){_L0.push('first_name');}else if(this._lastnameonly){_L0.push('last_name');}else _L0.push('name');this._possessive=this._getBoolAttribute('possessive',false);this._reflexive=this._getBoolAttribute('reflexive',false);this._objective=this._getBoolAttribute('objective',false);if(FB.Facebook.apiClient.get_session())this._shownetwork=this._getBoolAttribute('shownetwork',false);this._linked=this._getBoolAttribute('linked',true);if(this._shownetwork)FB.Sys.add(_L0,'affiliations');this._subjectId=FB.XFBML.ConnectUtility.normalizeInt64ForId(this.getAttribute('subjectid',null));if(this._subjectId){_L0.push('sex');if(FBIntern.Utility.id64BitEquals(this._subjectId,FB.Connect.get_loggedInUser()))this._reflexive=true;}var _L1;var ctx=FB.XFBML.Context.singleton;if(FB.XFBML.ConnectUtility.isUser(this._uid)){_L1=ctx.getFqlTable('user','uid');}else{_L1=ctx.getFqlTable('profile','id');_L0=['name'];}this._data=_L1.selectByKey(_L0,this._uid);this.addDataToWait(this._data);},onDataReady:function(){if(this._uid)if(FBIntern.Utility.id64BitEquals(this._subjectId,this._uid)){this.renderPronoun();}else this._renderOther();this.set_isReady(true);},renderPronoun:function(){var _L0=this._data.result;var _L1='';var _L2=this._objective;if(this._subjectId){_L2=true;if(this._subjectId===this._uid)this._reflexive=true;}if((FBIntern.Utility.id64BitEquals(this._uid,FB.Connect.get_loggedInUser()))&&this._getBoolAttribute('useyou',true)){if(this._possessive){if(this._reflexive){_L1='your own';}else _L1='your';}else if(this._reflexive){_L1='yourself';}else _L1='you';}else switch(_L0.sex){case FB.XFBML.Common.Constants.gendeR_MALE_SINGULAR:if(this._possessive){_L1=(this._reflexive)?'his own':'his';}else if(this._reflexive){_L1='himself';}else if(_L2){_L1='him';}else _L1='he';break;case FB.XFBML.Common.Constants.gendeR_FEMALE_SINGULAR:if(this._possessive){_L1=(this._reflexive)?'her own':'her';}else if(this._reflexive){_L1='herself';}else if(_L2){_L1='her';}else _L1='she';break;default:if(this._getBoolAttribute('usethey',true)){if(this._possessive){if(this._reflexive){_L1='their own';}else _L1='their';}else if(this._reflexive){_L1='themselves';}else if(_L2){_L1='them';}else _L1='they';}else if(this._possessive){if(this._reflexive){_L1='his/her own';}else _L1='his/her';}else if(this._reflexive){_L1='himself/herself';}else if(_L2){_L1='him/her';}else _L1='he/she';break;}if(this._getBoolAttribute('capitalize',false))_L1=FB.XFBML.ConnectUtility.upperCaseFirstChar(_L1);this.domElement.innerHTML=_L1;},_renderOther:function(){var _L0=this._data.result;if(!_L0){FB.FBDebug.logLine(1,'no data available');return;}var _L1='';var _L2='';var _L3='';if(FBIntern.Utility.id64BitEquals(this._uid,FB.Connect.get_loggedInUser())&&this._getBoolAttribute('useyou',true)){if(this._reflexive){if(this._possessive){_L1='your own';}else _L1='yourself';}else if(this._possessive){_L1='your';}else _L1='you';}else{if(null===_L0.first_name)_L0.first_name='';if(null===_L0.last_name)_L0.last_name='';if(this._firstnameonly){_L1=_L0.first_name;}else if(this._lastnameonly)_L1=_L0.last_name;if(!_L1)_L1=_L0.name;if(_L1!==''&&this._possessive)_L1+='\'s';if(this._shownetwork)_L3=FB.XFBML.ConnectUtility.getNetworkInParentheses(_L0);}if(!_L1)_L1=this.getAttribute('ifcantsee','Facebook User');if(_L1){if(this._getBoolAttribute('capitalize',false))_L1=FB.XFBML.ConnectUtility.upperCaseFirstChar(_L1);if(this._linked){_L2=FB.XFBML.ConnectUtility._profileLink(_L0,_L1,this.getAttribute('href',null));}else _L2=_L1;}if(this._shownetwork)_L2+=' '+_L3;this.domElement.innerHTML=_L2;},_data:null,_subjectId:null,_uid:null,_possessive:false,_firstnameonly:false,_linked:false,_lastnameonly:false,_reflexive:false,_shownetwork:false,_objective:false});
FB.subclass('FB.XFBML.Pronoun','FB.XFBML.Name',{init:function(_L0){this._super(_L0);},onDataReady:function(){this.renderPronoun();this.set_isReady(true);}});
FB.subclass('FB.XFBML.LoginButton','FB.XFBML.Element',{init:function(_L0){this.status=FB.ConnectState.userNotLoggedIn;this._super(_L0);FBIntern.Utility.addEventListener(this.domElement,'click',FB.bind(this._onClick,this));this.intl_button=(this.getAttribute('v','1')=='2');if(this.intl_button)this.savedChildren=this.domElement.innerHTML;this.domElement.innerHTML='';this.domElement.appendChild(FB.UI.DomResources.getResourceById('fb_login'));var _L1=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login');if(this.intl_button){_L1.appendChild(FB.UI.DomResources.getResourceById('fb_login_text'));}else _L1.appendChild(FB.UI.DomResources.getResourceById('fb_login_image'));this._updateUI(null);FB.Connect.get_status().add_changed(FB.bind(this._updateUI,this));},clearVisual:function(){},_onClick:function(e){if(this.logoutOnClick){FB.Connect.logout(null);}else{var onLoginJS=this.getAttribute('onlogin','');var handlerEnv={enabled:true};var onLoginHandler=FB.bind(function(){if(this.enabled)eval(onLoginJS);},handlerEnv);var onCancelHandler=FB.bind(function(){this.enabled=false;},handlerEnv);FB.Connect.requireSession(onLoginHandler,onCancelHandler);}},_updateUI:function(_L0){var _L1=this.status;this.status=(FB.Connect.get_status().get_isReady())?FB.Connect.get_status().result:FB.ConnectState.userNotLoggedIn;var _L2={};_L2[FB.Enum.toString(FB.ConnectState,FB.ConnectState.appNotAuthorized)]='fb_login_not_authorized';_L2[FB.Enum.toString(FB.ConnectState,FB.ConnectState.connected)]='fb_login_ready';_L2[FB.Enum.toString(FB.ConnectState,FB.ConnectState.userNotLoggedIn)]='fb_login_not_logged_in';FB.UI.UIElement.removeCssClass(this.domElement,_L2[FB.Enum.toString(FB.ConnectState,_L1)]);FB.UI.UIElement.addCssClass(this.domElement,_L2[FB.Enum.toString(FB.ConnectState,this.status)]);var _L3=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login');this.logoutOnClick=(this.status===FB.ConnectState.connected&&this._getBoolAttribute('autologoutlink',false));if(this.intl_button){var _L4=this._getAttributeFromList('size','medium',['icon','small','medium','large','xlarge']);if(_L4=='icon'){FB.UI.UIElement.addCssClass(_L3,'FBConnectButton_Simple');}else{var _L5=FB.localeIsRTL?'_RTL':'';var _L6='';switch(_L4){case 'icon':_L6='_Simple';break;case 'small':_L6='_Small';break;case 'large':_L6='_Large';break;case 'xlarge':_L6='_BigPun';break;default:_L6='_Medium';break;}FB.UI.UIElement.addCssClass(_L3,'FBConnectButton'+_L5);FB.UI.UIElement.addCssClass(_L3,'FBConnectButton'+_L5+_L6);if(!this.savedChildren)if(this.logoutOnClick){this.savedChildren=FBIntern.Intl._tx("Sair do Facebook");}else{var _L7=this._getAttributeFromList('length','short',['long','short']);this.savedChildren=(_L7=='short'?FBIntern.Intl._tx("Conectar"):FBIntern.Intl._tx("Conecte-se com o Facebook"));}var _L8=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login_text');_L8.innerHTML=this.savedChildren;}}else{var _L9=FBIntern.UIHelper.findElementById(this.domElement,'RES_ID_fb_login_image');_L9.src=this.getImageSrc();_L9.alt=(this.logoutOnClick)?'Logout':'Connect';}},getImageSrc:function(){var _L0=this._getAttributeFromList('size','large',['small','medium','large']);var _L1=this._getAttributeFromList('background','light',['white','light','dark']);var _L2=this._getAttributeFromList('length','short',['long','short']);var _L3;if(this.logoutOnClick){_L3='logout_img_'+_L0;}else _L3='login_img_'+_L1+'_'+_L0+'_'+_L2;var src=FBIntern.FbGlobals.get_fB_StaticResourceVersions()[_L3];FB.FBDebug.assert(src,'Image source not found for resource '+_L3);return src;},onProcess:function(){this.set_isReady(true);},logoutOnClick:false});
FB._create_ElementsRegistration=function(_L0,_L1,_L2){var o={};o.nameSpace=_L0;o.name=_L1;o.implementationType=_L2;return o;};
FB.subclass('FB.XFBML.Host','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Host',{_onLoad:function(){FB.XFBML.Host.autoParseDomTree=true;FB.XFBML.Host._fbmlElements=[];FB.XFBML.Host._registeredElements=null;FB.XFBML.Host._areElementsReady=new FB.SimpleWaitable();FB.XFBML.Host._readyElementsCount=0;FB.UI.DomResources.addResourceDict(new FB.UI.DomResDict('<a id=\"RES_ID_fb_login\" class=\"fbconnect_login_button\"></a><img id=\"RES_ID_fb_login_image\"  /><span id=\"RES_ID_fb_login_text\" class=\"FBConnectButton_Text\"></span>'));var _L0=[FB._create_ElementsRegistration('fb','login-button',FB.XFBML.LoginButton),FB._create_ElementsRegistration('fb','name',FB.XFBML.Name),FB._create_ElementsRegistration('fb','like',FB.XFBML.Like),FB._create_ElementsRegistration('fb','pronoun',FB.XFBML.Pronoun),FB._create_ElementsRegistration('fb','serverFbml',FB.XFBML.ServerFbml),FB._create_ElementsRegistration('fb','eventLink',FB.XFBML.EventLink),FB._create_ElementsRegistration('fb','groupLink',FB.XFBML.GroupLink),FB._create_ElementsRegistration('fb','photo',FB.XFBML.Photo),FB._create_ElementsRegistration('fb','video',FB.XFBML.Video),FB._create_ElementsRegistration('fb','unconnected-friends-count',FB.XFBML.UnconnectedFriendsCount),FB._create_ElementsRegistration('fb','container',FB.XFBML.ContainerElement),FB._create_ElementsRegistration('fb','user-status',FB.XFBML.UserStatus),FB._create_ElementsRegistration('fb','userLink',FB.XFBML.UserLink),FB._create_ElementsRegistration('fb','profile-pic',FB.XFBML.ProfilePic),FB._create_ElementsRegistration('fb','prompt-permission',FB.XFBML.PromptPermission),FB._create_ElementsRegistration('fb','share-button',FB.XFBML.ShareButton),FB._create_ElementsRegistration('fb','add-section-button',FB.XFBML.AddSectionButton),FB._create_ElementsRegistration('fb','comments',FB.XFBML.Comments),FB._create_ElementsRegistration('fb','live-stream',FB.XFBML.LiveStream),FB._create_ElementsRegistration('fb','pay',FB.XFBML.Pay),FB._create_ElementsRegistration('fb','like',FB.XFBML.Like),FB._create_ElementsRegistration('fb','add-to-wishlist',FB.XFBML.AddToWishList),FB._create_ElementsRegistration('fb','bookmark',FB.XFBML.BookmarkButton),FB._create_ElementsRegistration('fb','fan',FB.XFBML.Fan)];FB.XFBML.Host._registeredElements=(_L0);},registerCustomTag:function(_L0,_L1,_L2){FB.Sys.add(FB.XFBML.Host._registeredElements,FB._create_ElementsRegistration(_L0,_L1,_L2));},_pruneFbmlElements:function(){var _L0=[];var _L1=FB.XFBML.Host._fbmlElements.length;for(var i=0;i<_L1;i++){var _L3=FB.XFBML.Host._fbmlElements[i];if(_L3.isValid())FB.Sys.add(_L0,_L3);}FB.XFBML.Host._fbmlElements=_L0;},parseDomTree:function(){FB.XFBML.Host.parseDomElement(document.body);},parseDomElement:function(_L0){FB.XFBML.Data.CacheManager.get__initialized().waitUntilReady(function(_L1){FB.XFBML.Host._pruneFbmlElements();var _L2=[];var _L3=new FB.ArrayEnumerator(FB.XFBML.Host._registeredElements);while(_L3.moveNext()){var _L4=_L3.get_current();var _L5=FB.XFBML.ConnectUtility.getElementsByTagNameNS(_L0,_L4.nameSpace,_L4.name);var _L6='FB_'+_L4.name.replace(/-/g,'_');for(var i=0;i<_L5.length;i++){var _L8=FB.XFBML.Element.fromDomElement(_L5[i]);if(!_L8){_L8=new _L4.implementationType(_L5[i]);FB.UI.UIElement.addCssClass(_L5[i],_L6);FB.XFBML.Host._addElementToList(_L8);}FB.Sys.add(_L2,_L8);}}FB.XFBML.Host._readyElementsCount=0;FB.XFBML.Host._areElementsReady._setResult(false,true);FB.Connect.get_status().waitUntilReady(function(r){var _La=_L2.length;for(var i=0;i<_La;i++){var _L8=_L2[i];_L8.process();}});FB.XFBML.Host._logElements(_L2);});},_logElements:function(_L0){if(FB.Monitor&&FB.Monitor.loggingEnabled()){var _L1=_L0.length;for(var i=0;i<_L1;i++)FB.Monitor.logXFBML(_L0[i].domElement);}},refresh:function(){FB.XFBML.Host._pruneFbmlElements();var _L0=FB.XFBML.Host._fbmlElements.length;if(_L0>0){FB.FBDebug.logLine(2,'Host.Refresh: refresh all existing XFBML elements');FB.XFBML.Host._readyElementsCount=0;FB.XFBML.Host._areElementsReady._setResult(false,true);for(var i=0;i<_L0;i++){var _L2=FB.XFBML.Host._fbmlElements[i];_L2.refresh();}}},get_areElementsReady:function(){return FB.XFBML.Host._areElementsReady;},addElement:function(_L0){FB.Connect.get_status().waitUntilReady(function(r){FB.XFBML.Data.CacheManager.get__initialized().waitUntilReady(function(_L2){FB.XFBML.Host._addElementToList(_L0);_L0.process();});});},addElements:function(_L0){var _L1=new FB.ArrayEnumerator(_L0);while(_L1.moveNext()){var _L2=_L1.get_current();FB.XFBML.Host.addElement(_L2);}},_addElementToList:function(_L0){FB.Sys.add(FB.XFBML.Host._fbmlElements,_L0);if(_L0.get_isReady()){FB.XFBML.Host._readyElementsCount++;FB.XFBML.Host._checkReadyState();}else _L0.add_isReadyChanged(FB.XFBML.Host._elementIsReadyChanged);},_elementIsReadyChanged:function(_L0,e){(_L0).remove_isReadyChanged(FB.XFBML.Host._elementIsReadyChanged);FB.XFBML.Host._readyElementsCount++;FB.XFBML.Host._checkReadyState();},_checkReadyState:function(){var _L0=FB.XFBML.Host._readyElementsCount===FB.XFBML.Host._fbmlElements.length;if(_L0&&!FB.XFBML.Host._areElementsReady.get_isReady())FB.XFBML.Host._areElementsReady._setResult(true);}});
FB.subclass('FBIntern.LoginStatus','FB.Class',{initialize:function(_L0,_L1,_L2,_L3,_L4,_L5,_L6,_L7){_L2['inFacebook']=this._checkIfInFacebook();if(!this._rpcClient){var _L8=new FB.XdComm.EndPoint(null,FB.XdComm.PageRelation.parent,_L0);if(FB.Sys.isNullOrEmpty(_L6)){FB.FBDebug.logLine(1,'Disable use of postMessage because '+'parent_window_url parameter is null or empty therefore we cannot '+'securely send message using postMessage');FBIntern.Utility.setSiteVar('use_postMessage',false);}else _L8.origin=_L6;_L8.flashOrigin=_L7;this._rpcClient=new FB.XdComm.XdRpcClient('loginServer','loginStatus',_L8);}var _L9={session:_L1,settings:_L2,connectState:_L3,baseDomain:_L4,publicSessionData:_L5};this._rpcClient.send('InitLogin',_L9,null);},_checkIfInFacebook:function(){var _L0=false;try{var _L1=window.top.location.href.split("/")[2];var idx=_L1.lastIndexOf('facebook.com');_L0=(idx!==-1)&&(idx+12)===_L1.length;}catch(e1){}return _L0;},_rpcClient:null});
FB.provide('FB.XFBML.OperatorType',{and:0,or:1,xor:2,not:3,greaterThan:4,lessThan:5,equals:6});
FB.subclass('FB.XFBML.Operator','FB.DependentWaitable',{init:function(op,_L1){this._super();this._op=op;this._operands=_L1;var _L2=new FB.ArrayEnumerator(_L1);while(_L2.moveNext()){var _L3=_L2.get_current();if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(_L3),FB.Waitable))this.addDependent(_L3);}},onChange:function(){this._evaluate();this._super();},_evaluate:function(){switch(this._op){case FB.XFBML.OperatorType.and:this.result=this._getOperandValue(0)&&this._getOperandValue(1);break;case FB.XFBML.OperatorType.not:this.result=!this._getOperandValue(0);break;case FB.XFBML.OperatorType.or:this.result=this._getOperandValue(0)||this._getOperandValue(1);break;case FB.XFBML.OperatorType.xor:this.result=this._getOperandValue(0)^this._getOperandValue(1);break;case FB.XFBML.OperatorType.greaterThan:this.result=this._getOperandValue(0)>this._getOperandValue(1);break;case FB.XFBML.OperatorType.lessThan:this.result=this._getOperandValue(0)<this._getOperandValue(1);break;case FB.XFBML.OperatorType.equals:this.result=this._getOperandValue(0)===this._getOperandValue(1);break;}},_getOperandValue:function(i){var obj=this._operands[i];if(FB.Sys.isAssignableFrom(FB.Type.getInstanceType(obj),FB.Waitable)){return (obj).result;}else return obj;},_op:0,_operands:null});FB.provide('FB.XFBML.Operator',{and:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.and,[op1,op2]);},or:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.or,[op1,op2]);},xor:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.xor,[op1,op2]);},not:function(op){return new FB.XFBML.Operator(FB.XFBML.OperatorType.not,[op]);},greaterThan:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.greaterThan,[op1,op2]);},lessThan:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.lessThan,[op1,op2]);},equals:function(op1,op2){return new FB.XFBML.Operator(FB.XFBML.OperatorType.equals,[op1,op2]);}});
FB.subclass('FB.XFBML._permisionTable','FB.Class',{init:function(){this._calls={};},ifCanSee:function(uid,_L1){var key=uid+_L1;var _L3;var _L4=this._calls[key];if(!_L4){_L3=new FB.PendingResult();_L4={uid:uid,what:_L1,result:_L3};this._calls[key]=_L4;var _L5=FB.XFBML.Context.singleton;if(!this._subscribedToEvent){_L5.add_beforeSendBatchRequest(FB.bind(this._beforeSendBatchRequest,this));this._subscribedToEvent=true;}_L5.requestBatchProcess();}else _L3=_L4['result'];return _L3;},_beforeSendBatchRequest:function(){var _L0=[];var _L1=[];var _L2=[];var _L3=this._calls;for(var k2 in _L3){var _L5={key:k2,value:_L3[k2]};var _L6=_L5.value;FB.Sys.add(_L0,_L6['uid']);FB.Sys.add(_L1,_L6['what']);FB.Sys.add(_L2,_L6['result']);}this._calls={};var _L7=FB.Facebook.apiClient.privacy_canSee(_L0,_L1,FB.XFBML.Context.singleton.get_batchSequencer());_L7.waitUntilReady(FB.bind(function(r){var c=_L2.length;var _La=_L7.result;if(_La){FB.FBDebug.assert(c===_La.length,'Returns results does not contains the exepcted number of items');for(var i=0;i<c;i++)(_L2[i]).setPendingResult(_La[i],_L7.exception);}else for(var i=0;i<c;i++)(_L2[i]).setPendingResult(null,_L7.exception);},this));},_subscribedToEvent:false});
FB.subclass('FB.XFBML.Conditions','FB.Class',{init:function(){}});FB.provide('FB.XFBML.Conditions',{_onLoad:function(){FB.XFBML.Conditions._table=new FB.XFBML._permisionTable();},ifCanSee:function(uid,_L1){return FB.XFBML.Conditions._table.ifCanSee(uid,_L1);}});
FB.subclass('FB.XdHttpRequestServer','FB.Class',{init:function(){}});FB.provide('FB.XdHttpRequestServer',{_onLoad:function(){FB.XdHttpRequestServer._rootUrl=null;FB.XdHttpRequestServer._allowedUrlFilter=null;FB.XdHttpRequestServer._allowedUrls=null;},main:function(_L0){var _L1=_L0['receiver'];if(FB.Sys.containsKey(_L0,'allowed_url_filter'))FB.XdHttpRequestServer._allowedUrlFilter=new RegExp(_L0['allowed_url_filter']);if(FB.Sys.containsKey(_L0,'allowed_urls'))FB.XdHttpRequestServer._allowedUrls=_L0['allowed_urls'];var _L2=new FBIntern.Uri(document.URL);FB.XdHttpRequestServer._rootUrl=_L2.get_schemeAndDomain();var _L3=_L2.get_queryParameters()['debug_level'];if(_L3){var _L4=parseInt(_L3);if(_L4>FB.FBDebug.logLevel)FB.FBDebug.logLevel=_L4;}FB.XdComm.Server.singleton.set_receiverUrl(_L1);FB.XdComm.Server.singleton.registerDataHandler('http_server',FB.XdHttpRequestServer._onDataReceived);},_isUrlAllowed:function(url){if(FB.XdHttpRequestServer._allowedUrlFilter&&FB.XdHttpRequestServer._allowedUrlFilter.test(url))return true;if(FB.XdHttpRequestServer._allowedUrls){var _L1=new FB.ArrayEnumerator(FB.XdHttpRequestServer._allowedUrls);while(_L1.moveNext()){var _L2=_L1.get_current();if(_L2===url)return true;}}return false;},_onDataReceived:function(_L0,_L1){var _L2=_L0;var _L3=FBIntern.Utility.createXMLHttpRequest();var url=_L2[2];if(!FB.XdHttpRequestServer._isUrlAllowed(url)){FB.FBDebug.logLine(1,'URL '+url+' is not allowed.');return;}url=FB.XdHttpRequestServer._rootUrl+url;FB.FBDebug.logLine(3,'XdHttpRequestServer: make XHR request to '+url);_L3.onreadystatechange=function(){if(_L3.readyState===4){var _L9=FB._create_XdHttpRequestResult(_L2[0],_L3.status,_L3.statusText,_L3.responseText);FB.FBDebug.logLine(3,'XdHttpRequestServer: send result back http_client');FB.XdComm.Server.singleton.send(_L1,'http_client',_L9);}};_L3.open(_L2[1],_L2[2],true);var _L5=_L2[4];if(_L5){var _L6=_L5;for(var k2 in _L6){var _L8={key:k2,value:_L6[k2]};_L3.setRequestHeader(_L8.key,_L8.value.toString());}}_L3.send(_L2[3]);}});
FB.MonitorSender={createPayload:function(){var _L0=FB.Monitor.clearQueues();var _L1={functions:101,tags:102};var _L2=[];for(var _L3 in _L0)for(var i=0;i<_L0[_L3].length;++i)_L2.push({name:_L0[_L3][i].name,args:_L0[_L3][i].args,lid:_L1[_L3]});return FB.JSON.serialize(_L2);},send:function(){var _L0=FB.MonitorSender.createPayload();if(!FB.Monitor.loggingEnabled())return;var _L1='monitor_'+FB.MonitorSender.frameCount++,_L2=FB.XdComm.Server.singleton.createNamedHiddenIFrame(_L1,FB.XdComm.Server.singleton.get_receiverUrl()),_L3=(window.self.frames)[_L1];var _L4=FB.Facebook.apiClient&&FB.Facebook.apiClient.get_apiKey(),url=window.location;if(_L3)try{FB.Connect._singleton._facebookIFrame(_L3.document,'impression.php'+'?lid=100'+'&api_key='+encodeURIComponent(_L4)+'&url='+encodeURIComponent(url)+'&pv='+encodeURIComponent(FB.MonitorSender.getPageviewId()),{payload:_L0});}catch(x){}setTimeout(FB.XdComm.Server.singleton._removeIframe,1000,_L2);},getPageviewId:function(){if(!FB.MonitorSender.pageviewId)FB.MonitorSender.pageviewId=(new Date()).getTime()+'.'+Math.floor(Math.random()*100000).toString();return FB.MonitorSender.pageviewId;},frameCount:0,pageviewId:null};
FB.Integration=FB.Connect;

FB.Loader.loadCssComps(["bookmark-button-css","connect-button-css","connect-widget-wizard-css","share-button-css","bookmark-app-css","FB.Connect-css","connect-css"]);
FB.Loader.onScriptLoaded(["FB.monitor-wrapper","FB.Prelude","FB.Log","FB.Class","FB.Type","FB.FBDebug","FB.Sys","FB.JSON","FB.XdComm.PageRelation","FB.ArrayEnumerator","FB.XdComm._packet","FB.XdComm._packetType","FB.XdComm._sendChannel","FB.XdComm.EndPoint","FB.StringBuilder","FB.XdComm._fragDataHolder","FB.XdComm._receiveChannel","FB.HiddenContainer","FB.XdComm.PacketDataFormat","FB.Enum","FBIntern.FbGlobals","FB.Waitable","FB.SimpleWaitable","FBIntern.HostName","FBIntern.HostInfo","FBIntern.AppInfo","FB.Size","FB.Point","FBIntern.Uri","FBIntern.Utility","FBIntern.Flash","FB.Loader","FB.Delegate","FB.Bootstrap","FB.XdComm.Server","FB.XdComm.XdRpcClient","FB.XdComm.XdRpcServer","FB.XdComm.XdRpcMethodInfo","FB.IFrameUtil._resizeUtil","FB.IFrameUtil._canvasUtil","FB.IFrameUtil.CanvasUtilServer","FB.FeedDialogInfo","FB._stepInfo","FB.SequencerBase","FB.BatchSequencer","FB.ImmediateSequencer","FB.FeedStorySize","FB.UI.PopupPlacement","FB.IFrameUtil.ResizeUtilServer","FB.UI.UIElement","FBIntern.UIHelper","FB.UI.DomResources","FB.UI.Popup","FB.UI.PopupDialog","FB.UI.FBMLPopupDialog","FBIntern.Cookie","FBIntern.Md5","FB.ApiErrorCode","FB.PendingResult","FB._xdJsonRequest","FB.SessionRecord","FB.XdHttpRequestResult","FB._xdHttpRequestClient","FB.ApiClient","FB.Facebook","FB.Helper","FB.UI.DomResDict","FBIntern.Intl","FB.RequireConnect","FB.UserInfoRecord","FB.FeedStorySetting","FB._contentSizeMethod","FB.CanvasClient","FB.DialogType","FB.ConnectState","FB.SessionDialog","FB.Connect","FB.XFBML._elementState","FB.DependentWaitable","FB.XFBML.Element","FB.XFBML.Data._cachedItem","FB.XFBML.Data._fqlCache","FB.XFBML.Data.CacheManager","FB.XFBML.Data.FqlTable","FB.XFBML.Resources.ResourceDict","FB.XFBML.Context","FBIntern.DataHelper","FB.XFBML.ConnectUtility","FB.XFBML.BookmarkButton","FB.XFBML.Fan","FB.XFBML.GenericConnectButton","FB.XFBML.AddToWishList","FB.XFBML.Like","FB.XFBML.Pay","FB.XFBML.LiveStream","FB.XFBML.Comments","FB.XFBML.AddSectionButton","FB.XFBML.ShareButton","FB.XFBML.PromptPermission","FB.XFBML.ProfilePic","FB.XFBML.UserLink","FB.XFBML.UserStatus","FB.XFBML.ContainerElement","FB.XFBML.UnconnectedFriendsCount","FB.XFBML.Video","FB.XFBML.Photo","FB.XFBML.GroupLink","FB.XFBML.EventLink","FB.XFBML.ServerFbml","FB.XFBML.Common.Constants","FB.XFBML.Name","FB.XFBML.Pronoun","FB.XFBML.LoginButton","FB.XFBML.ElementsRegistration","FB.XFBML.Host","FBIntern.LoginStatus","FB.XFBML.OperatorType","FB.XFBML.Operator","FB.XFBML._permisionTable","FB.XFBML.Conditions","FB.XdHttpRequestServer","FB.monitor-sender","XFBML","Base","Common","XdComm","Api","Connect","Integration","CanvasUtil"]);