(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[22,13],Array(21).concat([function(t,e,n){"use strict";n.r(e);var r=n(51);n.d(e,"fetchAddresses",function(){return r.a}),n.d(e,"toggleCepSync",function(){return r.c}),n.d(e,"setCepTimestamp",function(){return r.b});var o=n(37);n.d(e,"setCookie",function(){return o.b}),n.d(e,"loadCookies",function(){return o.a});var i=n(89);n.d(e,"updateCustomerLogged",function(){return i.b}),n.d(e,"fetchCustomerSession",function(){return i.a});var c=n(79);n.d(e,"setAdsRecommendationExperiment",function(){return c.b}),n.d(e,"setBuyboxExperiment",function(){return c.g}),n.d(e,"setGooglePLAExperiment",function(){return c.i}),n.d(e,"setAAExperiment",function(){return c.a}),n.d(e,"setFreeReturnMsgExperiment",function(){return c.h}),n.d(e,"setPickupStoreExperiment",function(){return c.j}),n.d(e,"setBookAuthorExperiment",function(){return c.d}),n.d(e,"setBuyTogetherVipExperiment",function(){return c.f}),n.d(e,"setBrandNameExperiment",function(){return c.e}),n.d(e,"setServicePageExperiment",function(){return c.k}),n.d(e,"setAmeWithCardExperiment",function(){return c.c});var u=n(47);n.d(e,"fetchFreight",function(){return u.a}),n.d(e,"freightErrorComponent",function(){return u.b}),n.d(e,"resetFreight",function(){return u.c});var a=n(52);n.d(e,"fetchCoordinates",function(){return a.a});var s=n(53);n.d(e,"changeLocation",function(){return s.a});var f=n(38);n.d(e,"showModal",function(){return f.showModal}),n.d(e,"hideModal",function(){return f.hideModal});var d=n(81);n.d(e,"fetchMoreOffersPage",function(){return d.a});var p=n(33);n.d(e,"fetchOffers",function(){return p.a}),n.d(e,"viewOffersType",function(){return p.b});var l=n(54);n.d(e,"fetchOffer",function(){return l.a});var g=n(25);n.d(e,"pageLoad",function(){return g.g}),n.d(e,"fetchPageRequest",function(){return g.e}),n.d(e,"fetchPageSuccess",function(){return g.f}),n.d(e,"fetchPageCache",function(){return g.c}),n.d(e,"fetchPageFailure",function(){return g.d}),n.d(e,"setPageType",function(){return g.h}),n.d(e,"fetchHomePageSuccess",function(){return g.a}),n.d(e,"fetchNotFoundPageSuccess",function(){return g.b});var h=n(80);n.d(e,"fetchProductPage",function(){return h.a});var E=n(55);n.d(e,"fetchStores",function(){return E.a}),n.d(e,"selectStore",function(){return E.b});var O=n(40);n.d(e,"fetchBlackbox",function(){return O.a});var m=n(48);n.d(e,"fetchRegion",function(){return m.a});var y=n(34);n.d(e,"fetchRecProducts",function(){return y.a});var b=n(56);n.d(e,"fetchReviewPage",function(){return b.a});var I=n(57);n.d(e,"post",function(){return I.d}),n.d(e,"postReview",function(){return I.e}),n.d(e,"fetch",function(){return I.a}),n.d(e,"fetchReviews",function(){return I.c}),n.d(e,"fetchMoreReviews",function(){return I.b}),n.d(e,"postReviewReset",function(){return I.f});var S=n(58);n.d(e,"postReport",function(){return S.a}),n.d(e,"postReportReset",function(){return S.b});var v=n(59);n.d(e,"postAnswer",function(){return v.a});var _=n(60);n.d(e,"postAmeOrder",function(){return _.a});var T=n(61);n.d(e,"postQuestion",function(){return T.d}),n.d(e,"fetchQuestions",function(){return T.c}),n.d(e,"fetchMoreQuestions",function(){return T.a}),n.d(e,"fetchQuestion",function(){return T.b});var R=n(62);n.d(e,"toggleRecommendationProducts",function(){return R.a});var C=n(63);n.d(e,"toggleService",function(){return C.a});var P=n(64);n.d(e,"fetchServicesPage",function(){return P.a});var j=n(65);n.d(e,"selectSku",function(){return j.a});var F=n(66);n.d(e,"fetchSpacey",function(){return F.a});var A=n(67);n.d(e,"fetchFitAnalyticsSuccess",function(){return A.b}),n.d(e,"fetchFitAnalyticsFailure",function(){return A.a}),n.d(e,"showFitAnalyticsModal",function(){return A.d}),n.d(e,"hideFitAnalyticsModal",function(){return A.c});var k=n(68);n.d(e,"fetchTurbo",function(){return k.a});var U=n(69);n.d(e,"fetchNotifyMe",function(){return U.a}),n.d(e,"fetchNotifyMeRequest",function(){return U.d}),n.d(e,"fetchNotifyMeMeSuccess",function(){return U.c}),n.d(e,"fetchNotifyMeMeFailure",function(){return U.b}),n.d(e,"notifyMeFormRefresh",function(){return U.e});var x=n(70);n.d(e,"viewInstallmentMethod",function(){return x.a});var N=n(71);n.d(e,"selectSocialShare",function(){return N.a});var w=n(72);n.d(e,"fetchBookAuthorInfo",function(){return w.b}),n.d(e,"fetchBookAuthorProducts",function(){return w.f}),n.d(e,"changeSelectedBookAuthor",function(){return w.a}),n.d(e,"fetchBookAuthorInfoRequest",function(){return w.d}),n.d(e,"fetchBookAuthorInfoSuccess",function(){return w.e}),n.d(e,"fetchBookAuthorInfoFailure",function(){return w.c}),n.d(e,"setSelectedBookAuthor",function(){return w.j}),n.d(e,"fetchBookAuthorProductsRequest",function(){return w.h}),n.d(e,"fetchBookAuthorProductsSuccess",function(){return w.i}),n.d(e,"fetchBookAuthorProductsFailure",function(){return w.g}),n.d(e,"showBookAuthor",function(){return w.k});var D=n(73);n.d(e,"postFeedback",function(){return D.a});var B=n(74);n.d(e,"fetchSpectre",function(){return B.a});var H=n(75);for(var M in H)["fetchAddresses","toggleCepSync","setCepTimestamp","setCookie","loadCookies","updateCustomerLogged","fetchCustomerSession","setAdsRecommendationExperiment","setBuyboxExperiment","setGooglePLAExperiment","setAAExperiment","setFreeReturnMsgExperiment","setPickupStoreExperiment","setBookAuthorExperiment","setBuyTogetherVipExperiment","setBrandNameExperiment","setServicePageExperiment","setAmeWithCardExperiment","fetchFreight","freightErrorComponent","resetFreight","fetchCoordinates","changeLocation","showModal","hideModal","fetchMoreOffersPage","fetchOffers","viewOffersType","fetchOffer","pageLoad","fetchPageRequest","fetchPageSuccess","fetchPageCache","fetchPageFailure","setPageType","fetchHomePageSuccess","fetchNotFoundPageSuccess","fetchProductPage","fetchStores","selectStore","fetchBlackbox","fetchRegion","fetchRecProducts","fetchReviewPage","post","postReview","fetch","fetchReviews","fetchMoreReviews","postReviewReset","postReport","postReportReset","postAnswer","postAmeOrder","postQuestion","fetchQuestions","fetchMoreQuestions","fetchQuestion","toggleRecommendationProducts","toggleService","fetchServicesPage","selectSku","fetchSpacey","fetchFitAnalyticsSuccess","fetchFitAnalyticsFailure","showFitAnalyticsModal","hideFitAnalyticsModal","fetchTurbo","fetchNotifyMe","fetchNotifyMeRequest","fetchNotifyMeMeSuccess","fetchNotifyMeMeFailure","notifyMeFormRefresh","viewInstallmentMethod","selectSocialShare","fetchBookAuthorInfo","fetchBookAuthorProducts","changeSelectedBookAuthor","fetchBookAuthorInfoRequest","fetchBookAuthorInfoSuccess","fetchBookAuthorInfoFailure","setSelectedBookAuthor","fetchBookAuthorProductsRequest","fetchBookAuthorProductsSuccess","fetchBookAuthorProductsFailure","showBookAuthor","postFeedback","fetchSpectre","default"].indexOf(M)<0&&function(t){n.d(e,t,function(){return H[t]})}(M);var L=n(76);n.d(e,"synopsisRead",function(){return L.a}),n.d(e,"synopsisSeeMore",function(){return L.b});var W=n(77);n.d(e,"fetchStoreFreight",function(){return W.a});var Q=n(41);n.d(e,"fetchWishlist",function(){return Q.fetchWishlist}),n.d(e,"addToWishlist",function(){return Q.addToWishlist}),n.d(e,"removeFromWishlist",function(){return Q.removeFromWishlist}),n.d(e,"checkFavorite",function(){return Q.checkFavorite});var q=n(78);n.d(e,"postAnswerFeedback",function(){return q.a});var J=n(42);n.d(e,"fetchLastOrder",function(){return J.a}),n.d(e,"getLogin",function(){return J.b});var K=n(43);n.d(e,"postCr",function(){return K.a})},,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var h=n(14),r=function(t){var d=t.id,p=t.sellerId,l=t.condition,g=t.onlyBuyBoxInstallments;return function(e,t){var n=t(),r=n.configuration,o=n.location,i=n.session,c=i.get("cookies"),u=i.get("xtid"),a=Object(h.isPrime)(i),s=Object(h.getOPN)(o,c),f=c.get("b2wRegion");return e(E()),function(t){var e=t.id,n=t.sellerId,r=t.condition,o=t.opn,i=t.configuration,c=t.onlyBuyBoxInstallments,u=t.xtid,a=t.region,s=t.cPrime,f=Object(h.getOffersApiUrl)({id:e,sellerId:n,condition:r,opn:o,configuration:i,onlyBuyBoxInstallments:c,region:a,cPrime:s});return Object(h.fetchJSON)(f,{"x-tid":u})}({id:d,sellerId:p,condition:l,opn:s,configuration:r,onlyBuyBoxInstallments:g,xtid:u,region:f,cPrime:a}).then(function(t){return t.body}).then(function(t){return e(O(t))}).catch(function(t){throw e(m(t)),t})}},E=function(){return{type:"FETCH_OFFERS_REQUEST"}},O=function(t){return{type:"FETCH_OFFERS_SUCCESS",payload:t}},m=function(t){return{type:"FETCH_OFFERS_FAILURE",error:!0,payload:Object(h.formatError)(t)}},o=function(t){return{type:"VIEW_OFFERS_TYPE",payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});function a(t){return t.reduce(function(t,e){return t[e.id]=e,t},{})}var s=n(14),r=function(u){return function(e,t){var n=t(),r=n.configuration,o=n.location,i=n.session.get("cookies"),c=Object(s.getOPN)(o,i);return e(f()),Promise.all(u.map(function(t){return function(t){var e=t.id,n=(t.opn,t.configuration);if("",!e)return!1;var r="".concat(n.getIn(["endpoints","blackbox"]),"product/").concat(e);return Object(s.fetchJSON)(r).then(function(t){return t.body}).catch(function(){return!1})}({id:t,opn:c,configuration:r})})).then(a).then(function(t){return e(d(t))}).catch(function(t){return e(p(t))})}},f=function(){return{type:"FETCH_RECPRODUCT_REQUEST"}},d=function(t){return{type:"FETCH_RECPRODUCT_SUCCESS",payload:t}},p=function(t){return{type:"FETCH_RECPRODUCT_FAILURE",error:!0,payload:Object(s.formatError)(t)}}},,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var b=n(26),i=n(31),I=n(92),S=n(36);function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=t.path,n=t.querystring,r=t.configuration,o=(t.xtid,function(t){var e=t.path,n=void 0===e?"":e,r=t.querystring,o=t.configuration,i=void 0===o?Map():o,c=(t.cPrime,"".concat(i.getIn(["endpoints","blackbox"])).concat(n));return c+=c.includes("?")?"&":"?",c+=r}({path:e,querystring:n,configuration:r}));return Object(i.b)(o).then(function(t){return t.body})}var r=function(t,e){var m=0<arguments.length&&void 0!==t?t:"url",y=1<arguments.length?e:void 0;return function(e,t){var n=t(),r=n.configuration,o=n.session,i=n.device,c=n.routeId,u=n.page,a=o.get("xtid"),s=o.get("cookies"),f=decodeURIComponent(s.get("b2wcrmts")),d=s.get("B2W-UID"),p=s.get("B2W-SID"),l=Object(S.h)(o.getIn(["cookies","c_prime"])),g="?"===y.get("search")?"":y.get("search"),h=function(t,e){return"home"===e.get("type")?"/home":"notfound"===e.get("type")?"/notfound":t.get("pathname")}(y,u),E="".concat(m).concat(h).concat(g),O=Object(b.stringify)({deviceType:i,c_prime:l,sgs:f,userId:d,sessionId:p});return e({type:"FETCH_BLACKBOX_REQUEST"}),_({path:E,querystring:O,configuration:r,xtid:a}).then(function(t){return e(function(t){return{type:"FETCH_BLACKBOX_SUCCESS",payload:t}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}({routeId:c},t,{path:y.get("pathname"),resource:m})))}).catch(function(t){e(function(t){return{type:"FETCH_BLACKBOX_FAILURE",error:!0,payload:Object(I.a)(t)}}(t))})}}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var c=n(16),u=n(31),a=n(93),r=function(o,i){return function(e,t){e(d());var n=t().configuration.getIn(["endpoints","lastOrderUrl"]),r="".concat(n,"?customerId=").concat(o,"&token=").concat(i);return Object(u.b)(r).then(function(t){e(p(function(t){return 0<t.get("body").size?{deliveryPromissedDate:Object(a.c)(t.getIn(["body",0,"deliveries",0,"deliveryPromissedDate"],"")),deliveredDate:Object(a.c)(t.getIn(["body",0,"deliveries",0,"deliveredDate"],"")),orderDate:Object(a.c)(t.getIn(["body",0,"deliveries",0,"orderDate"],"")),productImage:t.getIn(["body",0,"deliveries",0,"orderLines",0,"images",0,"small"],""),statusPayment:t.getIn(["body",0,"deliveries",0,"eventName"],""),orderMessage:t.getIn(["body",0,"deliveries",0,"message"],""),haveOrder:!0}:{haveOrder:!1}}(Object(c.fromJS)(t))))}).catch(function(t){return e(l(t))})}},o=function(){return function(e,t){e(i());var n=t().session.getIn(["cookies","customer.id"],"");return new Promise(function(t){if(n)return e(s({customerId:n})),t();e(f())})}},i=function(){return{type:"IS_CUSTOMER_LOGGED"}},s=function(t){return{type:"CUSTOMER_LOGGED",payload:t}},f=function(){return{type:"CUSTOMER_NOT_LOGGED"}},d=function(){return{type:"FETCH_LAST_ORDER_REQUEST"}},p=function(t){return{type:"FETCH_LAST_ORDER_SUCCESS",payload:t}},l=function(t){return{type:"FETCH_LAST_ORDER_FAILURE",error:!0,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(172),o=n.n(r),i=function(t,n){return function(e){e(c()),o()(t,n).then(function(t){t.success?e(u({response:t,config:n})):e(a({error:'Required parameters "mail"'}))}).catch(function(t){e(a(t))})}},c=function(){return{type:"CR_REQUEST"}},u=function(t){return{type:"CR_SUCCESS",payload:t.success}},a=function(t){return{type:"CR_FAILURE",payload:t}}},,,,function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return u});var y=n(16),r=n(85),o=n.n(r),b=n(14),I=n(23);function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(h,E,t,e){var O=2<arguments.length&&void 0!==t&&t,m=3<arguments.length?e:void 0;return function(e,t){var n=t(),r=n.configuration,o=n.location,i=n.session,c=n.page,u=n.entities,a=i.get("cookies"),s=Object(b.isPrime)(i),f=Object(b.mountFreightId)(E),d=u.getIn(["freights",f])||Object(y.Map)(),p=Object(b.getOPN)(o,a),l=a.get("B2W-PID"),g="true"==a.get(I.e);return function(t,e,n,r){return n.getIn(["options","cep"])!==r&&(!!t||!!Object(b.isEnabled)(e.get("freightAuto")))}(O,r.get("feature"),d,h)?(e(v(f)),function(r,t,e,o,n,i){var c=Object(b.getFreightUrl)(r,t,e,o,n,i);return Object(b.fetchJSON)(c).then(function(t){var e=t.body,n=S(e.warnings||[],1)[0];return t.headers.get("X-Experiment")&&(e.experiment=JSON.parse(t.headers.get("X-Experiment"))||""),n&&(e.warning=n.code),Object(b.isCrossDelivery)(e.options)&&(e.warning="CROSS_DELIVERY"),e.options=Object(b.formatOptions)(r,e.options).map(function(t){return Object.assign({},t,{formattedDays:Object(b.formatDeadline)(t.id,t.eta),formattedPrice:Object(b.formatPrice)(t.price),formattedPriceWithoutPromotion:Object(b.formatPrice)(t.priceWithoutPromotion),formattedName:Object(b.formatName)(r,t.id),formattedTotalPrice:Object(b.formatTotalPrice)(o,t.price)})}),e}).catch(function(t){throw t})}(r,p,h,E,l,s).then(function(t){t.typed=O,t.origin=c.get("type"),t.isSelectedFromAddresses=g,e(_(f,t,m))}).catch(function(t){e(T(f,h,m,t))})):Promise.resolve()}},v=function(t){return{type:"FETCH_FREIGHT_REQUEST",payload:{id:t}}},_=function(t,e,n){return{type:"FETCH_FREIGHT_SUCCESS",payload:{id:t,offer:n,freight:e,message:e.warning?Object(b.getMessage)(e.warning).message:""}}},T=function(t,e,n,r){return{type:"FETCH_FREIGHT_FAILURE",error:!0,payload:{id:t,offer:n,freight:Object.assign({},r.body,{cep:e,offer:n,response:o()(r,"body.message"),experiment:r.experiment}),message:Object(b.getMessage)(o()(r,"body.errorCode")).message,response:r.body.message}}},c=function(){return{type:"FREIGHT_ERROR_COMPONENT"}},u=function(){return{type:"RESET_FREIGHT"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var u=n(14),a=n(37),r=function(c){return function(n,t){var e=t(),r=e.configuration,o=e.session,i=r.getIn(["endpoints","region"]);return function(t,e){var n=t.getIn(["customer","cep","lastFetched"]),r=t.get("cookies");return!(!e||e===n&&r.has("b2wRegion"))}(o,c)?(n(s()),Object(u.fetchJSON)("".concat(i,"?zipcode=").concat(c)).then(function(t){return t.body}).then(function(t){var e=t.b2wRegion;n(Object(a.b)("b2wRegion",e)),n(f(c))}).catch(function(t){return n(d(t))})):Promise.resolve()}},s=function(){return{type:"FETCH_REGION_REQUEST"}},f=function(t){return{type:"FETCH_REGION_SUCCESS",payload:t}},d=function(){return{type:"FETCH_REGION_ERROR"}}},,,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return i});var s=n(14),r=function(){return function(c,t){var e=t(),n=e.configuration,r=e.session,o=r.getIn(["cookies","customer.id"]),i=r.getIn(["cookies","customer.api.token"]),u="".concat(n.getIn(["endpoints","customer"])).concat(o,"/address"),a={"access-token":"".concat(i)};if(c(f()),o){if(i)return Object(s.fetchJSON)(u,{headers:a}).then(function(t){return t.body}).then(function(t){var e=t._results,n=e.total,r=e.limit,o=e.offset,i=t.addresses;c(d({addresses:{loading:!1,initialLoad:!1,total:n,limit:r,offset:o,results:i,error:!1}}))}).catch(function(t){return c(p({customerId:o,err:t}))});c(p({customerId:o,err:"customer.api.token not found"}))}else{c(p({customerId:o,err:"customer.id not found"}))}}},f=function(){return{type:"FETCH_ADDRESS_REQUEST"}},d=function(t){return{type:"FETCH_ADDRESS_SUCCESS",payload:t}},p=function(t){return{type:"FETCH_ADDRESS_FAILURE",payload:{customerId:t.customerId,err:t.err}}},o=function(t){return{type:"TOGGLE_CEP_SYNC",payload:t}},i=function(t){return{type:"SET_CEP_TIMESTAMP",payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var f=n(14),d=n(23),r=function(a,t){var s=1<arguments.length&&void 0!==t?t:"store";return function(r,t){var e=t(),n=e.configuration,o=e.session,i=Object(f.mountStoreId)(a,s),c=o.get("cookies");if(c.get(d.c)){var u=Object(f.getCepApiUrl)({configuration:n,cookies:c});return r(p(i)),Object(f.fetchJSON)(u).then(function(t){return t.body}).then(function(t){var e=t.latitude,n=t.longitude;r(l({id:i,coordinates:{loading:!1,error:!1,latitude:e,longitude:n}}))}).catch(function(t){throw r(g({err:t,id:i})),Error("INVALID_CEP")})}}},p=function(t){return{type:"FETCH_COORDS_REQUEST",payload:{id:t}}},l=function(t){return{type:"FETCH_COORDS_SUCCESS",payload:t}},g=function(t){var e=t.err;return{type:"FETCH_COORDS_FAILURE",payload:{id:t.id,err:e}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(1418),o=function(t){return{type:r.a,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var u=n(14),r=function(c){return function(e,t){var n=t(),r=n.session,o=n.configuration,i=r.get("xtid");if(c)return e(a()),function(t){var e=t.offerId,n=t.xtid,r=t.configuration.getIn(["endpoints","offer"]),o="".concat(r).concat(e);return Object(u.fetchJSON)(o,{"x-tid":n})}({offerId:c,xtid:i,configuration:o}).then(function(t){return t.body}).then(function(t){return e(s(t))}).catch(function(t){throw e(f(t)),t})}},a=function(){return{type:"FETCH_OFFER_REQUEST"}},s=function(t){return{type:"FETCH_OFFER_SUCCESS",payload:t}},f=function(t){return{type:"FETCH_OFFER_FAILURE",error:!0,payload:Object(u.formatError)(t)}}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(25),u=n(14),r=function(t){var i=t.id;return function(e,t){var n=t(),r=n.configuration,o=n.session.get("xtid");return e(Object(c.e)()),function(t){var e=t.id,n=t.configuration,r=t.xtid,o=Object(u.getProductApiUrl)({id:e,configuration:n}),i={"x-tid":r};return Object(u.fetchJSON)(o,{headers:i}).then(function(t){return t.body})}({id:i,configuration:r,xtid:o}).then(u.formatProduct).then(function(t){return{product:t,page:Object(u.formatPage)({type:"review",product:t,configuration:r})}}).then(function(t){return e(Object(c.f)(t))}).catch(function(t){throw e(Object(c.d)(t)),t})}}},function(t,e,n){"use strict";n.d(e,"d",function(){return p}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return h});var r=n(90),s=n.n(r),f=n(16),o=n(17),d=n(14),p=function(t){var e=t.configuration,n=t.cookies,r=t.product,o=t.data,i=t.location,c=e.getIn(["endpoints","productReview"]);return o=Object.assign(o,{customerId:n.get("customer.id"),customerToken:n.get("customer.api.token"),ProductId:r.get("id"),CampaignId:a(i)}),Object(d.postJSON)(c,JSON.stringify(o)).then(function(t){return t.body})},i=function(a){return function(n,t){var e=t(),r=e.configuration,o=e.session,i=e.product,c=e.location,u=o.get("cookies");return n(g()),p({configuration:r,cookies:u,product:i,data:a,location:c}).then(function(t){var e=t.Errors||{};if(!s()(e))throw new Error(e[0].Message);n(E(t))}).catch(function(t){n(O(t))})}},l=function(t){var e=function(t){var e=t.productId,n=t.configuration,r=t.order,o=t.offset,i=void 0===o?0:o,c=t.limit,u=void 0===c?5:c,a="".concat(n.getIn(["endpoints","bazaarvoiceReviews"]),"?");return a+="&offset=".concat(i,"&limit=").concat(u),a+="&sort=".concat(r),a+="&filter=ProductId:".concat(e)}({productId:t.productId,configuration:t.configuration,order:t.order,offset:t.offset,limit:t.limit});return Object(d.fetchJSON)(e).then(function(t){return t.body}).then(function(t){return{reviews:t}})},c=function(a,t){var s=1<arguments.length&&void 0!==t?t:"SubmissionTime:desc";return function(e,t){var n=t(),r=n.configuration,o=n.entities,i=r.get("feature"),c=o.getIn(["reviews",a],Object(f.Map)()),u=c.get("order");if(Object(d.isEnabled)(i.get("reviews"))&&(!c||s!==u))return e(m(a)),l({productId:a,configuration:r,order:s}).then(function(t){return Object.assign({},t,{productId:a})}).then(function(t){return e(y(t,s))}).catch(function(t){e(b(t))})}},u=function(u){return function(e,t){var n=t(),r=n.configuration,o=n.entities.getIn(["reviews",u]),i=o.get("order"),c=o.get("offset")+o.get("limit");return e(I(u)),l({productId:u,configuration:r,order:i,offset:c}).then(function(t){return Object.assign({},t,{productId:u})}).then(function(t){return e(S(t,i))}).catch(function(t){throw e(v(t)),t})}},a=function(t){var e=t.getIn(["query","rmid"]),n=Object(o.getDevice)(),r=Object(o.getPlatform)();return""!=e&&null!=e?"Email":"native"===r?"ProductPageApp":"desktop"==n?"ProductPageDesktop":"ProductPageMobile"},g=function(){return{type:"POST_REVIEW_REQUEST"}},h=function(){return{type:"POST_REVIEW_RESET"}},E=function(t){return{type:"POST_REVIEW_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},O=function(t){return{type:"POST_REVIEW_FAILURE",error:!0,payload:t}},m=function(t){return{type:"FETCH_REVIEWS_REQUEST",payload:{productId:t}}},y=function(t,e){return{type:"FETCH_REVIEWS_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString(),order:e}}},b=function(t){return{type:"FETCH_REVIEWS_FAILURE",error:!0,payload:Object(d.formatError)(t)}},I=function(t){return{type:"FETCH_MOREREVIEWS_REQUEST",payload:{productId:t}}},S=function(t,e){return{type:"FETCH_MOREREVIEWS_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString(),order:e}}},v=function(t){return{type:"FETCH_MOREREVIEWS_FAILURE",error:!0,payload:Object(d.formatError)(t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var m=n(14),r=function(O){return function(e,t){var n=t(),r=n.configuration,o=n.session,i=n.products,c=n.product,u=n.offers,a=n.location,s=n.entities,f=n.routing,d=o.get("cookies"),p=r.getIn(["endpoints","report"]),l=a.getIn(["query","offerId"]),g=o.getIn(["cookies","customer.api.token"]),h=f.getIn(["params","id"]),E={"access-token":"".concat(g)};return O=Object.assign(O,{productId:h,customerId:d.get("customer.id"),productName:c.get("name")||i.getIn([h,"name"]),departmentId:s.getIn(["turbo",h,"result","breadcrumb",0,"id"]),url:"".concat(r.getIn(["domain"]),"/produto/").concat(h),brand:r.get("brandNick"),price:u.getIn([l,"salesPrice"])||O.price,sku:u.getIn([l,"_links","sku","id"])||O.sku,sellerId:u.getIn([l,"_embedded","seller","id"])||O.sellerId}),e(y()),Object(m.postJSON)(p,JSON.stringify(O),E).then(function(t){return e(b(t))}).catch(function(t){return e(I(t))})}},y=function(){return{type:"POST_REPORT_REQUEST"}},o=function(){return{type:"POST_REPORT_RESET"}},b=function(t){return{type:"POST_REPORT_SUCCESS",payload:t}},I=function(t){return{type:"POST_REPORT_FAILURE",error:!0,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var l=n(14),r=function(t){var a=t.questionId,s=t.sellerId,f=t.answer,d=t.nickname,p=(t.id,t.productId);return function(e,t){var n=t(),r=n.session,o=n.configuration,i=r.get("cookies");e(g());var c=JSON.stringify({sellerId:s,customerId:i.get("customer.id"),customerToken:i.get("customer.api.token"),ProductId:p,QuestionId:a,AnswerText:f,nickname:d}),u=o.getIn(["endpoints","productReviewsBFF"]);return Object(l.postJSON)("".concat(u,"answers/"),c).then(function(t){return t.body}).then(function(t){return e(h(t))}).catch(function(t){return e(E(t))})}},g=function(t){return{type:"POST_ANSWER_REQUEST",payload:{pageId:t}}},h=function(t){return{type:"POST_ANSWER_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},E=function(t){return{type:"POST_ANSWER_FAILURE",error:!0,payload:Object(l.formatError)(t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(17),l=n(14),g="web"===r.platform?"DESKTOP":"APP",o=function(){return function(e,t){e(h());var n=t(),r=n.session,o=n.entities,i=n.product,c=n.configuration,u=i.get("id"),a=o.getIn(["offers",u]),s=o.getIn(["mainOffer",u]),f=Object(l.selectOfferById)(a,s),d={customer:{id:r.getIn(["cookies","customer.id"]),token:r.getIn(["cookies","customer.api.token"])},product:{sku:f.getIn(["_links","sku","id"]),sellerId:f.getIn(["_embedded","seller","id"])},b2wContext:{brand:c.get("brandNick"),deviceType:g}},p=c.getIn(["endpoints","ame"]);return Object(l.postJSON)(p,JSON.stringify(d)).then(function(t){e(O(t))}).catch(function(t){throw e(E(t)),t})}},h=function(){return{type:"POST_AME_ORDER_REQUEST"}},E=function(t){return{type:"POST_AME_ORDER_FAILURE",payload:t}},O=function(t){return{type:"POST_AME_ORDER_SUCCESS",payload:t}}},function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u});function s(t){var e=t.configuration,n=t.session,r=t.productId,o=t.offset,i=void 0===o?0:o,c=t.limit,u=void 0===c?3:c,a=n.getIn(["customer","customerId"])||n.getIn(["cookies","customer.id"]),s="".concat(e.getIn(["endpoints","questions"]),"/").concat(r);return s+=a?"/question?sortBy=questionDate.desc&limit=".concat(u,"&offset=").concat(i,"&customerId=").concat(a):"/question?sortBy=questionDate.desc&limit=".concat(u,"&offset=").concat(i)}function f(t){var e=t.questions,n=t._result;return{questions:{questions:e,Limit:n.limit,Offset:n.offset,TotalResults:n.total}}}var r=n(90),d=n.n(r),E=n(14),o=function(a){return function(n,t){var e=t(),r=e.configuration,o=e.session,i=e.product,c=o.get("customer"),u=o.get("cookies");return n(p()),function(t){var e=t.configuration,n=t.customer,r=t.cookies,o=t.product,i=t.data,c=n.get("customerId")||r.get("customer.id"),u=n.get("token")||r.get("customer.api.token"),a=e.get("brandNick"),s=n.getIn(["type","pf","nickname"])||r.get("".concat(a,"Nick")),f=i.fingerprint,d=i.questionSummary,p=o.get("id"),l="".concat(e.getIn(["endpoints","questions"]),"/").concat(p,"/question"),g={"access-token":u,fingerprint:f},h=JSON.stringify({owner:{id:c,name:s},question:d});return Object(E.postJSON)(l,h,g).then(function(t){return t=Object.assign(t,{question:{questionSummary:d,submissionTime:new Date}})})}({configuration:r,customer:c,cookies:u,product:i,data:a}).then(function(t){var e=t.Errors||{};if(!d()(e))throw new Error(e[0].Message);return t=Object.assign(t,{id:i.get("id")}),n(l(t)),t}).catch(function(t){n(g(t))})}},i=function(c){return function(e,t){var n=t(),r=n.configuration,o=n.session;if(Object(E.isEnabled)(r.getIn(["feature","QEA"]))){var i=s({configuration:r,session:o,productId:c});return e(a(c)),Object(E.fetchJSON)(i).then(function(t){return f(t.body)}).then(function(t){return Object.assign({},t,{productId:c})}).then(function(t){return e(h(t))}).catch(function(t){e(O(t))})}}},c=function(a){return function(e,t){var n=t(),r=n.configuration,o=n.session,i=n.entities.getIn(["questions",a]),c=i.get("offset")+i.get("limit"),u=s({configuration:r,session:o,productId:a,offset:c});return e(m(a)),Object(E.fetchJSON)(u).then(function(t){return f(t.body)}).then(function(t){return Object.assign({},t,{productId:a})}).then(function(t){return e(y(t))}).catch(function(t){throw e(b(t)),t})}},u=function(c,u){return function(e,t){var n=t(),r=n.configuration,o=n.session;if(Object(E.isEnabled)(r.getIn(["feature","QEA"]))){var i=function(t){var e=t.configuration,n=t.session,r=t.productId,o=t.questionId,i=n.getIn(["customer","customerId"])||n.getIn(["cookies","customer.id"]),c="".concat(e.getIn(["endpoints","questions"]),"/").concat(r);return c+=i?"/question/".concat(o,"?customerId=").concat(i):"/question/".concat(o)}({configuration:r,session:o,productId:c,questionId:u});return e(a(c)),Object(E.fetchJSON)(i).then(function(t){return function(t){return{questions:{questions:t}}}([t.body])}).then(function(t){return Object.assign({},t,{productId:c})}).then(function(t){return e(h(t))}).catch(function(t){e(O(t))})}}},p=function(){return{type:"POST_QUESTION_REQUEST"}},l=function(t){return{type:"POST_QUESTION_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},g=function(t){return{type:"POST_QUESTION_FAILURE",error:!0,payload:t}},a=function(t){return{type:"FETCH_QUESTIONS_REQUEST",payload:{productId:t}}},h=function(t){return{type:"FETCH_QUESTIONS_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},O=function(t){return{type:"FETCH_QUESTIONS_FAILURE",error:!0,payload:Object(E.formatError)(t)}},m=function(t){return{type:"FETCH_MOREQUESTIONS_REQUEST",payload:{productId:t}}},y=function(t){return{type:"FETCH_MOREQUESTIONS_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},b=function(t){return{type:"FETCH_MOREQUESTIONS_FAILURE",error:!0,payload:Object(E.formatError)(t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(16),r=function(o,i){return function(t,e){var n,r=e().selectedRecommendation.get(o)||Object(c.List)();n=r.includes(i)?function(t,e){var n=e.indexOf(t);return-1<n?e.delete(n):e}(i,r):r.push(i),t(u(o,n))}},u=function(t,e){return{type:"SET_RECOMMENDATION_PRODUCTS",payload:{type:t,products:e}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{type:"TOGGLE_SERVICE",service:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var f=n(25),g=n(14);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e){var n=new Error(t);return n.status=302,n.redirectLocation=e,n}function d(r,d,p,l){return new Promise(function(s,f){!function(t,e,n){if(!t.productSku)throw o("Sku não informado","/produto/".concat(e));if(t.sellerId==n.get("sellerPickupStore")&&!t.sellerStoreId)throw o("sellerStoreId não informado","/produto/".concat(e,"?error=sellerPickupStore"));if("aempresas"===n.get("subbrand"))throw new Error("Impossível comprar garantia para americanas empresas.")}(r,p,d);var t=Object(g.getProductApiUrl)({id:p,configuration:d}),e="".concat(d.getIn(["endpoints","offer"]),"?sku.id=").concat(r.productSku,"&seller.id=").concat(r.sellerId,"&condition=NEW"),n={"x-tid":l};Promise.all([Object(g.fetchJSON)(t,{headers:n}).then(function(t){return t.body}),function(t,o,e){var n="".concat(o.getIn(["endpoints","sku"]),"?id=").concat(t),i={"x-tid":e};return Object(g.fetchJSON)(n,{headers:i}).then(function(t){return t.body}).then(function(t){var e=h(t.skus,1)[0];return[e,{product:e._embedded.product.id,href:e._embedded.product._links.self.href,sku:e.id,name:e.name,images:e.images,hasKit:!1,kit:[]}]}).then(function(t){var e=h(t,2),n=e[0],r=e[1];return n.kit&&0!==n.kit.length?Promise.all(n.kit.map(function(t){return Object(g.fetchJSON)("".concat(o.getIn(["endpoints","sku"]),"?id=").concat(t.sku.id),{headers:i}).then(function(t){return t.body})})).then(function(t){return r.hasKit=!0,r.kit=t.map(function(t){return{product:(t=h(t.skus,1)[0])._embedded.product.id,sku:t.id,name:t.name,images:t.images?t.images:[]}}),r}):r})}(r.productSku,d,l),Object(g.fetchJSON)(e,{headers:n}).then(function(t){return t.body})]).then(function(t){var e=h(t,3),o=e[0],i=e[1],c=e[2];if(o=Object(g.formatProduct)(o,d),0===c.offers.length)return f(new Error("Produto sem ofertas"));var n=h(c.offers,1),r="00776574000660"===(c=n[0])._embedded.seller.id?"B2W":"MARKET_PLACE",u="".concat(d.getIn(["endpoints","productService"]),"?productSku=").concat(c._links.sku.id,"&storeId=").concat(c._embedded.seller.id,"&salesPrice=").concat(c.salesPrice),a="".concat(d.getIn(["endpoints","installment"]),"?paymentId=CARTAO_VISA&total=").concat(c.salesPrice,'&product={"itemId":').concat(p,',"type":"').concat(r,'","storeId":"').concat(c._embedded.seller.id,'"}');return Promise.all([Object(g.fetchJSONAlwaysResolved)(u,{"x-tid":l}).then(function(t){return t.body}),Object(g.fetchJSONAlwaysResolved)(a,{"x-tid":l}).then(function(t){return t.body})]).then(function(t){var e=h(t,2),n=e[0],r=e[1];if(n instanceof Error||n.length<1)return f(new Error("Produto sem serviço"));(r instanceof Error||r.length<1)&&(r=[{quantity:1,total:c.salesPrice,value:c.salesPrice,annualCET:0,interestRate:0,interestAmount:0,taxedInterestRate:0}]),s({product:o,sku:i,page:Object(g.formatPage)({type:"services",product:o,configuration:d}),services:Object(g.formatProductService)(o,i,n,d),installmentQuantity:Object(g.getMaxInstallmentWithoutTax)(r)})})}).catch(function(t){f(t)})})}var r=function(t){var s=t.id;return function(r,t){var e=t(),o=e.configuration,i=e.session,n=e.location,c=i.get("xtid"),u=n.get("query").toJS(),a=Object(g.getExtraProducts)(n);return r(Object(f.e)()),d(u,o,s,c).then(function(t){return r(Object(f.f)(t))}).catch(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!t.redirectLocation){var e=[{sku:u.productSku,storeId:u.sellerId,sellerStoreId:u.sellerStoreId,condition:u.condition,additionalInfo:{buyboxField:u.buyboxField,buyboxToken:u.buyboxToken,pricingId:u.pricingId,highlightedPaymentOptions:u.offerType}}].concat(a);"true"===u.isExclusivePrime&&!Object(g.isPrime)(i)&&e.push({storeId:"00776574000660",sku:"123064426",condition:u.condition,additionalInfo:{buyboxField:u.buyboxField,buyboxToken:u.buyboxToken,pricingId:u.pricingId,highlightedPaymentOptions:u.offerType}});var n=Object(g.getCartFillerURL)(o,{products:e});t.status=302,t.redirectLocation=n}throw r(Object(f.d)(t)),t})}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{type:"SELECT_SKU",payload:t}}},,function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u});var r=n(14),o=function(t){return{type:"FETCH_FITANALYTICS_SUCCESS",payload:t}},i=function(t){return{type:"FETCH_FITANALYTICS_FAILURE",error:!0,payload:Object(r.formatError)(t)}},c=function(){return{type:"SHOW_FITANALYTICS_MODAL"}},u=function(){return{type:"HIDE_FITANALYTICS_MODAL"}}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return l}),n.d(e,"e",function(){return o});var u=n(26),s=n(14),r=function(t){var c=t.sku,u=t.name,a=t.email;return function(e,t){var n=t(),r=n.configuration,o=n.product,i=f({configuration:r,product:o,sku:c,name:u,email:a});return e(d()),Object(s.fetchJSON)(i).then(function(){return e(p({name:u,sku:c,email:a}))}).catch(function(t){return e(l(t))})}},f=function(t){var e=t.configuration,n=t.product,r=t.sku,o=t.name,i=t.email,c=Object(u.stringify)({n:o,mail:i,SKU:r,IDPRODUCT:n.get("id"),o:e.getIn(["notifyMe","origin"]),opt:"in",send_email:!0,event_name:"CR_AVISE_ME",event_id:e.getIn(["notifyMe","id"])});return"".concat(e.getIn(["endpoints","notifyMe"]),"?").concat(c)},d=function(){return{type:"FETCH_NOTIFY_ME_REQUEST"}},p=function(t){return{type:"FETCH_NOTIFY_ME_SUCCESS",payload:t}},l=function(t){return{type:"FETCH_NOTIFY_ME_FAILURE",error:!0,payload:Object(s.formatError)(t)}},o=function(){return{type:"REFRESH_NOTIFY_ME_FORM"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{type:"VIEW_INSTALLMENT_METHOD",payload:t}}},,function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"j",function(){return b}),n.d(e,"h",function(){return I}),n.d(e,"i",function(){return S}),n.d(e,"g",function(){return v}),n.d(e,"k",function(){return u});function h(t){var e=function(t){var e=t.configuration,n=t.content,r=(t.categoryId,e.getIn(["endpoints","mystique"])),o={sortBy:"topSelling",filter:['{"id": "category.id", "value": "309573", "fixed": true}','{"id": "extra.AUTOR", "value": "'.concat(n,'", "fixed": true}')],aggregation:'{"disable": true}',suggestion:!1,limit:"10",source:"omega"};return"".concat(r,"?").concat(Object(i.stringify)(o))}({configuration:t.configuration,content:t.content,categoryId:t.categoryId});return Object(O.fetchJSON)(e).then(function(t){return t.body})}var i=n(26),E=n(16),O=n(14),m=n(34),y=n(23),r=function(){return function(e,t){var n=t(),r=n.configuration,o=n.product,i=n.location,c=n.session,u=n.page;if(!Object(O.isEnabled)(Object(O.isAuthorBio)(r)))return Promise.resolve();var a=u.get("id"),s=c.get("cookies");return e(f()),function(t){var e=t.configuration,n=t.product,r=t.location,o=t.cookies,i=e.getIn(["spacey","positions"])||Object(E.List)();if(0===i.size)return Promise.resolve();var c=e.getIn(["spacey","segment"]),u=Object(O.getBookAuthorPublications)({positions:i,configuration:e,product:n,location:r,cookies:o,hasSegment:c});return u&&0!==u.length?Promise.all(u):Promise.resolve()}({configuration:r,product:o,location:i,cookies:s,session:c}).then(O.normalizeBookAuthorPublications).then(O.normalizePublications).then(function(t){return Object.assign({},t,{pageId:a})}).then(function(t){return e(d(t))}).catch(function(t){return e(p(t))})}},o=function(){return function(c,t){var e=t(),n=e.entities,r=e.page,o=e.product,u=e.configuration,a=e.routeId;if(!Object(O.isEnabled)(Object(O.isAuthorBio)(u)))return Promise.resolve();var i=r.get("product"),s=r.get("id"),f=n.getIn(["turbo",i,"result","breadcrumb"])||Object(E.List)(),d=Object(O.getAuthorName)(o);if(!Object(O.isBooks)(u,f)||!d||f.isEmpty())return Promise.resolve();var p=d.get("values"),l=f.first().get("id");c(b(p.get(0))),c(I());var g=p.map(function(i){return h({configuration:u,content:i,categoryId:l}).then(function(t){var e=t.products.map(function(t){return{id:t.id.toString()}}).slice(0,9),n=Object(O.formatBookAuthorKey)(y.b,i),r=[{type:n,title:"Todos os livros de ".concat(i),products:e,rule:"TopSellersCategory"}],o=e.map(function(t){return t.id});return c(S({shelves:r,routeId:a,mvt:n,pageId:s})),c(Object(m.a)(o))}).catch(function(t){c(v(t))})});return Promise.all(g)}},c=function(e){return function(t){t(b(e))}},f=function(){return{type:"FETCH_BOOK_AUTHOR_INFO_REQUEST"}},d=function(t){return{type:"FETCH_BOOK_AUTHOR_INFO_SUCCESS",payload:t}},p=function(t){return{type:"FETCH_BOOK_AUTHOR_INFO_FAILURE",error:!0,payload:Object(O.formatError)(t)}},b=function(t){return{type:"SET_SELECTED_BOOK_AUTHOR",payload:t}},I=function(){return{type:"FETCH_BOOK_AUTHOR_PRODUCTS_REQUEST"}},S=function(t){return{type:"FETCH_BOOK_AUTHOR_PRODUCTS_SUCCESS",payload:t}},v=function(t){return{type:"FETCH_BOOK_AUTHOR_PRODUCTS_FAILURE",error:!0,payload:Object(O.formatError)(t)}},u=function(t){return{type:"SHOW_BOOK_AUTHOR",payload:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var E=n(14),r=function(t){var f=t.vote,d=t.responseText,e=t.contentType,p=void 0===e?"review":e,n=t.feedbackType,l=void 0===n?"helpfulness":n,g=t.reviewId,h=t.productId;return function(e,t){var n=t(),r=n.configuration,o=n.session,i=o.getIn(["customer","token"])||o.getIn(["cookies","customer.api.token"]),c=o.getIn(["customer","customerId"])||o.getIn(["cookies","customer.id"]),u={ContentId:g,ContentType:p,FeedbackType:l,customerToken:i,customerId:c,productId:h};e(O()),f&&(u.Vote=f),d&&(u.ResponseText=d);var a=JSON.stringify(u),s=r.getIn(["endpoints","productReviewsBFF"]);return Object(E.postJSON)("".concat(s,"feedback/"),a).then(function(t){return e(m(t))}).catch(function(t){return e(y(t))})}},O=function(t){return{type:"POST_FEEDBACK_REQUEST",payload:{pageId:t}}},m=function(t){return{type:"POST_FEEDBACK_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},y=function(t){return{type:"POST_FEEDBACK_FAILURE",error:!0,payload:Object(E.formatError)(t)}}},,function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(){return function(t,e){return t({type:"SYNOPSIS_READ"})}},o=function(){return function(t,e){return t({type:"SYNOPSIS_SEE_MORE"})}}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var E=n(14),r=function(t){var p=t.productId,l=t.questionId,g=t.answerId,h=t.vote;return function(e,t){var n=t(),r=n.configuration,o=n.session,i=o.getIn(["customer","token"])||o.getIn(["cookies","customer.api.token"]),c=o.getIn(["customer","customerId"])||o.getIn(["cookies","customer.id"]),u=r.get("brandNick"),a=o.getIn(["customer","type","pf","nickname"])||o.getIn(["cookies","".concat(u,"Nick")]),s={"access-token":i},f=JSON.stringify({owner:{id:c,name:a}});e(O(g));var d="".concat(r.getIn(["endpoints","questions"]),"/").concat(p,"/question/").concat(l,"/answer/").concat(g,"/actions/").concat(h);return Object(E.postJSON)(d,f,s).then(function(t){return e(m(t))}).catch(function(t){return e(y(t))})}},O=function(t){return{type:"POST_ANSWER_FEEDBACK_REQUEST",payload:{answerId:t}}},m=function(t){return{type:"POST_ANSWER_FEEDBACK_SUCCESS",payload:t,meta:{lastFetched:(new Date).toString()}}},y=function(t){return{type:"POST_ANSWER_FEEDBACK_FAILURE",error:!0,payload:Object(E.formatError)(t)}}},function(t,e,n){"use strict";function r(){return function(t,e){var n="PDP_008_ADS_RECOMMENDATION",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function o(){return function(t,e){var n="CAT_009_BBOX",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function i(){return function(t,e){var n="PDP_009_GOOGLE_PLA",r=e(),o=r.session,i=r.location,c=r.configuration,u=r.entities,a=r.product;if(!c.getIn(["experiments",n,"enabled"]))return null;var s=o.getIn(["cookies","B2W-PID"]),f=a.get("id"),d=u.getIn(["turbo",f,"result","breadcrumb"]),p=Object(h.isResearcher)(c,i,d)?null:"OUT",l=Object(h.experiment)({userId:s,name:n,configuration:c,location:i,override:p});return t(Object(h.setExperiment)(n,l[n]))}}function c(){return function(t,e){var n="PDP_010_AA",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function u(){return function(t,e){var n="PDP_011_FREE_RETURN_MESSAGE",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function a(){return function(t,e){var n="CAT_006_PICKUP",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function s(){return function(t,e){var n="CAT_007_AUTHOR",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function f(){return function(t,e){var n="CAT_014_BBVIP",r=e(),o=r.session,i=r.location,c=r.configuration,u=r.entities,a=r.product,s=c.getIn(["experiments",n,"enabled"]),f=a.get("id"),d=u.getIn(["turbo",f,"result","breadcrumb"]);if(!s)return null;var p=Object(h.isFurnitures)(c,d)?null:"OUT",l=o.getIn(["cookies","B2W-PID"]),g=Object(h.experiment)({userId:l,name:n,configuration:c,location:i,override:p});return t(Object(h.setExperiment)(n,g[n]))}}function d(){return function(t,e){var n="CAT_013_BNAME",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function p(){return function(t,e){var n="CAT15SERVICE",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}function l(){return function(t,e){var n="CAT_015_AWCPAY",r=e(),o=r.session,i=r.location,c=r.configuration;if(!c.getIn(["experiments",n,"enabled"]))return null;var u=o.getIn(["cookies","B2W-PID"]),a=Object(h.experiment)({userId:u,name:n,configuration:c,location:i});return t(Object(h.setExperiment)(n,a[n]))}}var h=n(14);n.d(e,"b",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"i",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"j",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"c",function(){return l})},function(t,e,n){"use strict";function f(t){var i=t.id;return function(e,t){var n=t(),r=n.configuration,o=n.session.get("xtid");return e(c()),function(t){var e=t.id,n=t.configuration,r=Object(h.getDescriptionApiUrl)({id:e,configuration:n,format:"json"});return Object(h.fetchJSON)(r).then(function(t){return t.body}).then(function(t){return{description:{id:e,content:Object(h.encodeHTML)(t.content),safe:t.safe}}})}({id:i,configuration:r,xtid:o}).then(function(t){return e(u(t))}).catch(function(t){e(a(t))})}}function d(t){var d=t.id,p=t.sellerId,l=t.condition,g=t.onlyBuyBoxInstallments;return function(e,t){var n=t(),r=n.configuration,o=n.location,i=n.session,c=i.get("cookies"),u=i.get("xtid"),a=Object(h.isPrime)(i),s=Object(h.getOPN)(o,c),f=c.get("b2wRegion");return e(O()),function(t){var e=t.id,n=t.sellerId,r=t.condition,o=t.opn,i=t.configuration,c=t.onlyBuyBoxInstallments,u=t.xtid,a=t.region,s=t.cPrime,f=Object(h.getProductAndOffersApiUrl)(e,n,r,o,i,c,a,s);return Object(h.fetchJSON)(f,{"x-tid":u})}({id:d,sellerId:p,condition:l,opn:s,configuration:r,onlyBuyBoxInstallments:g,xtid:u,region:f,cPrime:a}).then(function(t){return t.body}).then(function(t){var e=t.product,n=Object(h.formatSkus)(e.skus);return e.colors=Object(h.groupImagesByColor)(Object(E.fromJS)(n)),Object.assign({},t,{product:Object(h.formatProduct)(e,r),skus:n})}).then(function(t){return e(m(t))}).catch(function(t){throw e(y(t)),t})}}var p=n(25),h=n(14),c=function(){return{type:"FETCH_DESCRIPTION_REQUEST"}},u=function(t){return{type:"FETCH_DESCRIPTION_SUCCESS",payload:t}},a=function(t){return{type:"FETCH_DESCRIPTION_FAILURE",error:!0,payload:Object(h.formatError)(t)}},E=n(16),O=function(){return{type:"FETCH_PRODUCT_AND_OFFERS_REQUEST"}},m=function(t){return{type:"FETCH_PRODUCT_AND_OFFERS_SUCCESS",payload:t}},y=function(t){return{type:"FETCH_PRODUCT_AND_OFFERS_FAILURE",error:!0,payload:Object(h.formatError)(t)}};function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r});var r=function(t){var a=t.id,s=t.sellerId;return function(e,t){var n=t(),i=n.configuration,r=n.entities,o="product/".concat(a),c=i.get("brandNick"),u=["soub","suba"].includes(c)?null:"NEW";return r.getIn(["pages","entities","pages",o])?(e(Object(p.c)(o)),Promise.resolve()):(e(Object(p.e)()),Promise.all([e(d({id:a,sellerId:s,condition:u})),e(f({id:a}))]).then(function(t){var e=l(t,2),n=e[0],r=(e[1],Object.assign({},n.payload)),o=Object(h.formatPage)({type:"product",product:r.product,configuration:i,sellerId:s});return o.skus=r.skus.map(function(t){return t.id}),o.offers=r.offers.map(function(t){return t.id}),r.page=o,r}).then(function(t){return e(Object(p.f)(t))}).catch(function(t){if(e(Object(p.d)(t)),404===t.status)return Object(h.checkTurbo)(a,i);throw t}))}}},function(t,e,n){"use strict";function o(t){var u=t.id;return function(e,t){var n=t(),r=n.configuration,o=n.session,i=o.get("xtid"),c=Object(s.isPrime)(o);return e(f()),function(t){var e=t.id,r=t.configuration,n=t.xtid,o=t.cPrime,i=Object(s.getProductApiUrl)({id:e,configuration:r,cPrime:o}),c={"x-tid":n};return Object(s.fetchJSON)(i,{headers:c}).then(function(t){return t.body}).then(function(n){return n=Object(s.formatProduct)(n,r),i=Object(s.getSkusApiUrl)({configuration:r,ids:n.skus,cPrime:o}),Object(s.fetchJSON)(i,{headers:c}).then(function(t){return t.body}).then(function(t){var e=t.skus;return e=Object(s.formatSkus)(e),n.colors=Object(s.groupImagesByColor)(Object(a.fromJS)(e)),{product:n,skus:e}})})}({id:u,configuration:r,xtid:i,cPrime:c}).then(function(t){return e(d(t))}).catch(function(t){throw e(p(t)),t})}}var i=n(25),a=n(16),s=n(14),f=function(){return{type:"FETCH_PRODUCT_REQUEST"}},d=function(t){return{type:"FETCH_PRODUCT_SUCCESS",payload:t}},p=function(t){return{type:"FETCH_PRODUCT_FAILURE",error:!0,payload:Object(s.formatError)(t)}},l=n(33);function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r});var r=function(t){var n=t.id,u=t.sku,r=t.sellerId;return function(e,t){var c=t().configuration;return e(Object(i.e)()),Promise.all([e(o({id:n,sellerId:r})),e(Object(l.a)({id:n,sellerId:r,onlyBuyBoxInstallments:!0}))]).then(function(t){var e=g(t,2),n=e[0],r=e[1],o=Object.assign({},n.payload,r.payload),i=Object(s.formatPage)({type:"other_offers",product:o.product,configuration:c});return i.skus=[u],i.offers=o.offers.filter(function(t){return t._links.sku.id===u}).map(function(t){return t.id}),o.page=i,o}).then(function(t){return e(Object(i.f)(t))}).catch(function(t){throw e(Object(i.d)(t)),t})}}}])]);