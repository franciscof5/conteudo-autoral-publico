if (self.CavalryLogger) { CavalryLogger.start_js(["tUlCw"]); }

__d('ChatOpenTab',['csx','Bootloader','ContextualThing','Event','MercuryIDs','MercuryParticipantTypes','Parent','requireWeak'],(function a(b,c,d,e,f,g,h){'use strict';var i=null;c('requireWeak')('FantaTabsApp',function(n){return i=n;});c('requireWeak')('FantaTabsSlimApp',function(n){return i=n;});function j(n,o,p,q){c('Event').listen(n,'click',function(r){if(m.canOpenTab()){q(o,p);return r.kill();}});}function k(n,o,p,q){c('Event').listen(n,'click',function(r){if(m.canOpenTab())q(o,p);});}function l(n){var o=c('ContextualThing').getContext(n);return o&&c('Parent').bySelector(o,"._3qw")!==null;}var m={canOpenTab:function n(){return i&&!i.isHidden();},listenOpenEmptyTabDEPRECATED:function n(o,p){j(o,null,p,this._loadAndOpenEmptyFantaTab);},listenOpenThreadDEPRECATED:function n(o,p,q){j(o,p,q,function(r,s){return this._loadAndOpenFantaTab(r,s,q);}.bind(this));},openPageTabDEPRECATED:function n(o,p,q){this._loadAndOpenFantaTab(p,c('MercuryParticipantTypes').PAGE,q);return true;},listenOpenUserTabDEPRECATED:function n(o,p,q){if(!l(o))j(o,p,q,function(r){return this._loadAndOpenFantaTab(r,c('MercuryParticipantTypes').USER,q);}.bind(this));},listenOpenUserTabPersistentEventDEPRECATED:function n(o,p,q){if(!l(o))k(o,p,q,function(r){return this._loadAndOpenFantaTab(r,c('MercuryParticipantTypes').USER,q);}.bind(this));},listenOpenPageTabDEPRECATED:function n(o,p,q,r){if(!l(o))j(o,p,r,function(s){return this._loadAndOpenFantaTab(s,c('MercuryParticipantTypes').PAGE,r);}.bind(this));},listenOpenPageTabPersistentEventDEPRECATED:function n(o,p,q,r){if(!l(o))k(o,p,r,function(s){return this._loadAndOpenFantaTab(s,c('MercuryParticipantTypes').PAGE,r);}.bind(this));},_loadAndOpenFantaTab:function n(o,p,q){c('Bootloader').loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(r,s){if(p===c('MercuryParticipantTypes').USER){var t=c('MercuryIDs').getThreadIDFromUserID(o);s.openTab(t);r.logUser(q,o);}else if(p===c('MercuryParticipantTypes').PAGE){var u=c('MercuryIDs').getThreadIDFromUserID(o);s.openTab(u);r.logPage(q,o);}else{s.openTab(o);r.log(q,o);}},'ChatOpenTab');},_loadAndOpenEmptyFantaTab:function n(){c('Bootloader').loadModules(["ChatOpenTabEventLogger","FantaTabActions","MercuryThreads"],function(o,p,q){var r=q.get().createNewLocalThreadGenerateID();p.openTab(r);o.log('EmptyTab');},'ChatOpenTab');}};f.exports=m;}),null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],(function a(b,c,d,e,f,g){var h=c('XHPTemplateProcessor').processor;function i(k){'use strict';if(h instanceof Function)k=h(k);this._model=k;}i.prototype.render=function(){'use strict';if(c('HTML').isHTML(this._model))this._model=c('DOM').setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};i.prototype.build=function(){'use strict';return new j(this.render());};i.getNode=function(k,l){'use strict';return i.getNodes(k)[l];};i.getNodes=function(k){'use strict';var l=c('DataStore').get(k,'XHPTemplate:nodes');if(!l){l={};var m=c('DOM').scry(k,'[data-jsid]');m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute('data-jsid')]=o;o.removeAttribute('data-jsid');}c('DataStore').set(k,'XHPTemplate:nodes',l);}return l;};function j(k){'use strict';this._root=k;this._populateNodes();}j.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var k=this._root.getElementsByTagName('*');for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute('data-jsid');if(o){n.removeAttribute('data-jsid');this._nodes[o]=n;this._leaves[o]=!n.childNodes.length;}}};j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype.getNode=function(k){'use strict';return this._nodes[k];};j.prototype.setNodeProperty=function(k,l,m){'use strict';this.getNode(k)[l]=m;return this;};j.prototype.setNodeContent=function(k,l){'use strict';if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c('DOM').setContent(this.getNode(k),l);return this;};f.exports=i;}),null);
__d('reportData',['Banzai','SessionName','ifRequired'],(function a(b,c,d,e,f,g){var h={retry:true};function i(j){var k=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],l={ft:k.ft||{},gt:k.gt||{}},m='-',n='r',o=c('ifRequired')('URI',function(q){return q.getRequestURI(true,true).getUnqualifiedURI().toString();},function(){return location.pathname+location.search+location.hash;}),p=[c('SessionName').getName(),Date.now(),'act',Date.now(),0,m,j,m,m,n,o,l,0,0,0,0];c('Banzai').post('eagle_eye_event',p,h);}f.exports=i;}),null);
__d('PrivacyLiteFlyoutBootloader',['regeneratorRuntime','Promise','Deferred','JSResource'],(function a(b,c,d,e,f,g){var h=false,i={loadFlyout:function j(){var k,l,m,n,o,p,q,event,r,s;return c('regeneratorRuntime').async(function t(u){while(1)switch(u.prev=u.next){case 0:if(!h){u.next=2;break;}return u.abrupt('return');case 2:h=true;u.next=5;return c('regeneratorRuntime').awrap(c('Promise').all([c('JSResource')('PrivacyLiteFlyout').__setRef('PrivacyLiteFlyoutBootloader').load(),this._getDeferredFlyoutElements().getPromise(),this._getDeferredFooterElements().getPromise()]));case 5:k=u.sent;l=k[0];m=k[1];n=m.flyout;o=m.flyoutRoot;p=k[2];q=p.footer;event=p.event;r=p.settingsExitPoint;s=p.basicsExitPoint;l.registerFlyoutToggler(n,o);l.registerSettingsAndBasicsLinkLogging(q,event,r,s);l.loadBody();case 18:case 'end':return u.stop();}},null,this);},setFlyoutVisible:function j(k){var l,m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(c('Promise').all([c('JSResource')('PrivacyLiteFlyout').__setRef('PrivacyLiteFlyoutBootloader').load(),this._getDeferredFlyoutElements().getPromise()]));case 2:l=o.sent;m=l[0];m.setFlyoutVisible(k);case 5:case 'end':return o.stop();}},null,this);},_getDeferredFlyoutElements:function j(){if(this._deferredFlyoutElements==null)this._deferredFlyoutElements=new (c('Deferred'))();return this._deferredFlyoutElements;},registerFlyoutElements:function j(k,l){this._getDeferredFlyoutElements().resolve({flyout:k,flyoutRoot:l});},_getDeferredFooterElements:function j(){if(this._deferredFooterElements==null)this._deferredFooterElements=new (c('Deferred'))();return this._deferredFooterElements;},registerFooterElements:function j(k,event,l,m){this._getDeferredFooterElements().resolve({footer:k,event:event,settingsExitPoint:l,basicsExitPoint:m});}};f.exports=i;}),null);
__d('XUIBadge',['cx','invariant','CSS','DOM'],(function a(b,c,d,e,f,g,h,i){function j(l){return parseInt(l,10)===l;}function k(l){'use strict';this.target=l.target;this.count=l.count;this.maxcount=l.maxcount;}k.prototype.getCount=function(){'use strict';return this.count;};k.prototype.setCount=function(l){'use strict';j(l)||i(0);l>=0||i(0);this.count=l;c('CSS').conditionClass(this.target,'hidden_elem',this.count===0);if(l>this.maxcount){c('DOM').setContent(this.target,this.maxcount+'+');c('CSS').addClass(this.target,"_5ugi");}else{c('DOM').setContent(this.target,l);c('CSS').removeClass(this.target,"_5ugi");}};k.prototype.setLegacyContent=function(l){'use strict';if(typeof l==='string'){c('CSS').conditionClass(this.target,'hidden_elem',l==0);c('DOM').setContent(this.target,l);c('CSS').removeClass(this.target,"_5ugi");}else this.setCount(l);};k.prototype.increment=function(){'use strict';this.setCount(this.getCount()+1);};f.exports=k;}),null);
__d('ServiceWorkerRegistration',['Promise','ClientServiceWorkerMessage'],(function a(b,c,d,e,f,g){var h='serviceWorker' in navigator;function i(){var k=navigator.serviceWorker;if(!h||!k)throw new Error('serviceWorker is not supported in this browser');return k;}var j={isSupported:function k(){return h;},registerWorkerIfUnregistered:function k(l){var m=i();return new (c('Promise'))(function(n,o){this.getWorkerRegistration(l).done(function(p){if(!p){c('Promise').resolve(m.register(l,{useCache:true})).done(function(){c('Promise').resolve(m.ready).done(n);});}else n(p);});}.bind(this));},unregisterControllingWorker:function k(){return new (c('Promise'))(function(l,m){var n=new (c('ClientServiceWorkerMessage'))('unregister',{},function(){l(true);});n.sendViaController();});},getWorkerRegistration:function k(l){var m=i();return c('Promise').resolve(m.getRegistration(l));},isAWorkerActivated:function k(){if(!navigator.serviceWorker||!navigator.serviceWorker.getRegistration)return c('Promise').resolve(false);return navigator.serviceWorker.getRegistration().then(function(l){return !!(l&&l.active);});}};f.exports=j;}),null);